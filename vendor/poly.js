"document"in self&&("classList"in document.createElement("_")&&void 0!=document.createElementNS&&"classList"in document.createElementNS("http://www.w3.org/2000/svg","_")||!function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],i=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},u=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=u[n]=[],f=function(){return new u(this)};if(s[n]=Error[n],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",l(this,e)!==-1},c.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do e=t[n]+"",l(this,e)===-1&&(this.push(e),i=!0);while(++n<r);i&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do for(e=n[r]+"",t=l(this,e);t!==-1;)this.splice(t,1),o=!0,t=l(this,e);while(++r<i);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),r=n?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),t===!0||t===!1?t:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var h={get:f,enumerable:!0,configurable:!0};try{i.defineProperty(r,t,h)}catch(d){d.number===-2146823252&&(h.enumerable=!1,i.defineProperty(r,t,h))}}else i[n].__defineGetter__&&r.__defineGetter__(t,f)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}());var _hasOwnProperty=Object.prototype.hasOwnProperty;Element.prototype.matchesSelector||(Element.prototype.matchesSelector=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||function(e){if(!e)return!1;if("*"===e)return!0;if(this===document.documentElement&&":root"===e)return!0;if(this===document.body&&"body"===e)return!0;var t,n,r,i,o=this,a=!1;if(/^[\w#\.][\w-]*$/.test(e)||/^(\.[\w-]*)+$/.test(e))switch(e.charAt(0)){case"#":return o.id===e.slice(1);case".":for(a=!0,n=-1,i=e.slice(1).split("."),r=" "+o.className+" ";i[++n]&&a;)a=!!~r.indexOf(" "+i[n]+" ");return a;default:return o.tagName&&o.tagName.toUpperCase()===e.toUpperCase()}if(t=o.parentNode,t&&t.querySelector&&(a=t.querySelector(e)===o),!a&&(t=o.ownerDocument)){i=t.querySelectorAll(e);for(n in i)if(_hasOwnProperty(i,n)&&(a=i[n]===o))return!0}return a}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector),function(e,t,n,r){"use strict";function i(e,t,n){return setTimeout(u(e,n),t)}function o(e,t,n){return!!Array.isArray(e)&&(a(e,n[t],n),!0)}function a(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==r)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function s(t,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,i,r),t.apply(this,arguments)}}function l(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&fe(r,n)}function u(e,t){return function(){return e.apply(t,arguments)}}function c(e,t){return typeof e==pe?e.apply(t?t[0]||r:r,t):e}function f(e,t){return e===r?t:e}function h(e,t,n){a(_(t),function(t){e.addEventListener(t,n,!1)})}function d(e,t,n){a(_(t),function(t){e.removeEventListener(t,n,!1)})}function p(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function _(e){return e.trim().split(/\s+/g)}function g(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function v(e){return Array.prototype.slice.call(e,0)}function y(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];g(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function b(e,t){for(var n,i,o=t[0].toUpperCase()+t.slice(1),a=0;a<he.length;){if(n=he[a],i=n?n+o:t,i in e)return i;a++}return r}function w(){return be++}function E(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function T(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){c(e.options.enable,[e])&&n.handler(t)},this.init()}function C(e){var t,n=e.options.inputClass;return new(t=n?n:Te?D:Ce?H:Ee?z:M)(e,k)}function k(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&Ie&&r-i===0,a=t&(Ae|Pe)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,S(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function S(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=N(t)),i>1&&!n.firstMultiple?n.firstMultiple=N(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=I(r);t.timeStamp=ge(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=L(s,l),t.distance=P(s,l),x(n,t),t.offsetDirection=A(t.deltaX,t.deltaY);var u=R(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=_e(u.x)>_e(u.y)?u.x:u.y,t.scale=a?$(a.pointers,r):1,t.rotation=a?j(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,O(n,t);var c=e.element;p(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function x(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Ie&&o.eventType!==Ae||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function O(e,t){var n,i,o,a,s=e.lastInterval||t,l=t.timeStamp-s.timeStamp;if(t.eventType!=Pe&&(l>Ne||s.velocity===r)){var u=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,f=R(l,u,c);i=f.x,o=f.y,n=_e(f.x)>_e(f.y)?f.x:f.y,a=A(u,c),e.lastInterval=t}else n=s.velocity,i=s.velocityX,o=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=o,t.direction=a}function N(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:me(e.pointers[n].clientX),clientY:me(e.pointers[n].clientY)},n++;return{timeStamp:ge(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:me(e[0].clientX),y:me(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:me(n/t),y:me(r/t)}}function R(e,t,n){return{x:t/e||0,y:n/e||0}}function A(e,t){return e===t?Le:_e(e)>=_e(t)?e<0?je:$e:t<0?Me:De}function P(e,t,n){n||(n=Ve);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function L(e,t,n){n||(n=Ve);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function j(e,t){return L(t[1],t[0],ze)+L(e[1],e[0],ze)}function $(e,t){return P(t[0],t[1],ze)/P(e[0],e[1],ze)}function M(){this.evEl=We,this.evWin=qe,this.pressed=!1,T.apply(this,arguments)}function D(){this.evEl=Ye,this.evWin=Ke,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Je,this.evWin=Ze,this.started=!1,T.apply(this,arguments)}function B(e,t){var n=v(e.touches),r=v(e.changedTouches);return t&(Ae|Pe)&&(n=y(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=tt,this.targetIds={},T.apply(this,arguments)}function V(e,t){var n=v(e.touches),r=this.targetIds;if(t&(Ie|Re)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=v(e.changedTouches),s=[],l=this.target;if(o=n.filter(function(e){return p(e.target,l)}),t===Ie)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(Ae|Pe)&&delete r[a[i].identifier],i++;return s.length?[y(o.concat(s),"identifier",!0),s]:void 0}function z(){T.apply(this,arguments);var e=u(this.handler,this);this.touch=new H(this.manager,e),this.mouse=new M(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function U(e,t){e&Ie?(this.primaryTouch=t.changedPointers[0].identifier,W.call(this,t)):e&(Ae|Pe)&&W.call(this,t)}function W(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,nt)}}function q(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=rt&&a<=rt)return!0}return!1}function X(e,t){this.manager=e,this.set(t)}function G(e){if(m(e,ut))return ut;var t=m(e,ct),n=m(e,ft);return t&&n?ut:t||n?t?ct:ft:m(e,lt)?lt:st}function Y(){if(!ot)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=!n||e.CSS.supports("touch-action",r)}),t}function K(e){this.options=fe({},this.defaults,e||{}),this.id=w(),this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=dt,this.simultaneous={},this.requireFail=[]}function Q(e){return e&vt?"cancel":e&_t?"end":e&mt?"move":e&pt?"start":""}function J(e){return e==De?"down":e==Me?"up":e==je?"left":e==$e?"right":""}function Z(e,t){var n=t.manager;return n?n.get(e):e}function ee(){K.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ne(){ee.apply(this,arguments)}function re(){K.apply(this,arguments),this._timer=null,this._input=null}function ie(){ee.apply(this,arguments)}function oe(){ee.apply(this,arguments)}function ae(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=f(t.recognizers,se.defaults.preset),new le(e,t)}function le(e,t){this.options=fe({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=C(this),this.touchAction=new X(this,this.options.touchAction),ue(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ue(e,t){var n=e.element;if(n.style){var r;a(e.options.cssProps,function(i,o){r=b(n.style,o),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function ce(e,n){var r=t.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var fe,he=["","webkit","Moz","MS","ms","o"],de=t.createElement("div"),pe="function",me=Math.round,_e=Math.abs,ge=Date.now;fe="function"!=typeof Object.assign?function(e){if(e===r||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t}:Object.assign;var ve=s(function(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;)(!n||n&&e[i[o]]===r)&&(e[i[o]]=t[i[o]]),o++;return e},"extend","Use `assign`."),ye=s(function(e,t){return ve(e,t,!0)},"merge","Use `assign`."),be=1,we=/mobile|tablet|ip(ad|hone|od)|android/i,Ee="ontouchstart"in e,Te=b(e,"PointerEvent")!==r,Ce=Ee&&we.test(navigator.userAgent),ke="touch",Se="pen",xe="mouse",Oe="kinect",Ne=25,Ie=1,Re=2,Ae=4,Pe=8,Le=1,je=2,$e=4,Me=8,De=16,Fe=je|$e,Be=Me|De,He=Fe|Be,Ve=["x","y"],ze=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(E(this.element),this.evWin,this.domHandler)}};var Ue={mousedown:Ie,mousemove:Re,mouseup:Ae},We="mousedown",qe="mousemove mouseup";l(M,T,{handler:function(e){var t=Ue[e.type];t&Ie&&0===e.button&&(this.pressed=!0),t&Re&&1!==e.which&&(t=Ae),this.pressed&&(t&Ae&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:xe,srcEvent:e}))}});var Xe={pointerdown:Ie,pointermove:Re,pointerup:Ae,pointercancel:Pe,pointerout:Pe},Ge={2:ke,3:Se,4:xe,5:Oe},Ye="pointerdown",Ke="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ye="MSPointerDown",Ke="MSPointerMove MSPointerUp MSPointerCancel"),l(D,T,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Xe[r],o=Ge[e.pointerType]||e.pointerType,a=o==ke,s=g(t,e.pointerId,"pointerId");i&Ie&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(Ae|Pe)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Qe={touchstart:Ie,touchmove:Re,touchend:Ae,touchcancel:Pe},Je="touchstart",Ze="touchstart touchmove touchend touchcancel";l(F,T,{handler:function(e){var t=Qe[e.type];if(t===Ie&&(this.started=!0),this.started){var n=B.call(this,e,t);t&(Ae|Pe)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ke,srcEvent:e})}}});var et={touchstart:Ie,touchmove:Re,touchend:Ae,touchcancel:Pe},tt="touchstart touchmove touchend touchcancel";l(H,T,{handler:function(e){var t=et[e.type],n=V.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ke,srcEvent:e})}});var nt=2500,rt=25;l(z,T,{handler:function(e,t,n){var r=n.pointerType==ke,i=n.pointerType==xe;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)U.call(this,t,n);else if(i&&q.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var it=b(de.style,"touchAction"),ot=it!==r,at="compute",st="auto",lt="manipulation",ut="none",ct="pan-x",ft="pan-y",ht=Y();X.prototype={set:function(e){e==at&&(e=this.compute()),ot&&this.manager.element.style&&ht[e]&&(this.manager.element.style[it]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){c(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),G(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,i=m(r,ut)&&!ht[ut],o=m(r,ft)&&!ht[ft],a=m(r,ct)&&!ht[ct];if(i){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}return a&&o?void 0:i||o&&n&Fe||a&&n&Be?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var dt=1,pt=2,mt=4,_t=8,gt=_t,vt=16,yt=32;K.prototype={defaults:{},set:function(e){return fe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Z(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=Z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=Z(e,this),g(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=Z(e,this);var t=g(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;r<_t&&t(n.options.event+Q(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=_t&&t(n.options.event+Q(r))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|dt)))return!1;e++}return!0},recognize:function(e){var t=fe({},e);return c(this.options.enable,[this,t])?(this.state&(gt|vt|yt)&&(this.state=dt),this.state=this.process(t),void(this.state&(pt|mt|_t|vt)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(e){},getTouchAction:function(){},reset:function(){}},l(ee,K,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(pt|mt),i=this.attrTest(e);return r&&(n&Pe||!i)?t|vt:r||i?n&Ae?t|_t:t&pt?t|mt:pt:yt}}),l(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:He},getTouchAction:function(){var e=this.options.direction,t=[];return e&Fe&&t.push(ft),e&Be&&t.push(ct),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&Fe?(i=0===o?Le:o<0?je:$e,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?Le:a<0?Me:De,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&pt||!(this.state&pt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=J(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),l(ne,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&pt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),l(re,K,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Ae|Pe)&&!o)this.reset();else if(e.eventType&Ie)this.reset(),this._timer=i(function(){this.state=gt,this.tryEmit()},t.time,this);else if(e.eventType&Ae)return gt;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===gt&&(e&&e.eventType&Ae?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ge(),this.manager.emit(this.options.event,this._input)))}}),l(ie,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&pt)}}),l(oe,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Fe|Be,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Fe|Be)?t=e.overallVelocity:n&Fe?t=e.overallVelocityX:n&Be&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&_e(t)>this.options.velocity&&e.eventType&Ae},emit:function(e){var t=J(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),l(ae,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[lt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Ie&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=Ae)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||P(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=i(function(){this.state=gt,this.tryEmit()},t.interval,this),pt):gt}return yt},failTimeout:function(){return this._timer=i(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==gt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.7",se.defaults={domEvents:!1,touchAction:at,enable:!0,inputTarget:null,inputClass:null,preset:[[ie,{enable:!1}],[ne,{enable:!1},["rotate"]],[oe,{direction:Fe}],[te,{direction:Fe},["swipe"]],[ae],[ae,{event:"doubletap",taps:2},["tap"]],[re]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var bt=1,wt=2;le.prototype={set:function(e){return fe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?wt:bt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&gt)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],t.stopped===wt||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(pt|mt|_t)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof K)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=g(t,e);n!==-1&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==r&&t!==r){var n=this.handlers;return a(_(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==r){var n=this.handlers;return a(_(e),function(e){t?n[e]&&n[e].splice(g(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ce(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},fe(se,{INPUT_START:Ie,INPUT_MOVE:Re,INPUT_END:Ae,INPUT_CANCEL:Pe,STATE_POSSIBLE:dt,STATE_BEGAN:pt,STATE_CHANGED:mt,STATE_ENDED:_t,STATE_RECOGNIZED:gt,STATE_CANCELLED:vt,STATE_FAILED:yt,DIRECTION_NONE:Le,DIRECTION_LEFT:je,DIRECTION_RIGHT:$e,DIRECTION_UP:Me,DIRECTION_DOWN:De,DIRECTION_HORIZONTAL:Fe,DIRECTION_VERTICAL:Be,DIRECTION_ALL:He,Manager:le,Input:T,TouchAction:X,TouchInput:H,MouseInput:M,PointerEventInput:D,TouchMouseInput:z,SingleTouchInput:F,Recognizer:K,AttrRecognizer:ee,Tap:ae,Pan:te,Swipe:oe,Pinch:ne,Rotate:ie,Press:re,on:h,off:d,each:a,merge:ye,extend:ve,assign:fe,inherit:l,bindFn:u,prefixed:b});var Et="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};Et.Hammer=se,"function"==typeof define&&define.amd?define(function(){return se}):"undefined"!=typeof module&&module.exports?module.exports=se:e[n]=se}(window,document,"Hammer"),function(){function e(n,r){if(n=n?n:"",r=r||{},n instanceof e)return n;if(!(this instanceof e))return new e(n,r);var i=t(n);this._originalInput=n,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=D(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=D(this._r)),this._g<1&&(this._g=D(this._g)),this._b<1&&(this._b=D(this._b)),this._ok=i.ok,this._tc_id=$++}function t(e){var t={r:0,g:0,b:0},r=1,o=!1,s=!1;return"string"==typeof e&&(e=P(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=n(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=I(e.s),e.v=I(e.v),t=a(e.h,e.s,e.v),o=!0,s="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=I(e.s),e.l=I(e.l),t=i(e.h,e.s,e.l),o=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=T(r),{ok:o,format:e.format||s,r:F(255,B(t.r,0)),g:F(255,B(t.g,0)),b:F(255,B(t.b,0)),a:r}}function n(e,t,n){return{r:255*C(e,255),g:255*C(t,255),b:255*C(n,255)}}function r(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=B(e,t,n),a=F(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function i(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,a;if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)i=o=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=r(l,s,e+1/3),o=r(l,s,e),a=r(l,s,e-1/3)}return{r:255*i,g:255*o,b:255*a}}function o(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=B(e,t,n),a=F(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function a(e,t,n){e=6*C(e,360),t=C(t,100),n=C(n,100);var r=M.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,u=[n,a,o,o,s,n][l],c=[s,n,n,a,o,o][l],f=[o,o,s,n,n,a][l];return{r:255*u,g:255*c,b:255*f}}function s(e,t,n,r){var i=[N(D(e).toString(16)),N(D(t).toString(16)),N(D(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function l(e,t,n,r){var i=[N(R(r)),N(D(e).toString(16)),N(D(t).toString(16)),N(D(n).toString(16))];return i.join("")}function u(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.s-=n/100,r.s=k(r.s),e(r)}function c(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.s+=n/100,r.s=k(r.s),e(r)}function f(t){return e(t).desaturate(100)}function h(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.l+=n/100,r.l=k(r.l),e(r)}function d(t,n){n=0===n?0:n||10;var r=e(t).toRgb();return r.r=B(0,F(255,r.r-D(255*-(n/100)))),r.g=B(0,F(255,r.g-D(255*-(n/100)))),r.b=B(0,F(255,r.b-D(255*-(n/100)))),e(r)}function p(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.l-=n/100,r.l=k(r.l),e(r)}function m(t,n){var r=e(t).toHsl(),i=(D(r.h)+n)%360;return r.h=i<0?360+i:i,e(r)}function _(t){var n=e(t).toHsl();return n.h=(n.h+180)%360,e(n)}function g(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+120)%360,s:n.s,l:n.l}),e({h:(r+240)%360,s:n.s,l:n.l})]}function v(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+90)%360,s:n.s,l:n.l}),e({h:(r+180)%360,s:n.s,l:n.l}),e({h:(r+270)%360,s:n.s,l:n.l})]}function y(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+72)%360,s:n.s,l:n.l}),e({h:(r+216)%360,s:n.s,l:n.l})]}function b(t,n,r){n=n||6,r=r||30;var i=e(t).toHsl(),o=360/r,a=[e(t)];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,a.push(e(i));return a}function w(t,n){n=n||6;for(var r=e(t).toHsv(),i=r.h,o=r.s,a=r.v,s=[],l=1/n;n--;)s.push(e({h:i,s:o,v:a})),a=(a+l)%1;return s}function E(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(e,t){x(e)&&(e="100%");var n=O(e);return e=F(t,B(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),M.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function k(e){return F(1,B(0,e))}function S(e){return parseInt(e,16)}function x(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function O(e){return"string"==typeof e&&e.indexOf("%")!=-1}function N(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function R(e){return Math.round(255*parseFloat(e)).toString(16)}function A(e){return S(e)/255}function P(e){e=e.replace(L,"").replace(j,"").toLowerCase();var t=!1;if(V[e])e=V[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=U.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=U.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=U.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=U.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=U.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=U.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=U.hex8.exec(e))?{a:A(n[1]),r:S(n[2]),g:S(n[3]),b:S(n[4]),format:t?"name":"hex8"}:(n=U.hex6.exec(e))?{r:S(n[1]),g:S(n[2]),b:S(n[3]),format:t?"name":"hex"}:!!(n=U.hex3.exec(e))&&{r:S(n[1]+""+n[1]),g:S(n[2]+""+n[2]),b:S(n[3]+""+n[3]),format:t?"name":"hex"}}var L=/^[\s,#]+/,j=/\s+$/,$=0,M=Math,D=M.round,F=M.min,B=M.max,H=M.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=T(e),this._roundA=D(100*this._a)/100,this},toHsv:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=o(this._r,this._g,this._b),t=D(360*e.h),n=D(100*e.s),r=D(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=D(360*e.h),n=D(100*e.s),i=D(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return s(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:D(this._r),g:D(this._g),b:D(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+D(this._r)+", "+D(this._g)+", "+D(this._b)+")":"rgba("+D(this._r)+", "+D(this._g)+", "+D(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:D(100*C(this._r,255))+"%",g:D(100*C(this._g,255))+"%",b:D(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+D(100*C(this._r,255))+"%, "+D(100*C(this._g,255))+"%, "+D(100*C(this._b,255))+"%)":"rgba("+D(100*C(this._r,255))+"%, "+D(100*C(this._g,255))+"%, "+D(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var n="#"+l(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=e(t);r=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return i?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),
this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},e.fromRatio=function(t,n){if("object"==typeof t){var r={};for(var i in t)t.hasOwnProperty(i)&&("a"===i?r[i]=t[i]:r[i]=I(t[i]));t=r}return e(t,n)},e.equals=function(t,n){return!(!t||!n)&&e(t).toRgbString()==e(n).toRgbString()},e.random=function(){return e.fromRatio({r:H(),g:H(),b:H()})},e.mix=function(t,n,r){r=0===r?0:r||50;var i,o=e(t).toRgb(),a=e(n).toRgb(),s=r/100,l=2*s-1,u=a.a-o.a;i=l*u==-1?l:(l+u)/(1+l*u),i=(i+1)/2;var c=1-i,f={r:a.r*i+o.r*c,g:a.g*i+o.g*c,b:a.b*i+o.b*c,a:a.a*s+o.a*(1-s)};return e(f)},e.readability=function(t,n){var r=e(t),i=e(n),o=r.toRgb(),a=i.toRgb(),s=r.getBrightness(),l=i.getBrightness(),u=Math.max(o.r,a.r)-Math.min(o.r,a.r)+Math.max(o.g,a.g)-Math.min(o.g,a.g)+Math.max(o.b,a.b)-Math.min(o.b,a.b);return{brightness:Math.abs(s-l),color:u}},e.isReadable=function(t,n){var r=e.readability(t,n);return r.brightness>125&&r.color>500},e.mostReadable=function(t,n){for(var r=null,i=0,o=!1,a=0;a<n.length;a++){var s=e.readability(t,n[a]),l=s.brightness>125&&s.color>500,u=3*(s.brightness/125)+s.color/500;(l&&!o||l&&o&&u>i||!l&&!o&&u>i)&&(o=l,i=u,r=e(n[a]))}return r};var V=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=e.hexNames=E(V),U=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.tinycolor=e}(),function(e){"use strict";var t=e.Ractive,n=function(){var e={el:void 0,append:!1,template:{v:1,t:[]},"yield":null,preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1};return e}(),r={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}},i=[],o=Object.prototype.hasOwnProperty,a=function(){var e=Object.prototype.toString;return function(t){return"[object Array]"===e.call(t)}}(),s=function(){var e=Object.prototype.toString;return function(t){return t&&"[object Object]"===e.call(t)}}(),l=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},u=function(e,t,n,r,i){var o,a,s;return e.push(function(){a=e.interpolate}),s=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(e,t){var n;return i(e)&&i(t)?(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e}):null},array:function(e,t){var r,i,o,s;if(!n(e)||!n(t))return null;for(r=[],i=[],s=o=Math.min(e.length,t.length);s--;)i[s]=a(e[s],t[s]);for(s=o;s<e.length;s+=1)r[s]=e[s];for(s=o;s<t.length;s+=1)r[s]=t[s];return function(e){for(var t=o;t--;)r[t]=i[t](e);return r}},object:function(e,n){var i,o,s,l,u;if(!r(e)||!r(n))return null;i=[],l={},s={};for(u in e)t.call(e,u)&&(t.call(n,u)?(i.push(u),s[u]=a(e[u],n[u])):l[u]=e[u]);for(u in n)t.call(n,u)&&!t.call(e,u)&&(l[u]=n[u]);return o=i.length,function(e){for(var t,n=o;n--;)t=i[n],l[t]=s[t](e);return l}}}}(i,o,a,s,l),c=function(){var e;return e="undefined"!=typeof document&&(document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))}(),f=function(){var e,t={};return e="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(e,n){if(!n){if(t[e])return;t[e]=!0}console.warn("%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){}}(),h={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.'},d=function(e,t){function n(e){var n=t[e.message]||e.message||"";return r(n,e.args)}function r(e,t){return e.replace(/{([^{}]*)}/g,function(e,n){return t[n]})}var i={warn:function(e,t){(e.debug||t)&&this.warnAlways(e)},warnAlways:function(e){this.logger(n(e),e.allowDuplicates)},error:function(e){this.errorOnly(e),e.debug||this.warn(e,!0)},errorOnly:function(e){e.debug&&this.critical(e)},critical:function(e){var t=e.err||new Error(n(e));this.thrower(t)},logger:e,thrower:function(e){throw e}};return i}(f,h),p=function(e){function t(e){this.event=e,this.method="on"+e,this.deprecate=n[e]}var n={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};return t.prototype.fire=function(t,n){function r(e){if(t[e])return n?t[e](n):t[e](),!0}r(this.method),!t[this.method]&&this.deprecate&&r(this.deprecate.deprecated)&&e.warnAlways({debug:t.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),n?t.fire(this.event,n):t.fire(this.event)},t}(d),m=function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},_=function(){function e(e){setTimeout(e,0)}function t(e,t){return function(){for(var n;n=e.shift();)n(t)}}function n(e,t,r,o){var a;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof i)t.then(r,o);else if(!t||"object"!=typeof t&&"function"!=typeof t)r(t);else{try{a=t.then}catch(s){return void o(s)}if("function"==typeof a){var l,u,c;u=function(t){l||(l=!0,n(e,t,r,o))},c=function(e){l||(l=!0,o(e))};try{a.call(t,u,c)}catch(s){if(!l)return o(s),void(l=!0)}}else r(t)}}var r,i,o={},a={},s={};return"function"==typeof _?i=_:(i=function(r){var l,u,c,f,h,d,p=[],m=[],_=o;c=function(n){return function(r){_===o&&(l=r,_=n,u=t(_===a?p:m,l),e(u))}},f=c(a),h=c(s);try{r(f,h)}catch(g){h(g)}return d={then:function(t,r){var a=new i(function(i,s){var l=function(e,t,r){"function"==typeof e?t.push(function(t){var r;try{r=e(t),n(a,r,i,s)}catch(o){s(o)}}):t.push(r)};l(t,p,i),l(r,m,s),_!==o&&e(u)});return a}},d["catch"]=function(e){return this.then(null,e)},d},i.all=function(e){return new i(function(t,n){var r,i,o,a=[];if(!e.length)return void t(a);for(o=function(i){e[i].then(function(e){a[i]=e,--r||t(a)},n)},r=i=e.length;i--;)o(i)})},i.resolve=function(e){return new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})}),r=i}(),g=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(t){return(t||"").replace(e,".$1")}}(),v=function(e){do if(void 0!==e.context)return e.context;while(e=e.parent);return""},y=function(e,t){return null===e&&null===t||"object"!=typeof e&&"object"!=typeof t&&e===t},b=function(e,t){function n(e,t){var n=e.computations[t];return!n||n.setter}var r;e.push(function(){return r=e.runloop});var i=function(e,t,n,r){var i=this;this.root=e,this.keypath=t,this.otherInstance=n,this.otherKeypath=r,this.lock=function(){return i.updating=!0},this.unlock=function(){return i.updating=!1},this.bind(),this.value=this.root.viewmodel.get(this.keypath)};return i.prototype={isLocked:function(){return this.updating||this.counterpart&&this.counterpart.updating},shuffle:function(e,t){this.propagateChange(t,e)},setValue:function(e){this.propagateChange(e)},propagateChange:function(e,i){var o;return this.isLocked()?void(this.value=e):void(t(e,this.value)||(this.lock(),r.addViewmodel(o=this.otherInstance.viewmodel)||this.counterpart.value===e||r.scheduleTask(function(){return r.addViewmodel(o)}),i?o.smartUpdate(this.otherKeypath,e,i):n(o,this.otherKeypath)&&o.set(this.otherKeypath,e),this.value=e,r.scheduleTask(this.unlock)))},refineValue:function(e){var t,n=this;this.isLocked()||(this.lock(),r.addViewmodel(t=this.otherInstance.viewmodel),e.map(function(e){return n.otherKeypath+e.substr(n.keypath.length)}).forEach(function(e){return t.mark(e)}),r.scheduleTask(this.unlock))},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(e){this.unbind(),this.keypath=e,this.counterpart.otherKeypath=e,this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}},function(e,t,n,r){var o,a,s,l,u;o=n+"="+r,s=e.bindings,s[o]||(a=e.instance,l=new i(t,n,a,r),s.push(l),a.twoway&&(u=new i(a,r,t,n),s.push(u),l.counterpart=u,u.counterpart=l),s[o]=l)}}(i,y),w=function(e,t,n){function r(e,t){var n;if("."===t)return e;if(n=e?e.split("."):[],"../"===t.substr(0,3)){for(;"../"===t.substr(0,3);){if(!n.length)throw new Error(o);n.pop(),t=t.substring(3)}return n.push(t),n.join(".")}return e?e+t.replace(/^\.\//,"."):t.replace(/^\.\/?/,"")}var i,o,a;return o='Could not resolve reference - too many "../" prefixes',a={evaluateWrapped:!0},i=function s(i,o,l,u){var c,f,h,d,p,m,_,g,v,y;if(o=e(o),"~/"===o.substr(0,2))return o.substring(2);if("."===o.charAt(0))return r(t(l),o);f=o.split(".")[0],l=l||{};do if(c=l.context,c&&(m=!0,p=i.viewmodel.get(c,a),p&&("object"==typeof p||"function"==typeof p)&&f in p))return c+"."+o;while(l=l.parent);if(f in i.data||f in i.viewmodel.computations)return o;if(i._parent&&!i.isolated){if(m=!0,l=i.component.parentFragment,l.indexRefs&&void 0!==(h=l.indexRefs[o]))return i.component.indexRefBindings[o]=o,void i.viewmodel.set(o,h,!0);if(d=s(i._parent,o,l,!0)){for(_=d.split("."),g=o.split(".");_.length>1&&g.length>1&&_[_.length-1]===g[g.length-1];)_.pop(),g.pop();return v=_.join("."),y=g.join("."),i.viewmodel.set(y,i._parent.viewmodel.get(v),!0),n(i.component,i._parent,v,y),o}}return u||m?void 0!==i.viewmodel.get(o)?o:void 0:(i.viewmodel.set(o,void 0),o)}}(g,v,b),E=function(e){function t(e){e.detach()}function n(e){e.detachNodes()}function r(e){!e.ready||e.outros.length||e.outroChildren||(e.outrosComplete||(e.parent?e.parent.decrementOutros(e):e.detachNodes(),e.outrosComplete=!0),e.intros.length||e.totalChildren||("function"==typeof e.callback&&e.callback(),e.parent&&e.parent.decrementTotal()))}var i=function(e,t){this.callback=e,this.parent=t,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,t&&t.addChild(this)};return i.prototype={addChild:function(e){this.children.push(e),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,r(this)},decrementTotal:function(){this.totalChildren-=1,r(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},remove:function(t){var n=t.isIntro?this.intros:this.outros;e(n,t),r(this)},init:function(){this.ready=!0,r(this)},detachNodes:function(){this.detachQueue.forEach(t),this.children.forEach(n)}},i}(m),T=function(e,t,n,r,i,o){function a(){var e,t,n;for(e=0;e<c.viewmodels.length;e+=1)t=c.viewmodels[e],n=t.applyChanges(),n&&d.fire(t.ractive,n);for(c.viewmodels.length=0,s(),e=0;e<c.views.length;e+=1)c.views[e].update();for(c.views.length=0,e=0;e<c.tasks.length;e+=1)c.tasks[e]();if(c.tasks.length=0,c.viewmodels.length)return a()}function s(){var e,t,n,r;for(e=h.length;e--;)t=h[e],t.keypath&&h.splice(e,1),(n=i(t.root,t.ref,t.parentFragment))&&((r||(r=[])).push({item:t,keypath:n}),h.splice(e,1));r&&r.forEach(l)}function l(e){e.item.resolve(e.keypath)}var u,c,f,h=[],d=new t("change");return f={start:function(e,t){var n,i;return t&&(n=new r(function(e){return i=e})),c={previousBatch:c,transitionManager:new o(i,c&&c.transitionManager),views:[],tasks:[],viewmodels:[],instance:e},e&&c.viewmodels.push(e.viewmodel),n},end:function(){a(),c.transitionManager.init(),!c.previousBatch&&c.instance&&(c.instance.viewmodel.changes=[]),c=c.previousBatch},addViewmodel:function(e){return c?c.viewmodels.indexOf(e)===-1&&(c.viewmodels.push(e),!0):(e.applyChanges(),!1)},registerTransition:function(e){e._manager=c.transitionManager,c.transitionManager.add(e)},addView:function(e){c.views.push(e)},addUnresolved:function(e){h.push(e)},removeUnresolved:function(e){n(h,e)},detachWhenReady:function(e){c.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(c){for(n=c;t&&n.previousBatch;)n=n.previousBatch;n.tasks.push(e)}else e()}},e.runloop=f,u=f}(i,p,m,_,w,E),C=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}(),k=function(e,t,n){function r(t,n,r){function i(t){var r,i;t.value=n,t.updating||(i=t.ractive,r=t.keypath,t.updating=!0,e.start(i),i.viewmodel.mark(r),e.end(),t.updating=!1)}var o,a,s,l,u,c;if(o=t.obj,a=t.prop,r&&!r.configurable){if("length"===a)return;throw new Error('Cannot use magic mode with property "'+a+'" - object is not configurable')}r&&(s=r.get,l=r.set),u=s||function(){return n},c=function(e){l&&l(e),n=s?s():e,c._ractiveWrappers.forEach(i)},c._ractiveWrappers=[t],Object.defineProperty(o,a,{get:u,set:c,enumerable:!0,configurable:!0})}var i,o,a;try{Object.defineProperty({},"test",{value:0}),o={filter:function(e,t,r){var i,o,a,s,l;return!!t&&(i=t.split("."),o=i.pop(),a=i.join("."),!((s=r.viewmodel.wrapped[a])&&!s.magic)&&(l=r.get(a),(!n(l)||!/^[0-9]+$/.test(o))&&(l&&("object"==typeof l||"function"==typeof l))))},wrap:function(e,t,n){return new a(e,t,n)}},a=function(e,t,n){var i,o,a,s;return this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,i=n.split("."),this.prop=i.pop(),o=i.join("."),this.obj=o?e.get(o):e.data,a=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),a&&a.set&&(s=a.set._ractiveWrappers)?void(s.indexOf(this)===-1&&s.push(this)):void r(this,t,a)},a.prototype={get:function(){return this.value},reset:function(t){this.updating||(this.updating=!0,this.obj[this.prop]=t,e.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath),this.updating=!1)},set:function(e,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=t(e),this.updating=!1),this.obj[this.prop][e]=n)},teardown:function(){var e,t,n,r,i;return!this.updating&&(e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set,void(t&&(r=t._ractiveWrappers,i=r.indexOf(this),i!==-1&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(s){o=!1}return i=o}(T,C,a),S=function(e){return!!e}(k),x={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O=function(e,t){var n;return n=e?function(e,n){return n&&n!==t.html?document.createElementNS(n,e):document.createElement(e)}:function(e,n){if(n&&n!==t.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)}}(c,x),N=function(){var e="object"==typeof document;return e}(),I=function(e){var t;try{Object.defineProperty({},"test",{value:0}),e&&Object.defineProperty(document.createElement("div"),"test",{value:0}),t=Object.defineProperty}catch(n){t=function(e,t,n){e[t]=n.value}}return t}(N),R=function(e,t,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}n&&Object.defineProperties(e("div"),{test:{value:0}}),r=Object.defineProperties}catch(i){r=function(e,n){var r;for(r in n)n.hasOwnProperty(r)&&t(e,r,n[r])}}return r}(O,I,N),A=function(e){return function(t,n,r){var i;if("string"!=typeof n||!e(r))throw new Error("Bad arguments");if(i=+t.get(n)||0,!e(i))throw new Error("Cannot add to a non-numeric value");return t.set(n,i+r)}}(l),P=function(e){return function(t,n){return e(this,t,void 0===n?1:+n)}}(A),L=function(e){var t=/^\.+/;return function(n){return e(n).replace(t,"")}}(g),j=["o","ms","moz","webkit"],$=function(e){var t;return"undefined"==typeof window?t=null:(!function(e,t,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<e.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(e){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-t)),o=i(function(){e(n+r)},r),t=n+r,o})}}(e,0,window),t=window.requestAnimationFrame),t}(j),M=function(){var e;return e="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),D=function(e,t,n){var r=[],i={tick:function(){var o,a,s;for(s=t(),n.start(),o=0;o<r.length;o+=1)a=r[o],a.tick(s)||r.splice(o--,1);n.end(),r.length?e(i.tick):i.running=!1},add:function(t){r.push(t),i.running||(i.running=!0,e(i.tick))},abort:function(e,t){for(var n,i=r.length;i--;)n=r[i],n.root===t&&n.keypath===e&&n.stop()}};return i}($,M,T),F=function(){function e(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function t(e){return e.str}var n,r=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,i=/\/\*.*?\*\//g,o=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,a=/^@media/,s=/\[data-rvcguid="[a-z0-9-]+"]/g;return n=function(n,l){var u,c;return c=function(e){var n,r,i,a,s,u,c,f,h=[];for(n=[];r=o.exec(e);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(a='[data-rvcguid="'+l+'"]',s=n.map(t),f=n.length;f--;)c=s.slice(),i=n[f],c[f]=i.base+a+i.modifiers||"",u=s.slice(),u[f]=a+" "+u[f],h.push(c.join(" "),u.join(" "));return h.join(", ")},u=s.test(n)?n.replace(s,'[data-rvcguid="'+l+'"]'):n.replace(i,"").replace(r,function(t,n){var r,i;return a.test(n)?t:(r=n.split(",").map(e),i=r.map(c).join(", ")+" ",t.replace(n,i))})}}(),B=function(e){function t(e,t,r){var i,o=t.constructor._guid;(i=n(r.css,r,o)||n(e.css,e,o))&&(t.constructor.css=i)}function n(t,n,r){if(t)return n.noCssTransform?t:e(t,r)}var r={name:"css",extend:t,init:function(){}};return r}(F),H=function(){function e(e,t){return"function"==typeof t&&/_super/.test(e)}var t;return t=function(t,n,r){return r||e(t,n)?function(){var e,r="_super"in this,i=this._super;return this._super=n,e=t.apply(this,arguments),r&&(this._super=i),e}:t}}(),V=function(e){function t(e,t,n){var r=n.data||{},i=o(e.prototype.data);if("object"!=typeof r&&"function"!=typeof r)throw new TypeError('data option must be an object or a function, "'+r+'" is not valid');return a(i,r)}function n(e,n,r){n.data=t(e,n,r)}function r(e,n,r){var i=r.data,o=t(e,n,r);return"function"==typeof o&&(o=o.call(n,i)||i),n.data=o||{}}function i(e){var t=this.init(e.constructor,e,e);if(t)return e.data=t,!0}function o(e){if("function"!=typeof e||!Object.keys(e).length)return e;var t={};return s(e,t),a(e,t)}function a(e,t){return"function"==typeof t?c(t,e):"function"==typeof e?u(t,e):l(t,e)}function s(e,t,n){for(var r in e)n&&r in t||(t[r]=e[r])}function l(e,t){return e=e||{},t?(s(t,e,!0),e):e}function u(e,t){return function(n){var r;if(e){r=[];for(var i in e)n&&i in n||r.push(i)}return n=t.call(this,n)||n,r&&r.length&&(n=n||{},r.forEach(function(t){n[t]=e[t]})),n}}function c(t,n){var r;return r="function"!=typeof n?function(e){l(e,n)}:function(t){return n=e(n,function(){},!0),n.call(this,t)||t},e(t,r)}var f,h={name:"data",extend:n,init:r,reset:i};return f=h}(H),z={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53,SECTION_IF_WITH:54},U=function(){var e;try{Object.create(null),e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;return null===t?{}:(e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r)}}()}return e}(),W={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},q=function(e){var t=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;return(r=n.matchPattern(t))?{t:e.NUMBER_LITERAL,v:r}:null}}(z),X=function(e){return function(t){var n=t.remaining();return"true"===n.substr(0,4)?(t.pos+=4,{t:e.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(t.pos+=5,{t:e.BOOLEAN_LITERAL,v:"false"}):null}}(z),G=function(){var e,t,n;return e=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,t=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,function(r){return function(i){var o,a,s,l;for(o=i.pos,a='"',s=!1;!s;)l=i.matchPattern(e)||i.matchPattern(t)||i.matchString(r),l?a+='"'===l?'\\"':"\\'"===l?"'":l:(l=i.matchPattern(n),l?a+="\\u"+("000"+l.charCodeAt(1).toString(16)).slice(-4):s=!0);return a+='"',JSON.parse(a)}}}(),Y=function(e){return e('"')}(G),K=function(e){return e("'")}(G),Q=function(e,t,n){return function(r){var i,o;return i=r.pos,r.matchString('"')?(o=n(r),r.matchString('"')?{t:e.STRING_LITERAL,v:o}:(r.pos=i,null)):r.matchString("'")?(o=t(r),r.matchString("'")?{t:e.STRING_LITERAL,v:o}:(r.pos=i,null)):null}}(z,Y,K),J={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/},Z=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=e(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=t(i))?o.v:(o=i.matchPattern(n.name))?o:void 0}}(Q,q,J),ee=function(e,t){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=t(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.matchString(":")?(n.allowWhitespace(),o=n.readExpression(),null===o?(n.pos=r,null):{t:e.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}(z,Z),te=function(e){return function t(n){var r,i,o,a;return r=n.pos,o=e(n),null===o?null:(i=[o],n.matchString(",")?(a=t(n),a?i.concat(a):(n.pos=r,null)):i)}}(ee),ne=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("{")?(i=t(n),n.allowWhitespace(),n.matchString("}")?{t:e.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(z,te),re=function(e){return function t(n){function r(e){o.push(e)}var i,o,a,s;return i=n.pos,n.allowWhitespace(),a=n.readExpression(),null===a?null:(o=[a],n.allowWhitespace(),n.matchString(",")&&(s=t(n),null===s&&n.error(e.expectedExpression),s.forEach(r)),o)}}(W),ie=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("[")?(i=t(n),n.matchString("]")?{t:e.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(z,re),oe=function(e,t,n,r,i){return function(o){var a=e(o)||t(o)||n(o)||r(o)||i(o);return a}}(q,X,Q,ne,ie),ae=function(e,t){var n,r,i,o,a;return n=/^\.[a-zA-Z_$0-9]+/,i=function(e){var t=e.matchPattern(r);return t?"."+t:null},r=/^\[(0|[1-9][0-9]*)\]/,o=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,a=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/,function(r){var s,l,u,c,f,h,d;if(s=r.pos,r.matchString("~/"))l="~/";else for(l="";r.matchString("../");)l+="../";if(l||(c=r.matchString("./")||r.matchString(".")||""),u=r.matchPattern(/^@(?:keypath|index|key)/)||r.matchPattern(t.name)||"",a.test(u))return r.pos=s,null;if(!l&&!c&&o.test(u))return{t:e.GLOBAL,v:u};if(f=(l||c)+u,!f)return null;for(;h=r.matchPattern(n)||i(r);)f+=h;return r.matchString("(")&&(d=f.lastIndexOf("."),d!==-1?(f=f.substr(0,d),r.pos=s+f.length):r.pos-=1),{t:e.REFERENCE,n:f.replace(/^this\./,"./").replace(/^this$/,".")}}}(z,J),se=function(e,t){return function(n){var r,i;return r=n.pos,n.matchString("(")?(n.allowWhitespace(),i=n.readExpression(),i||n.error(t.expectedExpression),n.allowWhitespace(),n.matchString(")")||n.error(t.expectedParen),{t:e.BRACKETED,x:i}):null}}(z,W),le=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(oe,ae,se),ue=function(e,t,n){return function(r){var i,o,a;if(i=r.pos,r.allowWhitespace(),r.matchString(".")){if(r.allowWhitespace(),o=r.matchPattern(n.name))return{t:e.REFINEMENT,n:o};r.error("Expected a property name")}return r.matchString("[")?(r.allowWhitespace(),a=r.readExpression(),a||r.error(t.expectedExpression),r.allowWhitespace(),r.matchString("]")||r.error("Expected ']'"),{t:e.REFINEMENT,x:a}):null}}(z,W,J),ce=function(e,t,n,r,i){return function(o){var a,s,l,u;if(s=t(o),!s)return null;for(;s;)if(a=o.pos,l=r(o))s={t:e.MEMBER,x:s,r:l};else{if(!o.matchString("("))break;o.allowWhitespace(),u=n(o),o.allowWhitespace(),o.matchString(")")||o.error(i.expectedParen),s={t:e.INVOCATION,x:s},u&&(s.o=u)}return s}}(z,le,re,ue,W),fe=function(e,t,n){var r,i;return i=function(n,r){return function(i){var o;return(o=r(i))?o:i.matchString(n)?(i.allowWhitespace(),o=i.readExpression(),o||i.error(t.expectedExpression),{s:n,o:o,t:e.PREFIX_OPERATOR}):null}},function(){var e,t,o,a,s;for(a="! ~ + - typeof".split(" "),s=n,e=0,t=a.length;e<t;e+=1)o=i(a[e],s),s=o;r=s}(),r}(z,W,ce),he=function(e,t){var n,r;return r=function(t,n){return function(r){var i,o,a;if(o=n(r),!o)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.matchString(t))return r.pos=i,o;if("in"===t&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,o;if(r.allowWhitespace(),a=n(r),!a)return r.pos=i,o;o={t:e.INFIX_OPERATOR,s:t,o:[o,a]}}}},function(){var e,i,o,a,s;for(a="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),s=t,e=0,i=a.length;e<i;e+=1)o=r(a[e],s),s=o;n=s}(),n}(z,fe),de=function(e,t,n){return function(r){var i,o,a,s;return(o=t(r))?(i=r.pos,r.allowWhitespace(),r.matchString("?")?(r.allowWhitespace(),a=r.readExpression(),a||r.error(n.expectedExpression),r.allowWhitespace(),r.matchString(":")||r.error('Expected ":"'),r.allowWhitespace(),s=r.readExpression(),s||r.error(n.expectedExpression),{t:e.CONDITIONAL,o:[o,a,s]}):(r.pos=i,o)):null}}(z,he,W),pe=function(e,t){function n(e){return JSON.stringify(String(e))}function r(n,i){var o,a;if(n.t===e.REFERENCE&&i.indexOf(n.n)===-1&&i.unshift(n.n),a=n.o||n.m)if(t(a))r(a,i);else for(o=a.length;o--;)r(a[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(t,r,o){var a=function(e){return i(t,e,o)};switch(r.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return r.v;case e.STRING_LITERAL:return n(r.v);case e.ARRAY_LITERAL:return"["+(r.m?r.m.map(a).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(r.m?r.m.map(a).join(","):"")+"}";case e.KEY_VALUE_PAIR:return r.k+":"+i(t,r.v,o);case e.PREFIX_OPERATOR:
return("typeof"===r.s?"typeof ":r.s)+i(t,r.o,o);case e.INFIX_OPERATOR:return i(t,r.o[0],o)+("in"===r.s.substr(0,2)?" "+r.s+" ":r.s)+i(t,r.o[1],o);case e.INVOCATION:return i(t,r.x,o)+"("+(r.o?r.o.map(a).join(","):"")+")";case e.BRACKETED:return"("+i(t,r.x,o)+")";case e.MEMBER:return i(t,r.x,o)+i(t,r.r,o);case e.REFINEMENT:return r.n?"."+r.n:"["+i(t,r.x,o)+"]";case e.CONDITIONAL:return i(t,r.o[0],o)+"?"+i(t,r.o[1],o)+":"+i(t,r.o[2],o);case e.REFERENCE:return"_"+o.indexOf(r.n);default:t.error("Expected legal JavaScript")}}var o;return o=function(e){var t,n=[];return r(e,n),t={r:n,s:i(this,e,n)}}}(z,s),me=function(e,t,n,r,i){var o,a,s=/^\s+/;return a=function(e){this.name="ParseError",this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}},a.prototype=Error.prototype,o=function(e,t){var n,r,i=0;for(this.str=e,this.options=t||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(e){var t=i+e.length+1;return i=t,t},0),this.init&&this.init(e,t),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},o.prototype={read:function(e){var t,n,r,i;for(e||(e=this.converters),t=this.pos,r=e.length,n=0;n<r;n+=1)if(this.pos=t,i=e[n](this))return i;return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(e){for(var t,n=0,r=0;e>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return t=e-r,[n+1,t+1,e]},error:function(e){var t,n,r,i,o,s;throw t=this.getLinePos(this.pos),n=t[0],r=t[1],i=this.lines[t[0]-1],o=i+"\n"+new Array(t[1]).join(" ")+"^----",s=new a(e+" at line "+n+" character "+r+":\n"+o),s.line=t[0],s.character=t[1],s.shortMessage=e,s},matchString:function(e){if(this.str.substr(this.pos,e.length)===e)return this.pos+=e.length,e},matchPattern:function(e){var t;if(t=e.exec(this.remaining()))return this.pos+=t[0].length,t[1]||t[0]},allowWhitespace:function(){this.matchPattern(s)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},o.extend=function(e){var r,i,a=this;r=function(e,t){o.call(this,e,t)},r.prototype=t(a.prototype);for(i in e)n.call(e,i)&&(r.prototype[i]=e[i]);return r.extend=o.extend,r},e.Parser=o,o}(i,U,o,de,pe),_e=function(){var e=/^[^\s=]+/,t=/^\s+/;return function(n){var r,i,o;return n.matchString("=")?(r=n.pos,n.allowWhitespace(),(i=n.matchPattern(e))?n.matchPattern(t)?(o=n.matchPattern(e))?(n.allowWhitespace(),n.matchString("=")?[i,o]:(n.pos=r,null)):(n.pos=r,null):null:(n.pos=r,null)):null}}(),ge=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],ve=function(e){var t={"#":e.SECTION,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];return n?(e.pos+=1,n):null}}(z),ye=function(e){return{each:e.SECTION_EACH,"if":e.SECTION_IF,"if-with":e.SECTION_IF_WITH,"with":e.SECTION_WITH,unless:e.SECTION_UNLESS}}(z),be=null,we=function(e,t,n){function r(t,n,r){var o;if(n){for(;n.t===e.BRACKETED&&n.x;)n=n.x;return n.t===e.REFERENCE?r.r=n.n:n.t===e.NUMBER_LITERAL&&l.test(n.v)?r.r=n.v:(o=i(t,n))?r.rx=o:r.x=t.flattenExpression(n),r}}function i(t,n){for(var r,i=[];n.t===e.MEMBER&&n.r.t===e.REFINEMENT;)r=n.r,r.x?r.x.t===e.REFERENCE?i.unshift(r.x):i.unshift(t.flattenExpression(r.x)):i.unshift(r.n),n=n.x;return n.t!==e.REFERENCE?null:{r:n.n,m:i}}var o,a,s=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,l=/^[0-9][1-9]*$/,u=new RegExp("^("+Object.keys(n).join("|")+")\\b");return a=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/,o=function(n,i){var o,l,c,f,h,d,p,m,_,g;if(o=n.pos,c={},g=n[i.delimiters],i.isStatic&&(c.s=!0),i.isTriple)c.t=e.TRIPLE;else{if("!"===n.remaining()[0]){try{d=n.readExpression(),n.allowWhitespace(),n.remaining().indexOf(g[1])?d=null:c.t=e.INTERPOLATOR}catch(v){}if(!d)return _=n.remaining().indexOf(g[1]),~_?n.pos+=_:n.error("Expected closing delimiter ('"+g[1]+"')"),{t:e.COMMENT}}if(!d)if(f=t(n),c.t=f||e.INTERPOLATOR,f===e.SECTION)(h=n.matchPattern(u))&&(c.n=h),n.allowWhitespace();else if((f===e.COMMENT||f===e.CLOSING)&&(m=n.remaining(),_=m.indexOf(g[1]),_!==-1))return c.r=m.substr(0,_).split(" ")[0],n.pos+=_,c}if(!d){n.allowWhitespace(),d=n.readExpression();var y;if(c.t===e.PARTIAL&&d&&(y=n.readExpression())&&(c={contextPartialExpression:d},d=y),m=n.remaining(),m.substr(0,g[1].length)!==g[1]&&":"!==m.charAt(0)){if(l=n.pos,n.pos=o,m=n.remaining(),_=m.indexOf(g[1]),_!==-1)return c.r=m.substr(0,_).trim(),a.test(c.r)||n.error("Expected a legal Mustache reference"),n.pos+=_,c;n.pos=l}}return r(n,d,c),c.contextPartialExpression&&(c.contextPartialExpression=[r(n,c.contextPartialExpression,{t:e.PARTIAL})]),(p=n.matchPattern(s))&&(c.i=p),c}}(z,ve,ye,be),Ee=function(e,t,n,r,i){function o(e){var t;return e.interpolate[e.inside]===!1?null:(t=n.slice().sort(function(t,n){return e[n.delimiters][0].length-e[t.delimiters][0].length}),function r(n){return n?a(e,n)||r(t.shift()):null}(t.shift()))}function a(n,o){var a,l,c,f,h,d,p,m;if(a=n.pos,c=n[o.delimiters],!n.matchString(c[0]))return null;if(l=t(n))return n.matchString(c[1])?(n[o.delimiters]=l,u):null;if(n.allowWhitespace(),l=r(n,o),null===l)return n.pos=a,null;if(n.allowWhitespace(),n.matchString(c[1])||n.error("Expected closing delimiter '"+c[1]+"' after reference"),l.t===e.COMMENT&&(l.exclude=!0),l.t===e.CLOSING&&(n.sectionDepth-=1,n.sectionDepth<0&&(n.pos=a,n.error("Attempted to close a section that wasn't open"))),l.contextPartialExpression)l.f=l.contextPartialExpression,l.t=e.SECTION,l.n="with",delete l.contextPartialExpression;else if(s(l)){for(n.sectionDepth+=1,f=[],p=f,h=l.n;m=n.read();){if(m.t===e.CLOSING){h&&m.r!==h&&n.error("Expected {{/"+h+"}}");break}if(m.t===e.INTERPOLATOR&&"else"===m.r){if("unless"!==l.n){p=d=[];continue}n.error("{{else}} not allowed in {{#unless}}")}p.push(m)}f.length&&(l.f=f),d&&d.length&&(l.l=d,"with"===l.n&&(l.n="if-with"))}return n.includeLinePositions&&(l.p=n.getLinePos(a)),l.n?l.n=i[l.n]:l.t===e.INVERTED&&(l.t=e.SECTION,l.n=e.SECTION_UNLESS),l}function s(t){return t.t===e.SECTION||t.t===e.INVERTED}var l,u={t:e.DELIMCHANGE,exclude:!0};return l=o}(z,_e,ge,we,ye),Te=function(e){var t="<!--",n="-->";return function(r){var i,o,a,s,l;return i=r.pos,r.matchString(t)?(a=r.remaining(),s=a.indexOf(n),s===-1&&r.error("Illegal HTML - expected closing comment sequence ('-->')"),o=a.substr(0,s),r.pos+=s+3,l={t:e.COMMENT,c:o},r.includeLinePositions&&(l.p=r.getLinePos(i)),l):null}}(z),Ce=function(){var e=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return e}(),ke=function(e,t){var n,r,i;for(n=t.length;n--;){if(r=e.indexOf(t[n]),!r)return 0;r!==-1&&(!i||r<i)&&(i=r)}return i||-1},Se=function(){function e(e){return e?10===e?32:e<128?e:e<=159?r[e-128]:e<55296?e:e<=57343?65533:e<=65535?e:65533:65533}var t,n,r,i;return n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],i=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(n).join("|")+"));?","g"),t=function(t){return t.replace(i,function(t,r){var i;return i="#"!==r[0]?n[r]:"x"===r[1]?parseInt(r.substring(2),16):parseInt(r.substring(1),10),i?String.fromCharCode(e(i)):t})}}(be),xe=function(e,t){return function(n){var r,i,o,a;return i=n.remaining(),a=n.inside?"</"+n.inside:"<",n.inside&&!n.interpolate[n.inside]?r=i.indexOf(a):(o=[n.delimiters[0],n.tripleDelimiters[0],n.staticDelimiters[0],n.staticTripleDelimiters[0]],n.inAttribute===!0?o.push('"',"'","=","<",">","`"):n.inAttribute?o.push(n.inAttribute):o.push(a),r=e(i,o)),r?(r===-1&&(r=i.length),n.pos+=r,n.inside?i.substr(0,r):t(i.substr(0,r))):null}}(ke,Se),Oe=function(e){var t=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;return function(n){var r;return n.matchString("</")?(r=n.matchPattern(t))?{t:e.CLOSING_TAG,e:r}:(n.pos-=2,void n.error("Illegal closing tag")):null}}(z),Ne=function(e,t,n){function r(e){var t,n,r;return e.allowWhitespace(),(n=e.matchPattern(c))?(t={name:n},r=i(e),r&&(t.value=r),t):null}function i(e){var t,r,i,o;return t=e.pos,e.allowWhitespace(),e.matchString("=")?(e.allowWhitespace(),r=e.pos,i=e.sectionDepth,o=s(e,"'")||s(e,'"')||a(e),e.sectionDepth!==i&&(e.pos=r,e.error("An attribute value must contain as many opening section tags as closing section tags")),null===o?(e.pos=t,null):o.length?1===o.length&&"string"==typeof o[0]?n(o[0]):o:null):(e.pos=t,null)}function o(t){var n,r,i,o,a;return n=t.pos,(r=t.matchPattern(f))?(i=r,o=[t.delimiters[0],t.tripleDelimiters[0],t.staticDelimiters[0],t.staticTripleDelimiters[0]],(a=e(i,o))!==-1&&(r=r.substr(0,a),t.pos=n+r.length),r):null}function a(e){var n,r;for(e.inAttribute=!0,n=[],r=t(e)||o(e);null!==r;)n.push(r),r=t(e)||o(e);return n.length?(e.inAttribute=!1,n):null}function s(e,n){var r,i,o;if(r=e.pos,!e.matchString(n))return null;for(e.inAttribute=n,i=[],o=t(e)||l(e,n);null!==o;)i.push(o),o=t(e)||l(e,n);return e.matchString(n)?(e.inAttribute=!1,i):(e.pos=r,null)}function l(t,n){var r,i,o,a;return r=t.pos,o=t.remaining(),a=[n,t.delimiters[0],t.tripleDelimiters[0],t.staticDelimiters[0],t.staticTripleDelimiters[0]],i=e(o,a),i===-1&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,o.substr(0,i)):null}var u,c=/^[^\s"'>\/=]+/,f=/^[^\s"'=<>`]+/;return u=r}(ke,Ee,Se),Ie=function(e,t,n){function r(e){var t,r,i;return e.allowWhitespace(),(t=n(e))?(i={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),(r=e.read())?(i.value=r.v,i):null):null):null}var i,o,a,s,l,u,c;return o={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(o).join("|")+")"),s=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,l=/\$\{([^\}]+)\}/g,u=/^\$\{([^\}]+)\}/,c=/^\s*$/,i=e.extend({init:function(e,t){this.values=t.values,this.allowWhitespace()},postProcess:function(e){return 1===e.length&&c.test(this.leftover)?{value:e[0].v}:null},converters:[function(e){var t;return e.values?(t=e.matchPattern(u),t&&e.values.hasOwnProperty(t)?{v:e.values[t]}:void 0):null},function(e){var t;if(t=e.matchPattern(a))return{v:o[t]}},function(e){var t;if(t=e.matchPattern(s))return{v:+t}},function(e){var n,r=t(e);return r&&(n=e.values)?{v:r.v.replace(l,function(e,t){return t in n?n[t]:t})}:r},function(e){var t,n;if(!e.matchString("{"))return null;if(t={},e.allowWhitespace(),e.matchString("}"))return{v:t};for(;n=r(e);){if(t[n.key]=n.value,e.allowWhitespace(),e.matchString("}"))return{v:t};if(!e.matchString(","))return null}return null},function(e){var t,n;if(!e.matchString("["))return null;if(t=[],e.allowWhitespace(),e.matchString("]"))return{v:t};for(;n=e.read();){if(t.push(n.v),e.allowWhitespace(),e.matchString("]"))return{v:t};if(!e.matchString(","))return null;e.allowWhitespace()}return null}]}),function(e,t){var n=new i(e,{values:t});return n.result}}(me,Q,Z),Re=function(e,t,n,r){var i,o=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;return i=e.extend({converters:[t]}),function(e){var t,a,s,l,u,c,f,h,d;if("string"==typeof e){if(a=o.exec(e))return t={m:a[1]},l="["+e.slice(t.m.length+1,-1)+"]",s=new i(l),t.a=n(s.result[0]),t;if(e.indexOf(":")===-1)return e.trim();e=[e]}if(t={},f=[],h=[],e){for(;e.length;)if(u=e.shift(),"string"==typeof u){if(c=u.indexOf(":"),c!==-1){c&&f.push(u.substr(0,c)),u.length>c+1&&(h[0]=u.substring(c+1));break}f.push(u)}else f.push(u);h=h.concat(e)}return f.length?h.length||"string"!=typeof f?(t={n:1===f.length&&"string"==typeof f[0]?f[0]:f},1===h.length&&"string"==typeof h[0]?(d=r("["+h[0]+"]"),t.a=d?d.value:h[0].trim()):t.d=h):t=f:t="",t}}(me,de,pe,Ie),Ae=function(e,t,n,r,i,o,a,s){function l(r){var i,o,l,c,h,b,w,E,T,C,k;if(i=r.pos,r.inside||r.inAttribute)return null;if(!r.matchString("<"))return null;if("/"===r.nextChar())return null;if(o={t:e.ELEMENT},r.includeLinePositions&&(o.p=r.getLinePos(i)),r.matchString("!")&&(o.y=1),o.e=r.matchPattern(d),!o.e)return null;for(p.test(r.nextChar())||r.error("Illegal tag name"),b=function(e,t){var n=t.n||t;g.test(n)&&(r.pos-=n.length,r.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),o.v[e]=t},r.allowWhitespace();w=n(r)||a(r);)w.name?(c=v[w.name])?o[c]=s(w.value):(h=_.exec(w.name))?(o.v||(o.v={}),E=s(w.value),b(h[1],E)):r.sanitizeEventAttributes&&m.test(w.name)||(o.a||(o.a={}),o.a[w.name]=w.value||0):(o.m||(o.m=[]),o.m.push(w)),r.allowWhitespace();if(r.allowWhitespace(),r.matchString("/")&&(T=!0),!r.matchString(">"))return null;if(l=o.e.toLowerCase(),!T&&!t.test(o.e)){for("script"!==l&&"style"!==l||(r.inside=l),C=[];u(l,r.remaining())&&(k=r.read(f))&&k.t!==e.CLOSING&&k.t!==e.CLOSING_TAG;)C.push(k);C.length&&(o.f=C)}return r.inside=null,r.sanitizeElements&&r.sanitizeElements.indexOf(l)!==-1?y:o}function u(e,t){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t),r=h[e],!n||!r||!~r.indexOf(n[1].toLowerCase())}var c,f,h,d=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,p=/^[\s\n\/>]/,m=/^on/,_=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,g=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,v={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},y={exclude:!0};return f=[n,r,l,i,o],h={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]},c=l}(z,Ce,Ee,Te,xe,Oe,Ne,Re),Pe=function(){var e=/^[ \t\f\r\n]+/,t=/[ \t\f\r\n]+$/;return function(n,r,i){var o;r&&(o=n[0],"string"==typeof o&&(o=o.replace(e,""),o?n[0]=o:n.shift())),i&&(o=n[n.length-1],"string"==typeof o&&(o=o.replace(t,""),o?n[n.length-1]=o:n.pop()))}}(),Le=function(e){function t(e){return"string"==typeof e}function n(t){return t.t===e.COMMENT||t.t===e.DELIMCHANGE}function r(t){return(t.t===e.SECTION||t.t===e.INVERTED)&&t.f}var i,o=/^\s*\r?\n/,a=/\r?\n\s*$/;return i=function(e){var i,s,l,u,c;for(i=1;i<e.length;i+=1)s=e[i],l=e[i-1],u=e[i-2],t(s)&&n(l)&&t(u)&&a.test(u)&&o.test(s)&&(e[i-2]=u.replace(a,"\n"),e[i]=s.replace(o,"")),r(s)&&t(l)&&a.test(l)&&t(s.f[0])&&o.test(s.f[0])&&(e[i-1]=l.replace(a,"\n"),s.f[0]=s.f[0].replace(o,"")),t(s)&&r(l)&&(c=l.f[l.f.length-1],t(c)&&a.test(c)&&o.test(s)&&(l.f[l.f.length-1]=c.replace(a,"\n"),e[i]=s.replace(o,"")));return e}}(z),je=function(){var e=/[-\/\\^$*+?.()|[\]{}]/g;return function(t){return t.replace(e,"\\$&")}}(),$e=function(e,t,n,r,i,o,a,s,l){function u(t,n,r,i,o,l){var c,f,h,d,v,y,b,w,E;for(s(t),c=t.length;c--;)f=t[c],f.exclude?t.splice(c,1):n&&f.t===e.COMMENT&&t.splice(c,1);for(a(t,i,o),c=t.length;c--;)if(f=t[c],f.f&&(v=r||f.t===e.ELEMENT&&m.test(f.e),v||(h=t[c-1],d=t[c+1],(!h||"string"==typeof h&&g.test(h))&&(y=!0),(!d||"string"==typeof d&&_.test(d))&&(b=!0)),u(f.f,n,v,y,b,l)),f.l&&(u(f.l,n,r,y,b,l),l&&(w={t:4,n:e.SECTION_UNLESS,f:f.l},f.r&&(w.r=f.r),f.x&&(w.x=f.x),f.rx&&(w.rx=f.rx),t.splice(c+1,0,w),delete f.l)),f.a)for(E in f.a)f.a.hasOwnProperty(E)&&"string"!=typeof f.a[E]&&u(f.a[E],n,r,y,b,l);for(c=t.length;c--;)"string"==typeof t[c]&&("string"==typeof t[c+1]&&(t[c]=t[c]+t[c+1],t.splice(c+1,1)),r||(t[c]=t[c].replace(p," ")),""===t[c]&&t.splice(c,1))}function c(e){var t=arguments[1];void 0===t&&(t=e),t.delimiters=e.delimiters||["{{","}}"],t.tripleDelimiters=e.tripleDelimiters||["{{{","}}}"],t.staticDelimiters=e.staticDelimiters||["[[","]]"],t.staticTripleDelimiters=e.staticTripleDelimiters||["[[[","]]]"]}var f,h,d,p=/[ \t\f\r\n]+/g,m=/^(?:pre|script|style|textarea)$/i,_=/^\s+/,g=/\s+$/;return h=t.extend({init:function(e,t){c(t,this),this.sectionDepth=0,this.interpolate={script:!t.interpolate||t.interpolate.script!==!1,style:!t.interpolate||t.interpolate.style!==!1},t.sanitize===!0&&(t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=t.sanitize&&t.sanitize.elements,this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes,this.includeLinePositions=t.includeLinePositions},postProcess:function(e,t){return this.sectionDepth>0&&this.error("A section was left open"),u(e,t.stripComments!==!1,t.preserveWhitespace,!t.preserveWhitespace,!t.preserveWhitespace,t.rewriteElse!==!1),e},converters:[n,r,i,o]}),d=function(e){var t=arguments[1];void 0===t&&(t={});var n,r,i,o,a,s,u,f;if(c(t),u=new RegExp("<!--\\s*"+l(t.delimiters[0])+"\\s*>\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+l(t.delimiters[1])+"\\s*-->"),f=new RegExp("<!--\\s*"+l(t.delimiters[0])+"\\s*\\/\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+l(t.delimiters[1])+"\\s*-->"),n={v:1},u.test(e)){for(r=e,e="";a=u.exec(r);){if(o=a[1],e+=r.substr(0,a.index),r=r.substring(a.index+a[0].length),s=f.exec(r),!s||s[1]!==o)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+o+'", but '+(s?'instead found "'+s[1]+'"':" no closing found"));(i||(i={}))[o]=new h(r.substr(0,s.index),t).result,r=r.substring(s.index+s[0].length)}e+=r,n.p=i}return n.t=new h(e,t).result,n},f=d}(z,me,Ee,Te,Ae,xe,Pe,Le,je),Me=function(){return function(e,t){var n=e.map(t);return e.forEach(function(e,t){n[e]=n[t]}),n}}(be),De=function(e){var t,n;return t=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],n=e(t,function(e){return e})}(Me),Fe=function(e,t,n,r,i){function o(e){var t=r(f);return t.parse=function(t,n){return a(t,n||e)},t}function a(t,r){if(!n)throw new Error(e.missingParser);return n(t,r||this.options)}function s(e,n){var r;if(!t){if(n&&n.noThrow)return;throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(l(e)&&(e=e.substring(1)),!(r=document.getElementById(e))){if(n&&n.noThrow)return;throw new Error("Could not find template element with id #"+e)}if("SCRIPT"!==r.tagName.toUpperCase()){if(n&&n.noThrow)return;throw new Error("Template element with id #"+e+", must be a <script> element")}return r.innerHTML}function l(e){return e&&"#"===e.charAt(0)}function u(e){return!("string"==typeof e)}function c(e){return e.defaults&&(e=e.defaults),i.reduce(function(t,n){return t[n]=e[n],t},{})}var f={parse:a,fromId:s,isHashedId:l,isParsed:u,getParseOptions:c,createHelper:o};return f}(h,N,$e,U,De),Be=function(e,t){function n(e){var t,n=e._config.template;if(n&&n.fn)return t=r(e,n.fn),t!==n.result?(n.result=t,t=i(t,e)):void 0}function r(t,n){var r=e.createHelper(e.getParseOptions(t));return n.call(t,t.data,r)}function i(n,r){if("string"==typeof n)"#"===n[0]&&(n=e.fromId(n)),n=t(n,e.getParseOptions(r));else if(1!==n.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return n}function o(e,t,n){if(t)for(var r in t)!n&&e.hasOwnProperty(r)||(e[r]=t[r])}var a={name:"template",extend:function(e,t,n){var r;"template"in n&&(r=n.template,"function"==typeof r?t.template=r:t.template=i(r,t))},init:function(e,t,n){var a,s;a="template"in n?n.template:e.prototype.template,"function"==typeof a&&(s=a,a=r(t,s),t._config.template={fn:s,result:a}),a=i(a,t),t.template=a.t,a.p&&o(t.partials,a.p)},reset:function(e){var t,r=n(e);if(r)return t=i(r,e),e.template=t.t,o(e.partials,t.p,!0),!0}};return a}(Fe,$e),He=function(e){function t(e,t){this.name=e,this.useDefaults=t}function n(e,t){var r,i;return(r=t(e))?r:!e.isolated&&(i=e._parent)?n(i,t):void 0}return t.prototype={constructor:t,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,t,n)},configure:function(t,n,r){var i,o=this.name,a=r[o];i=e(t[o]);for(var s in a)i[s]=a[s];n[o]=i},reset:function(e){var t=e[this.name],n=!1;return Object.keys(t).forEach(function(e){var r=t[e];r._fn&&(r._fn.isOwner?t[e]=r._fn:delete t[e],n=!0)}),n},findOwner:function(e,t){return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e.constructor,t)},findConstructor:function(e,t){if(e)return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e._parent,t)},find:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]})},findInstance:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]?e:void 0})}},t}(U,be),Ve=function(e,t){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=e(n,function(e){return new t(e,"computed"===e)});return r}(Me,He),ze=function(){},Ue=function(e){function t(t,n){var r;if(n in t){var i=t[n];r="function"==typeof i?i:function(){return i}}else r=e;return r}var n;return n=function(e,n,r){if(!/_super/.test(r))return r;var i=function(){var e,o=t(i._parent,n),a="_super"in this,s=this._super;return this._super=o,e=r.apply(this,arguments),a?this._super=s:delete this._super,e};return i._parent=e,i._method=r,i}}(ze),We=function(e,t){function n(t,n,i){if(n in t){if(i in t)throw new Error(r(n,i,!0));e(r(n,i)),t[i]=t[n]}}function r(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function i(e){n(e,"eventDefinitions","events")}function o(e){t(e.adaptors)&&n(e,"adaptors","adapt")}return function(e){n(e,"beforeInit","onconstruct"),n(e,"init","onrender"),n(e,"complete","oncomplete"),i(e),o(e)}}(f,a),qe=function(e,t,n,r,i,o,a,s){function l(e,t,n,r,i){h[t][e](n,r,i)}function u(e){return e in n&&!(e in p.parseOptions)&&!(e in h)}function c(e,t,n,r){s(r),l(e,"data",t,n,r),p.parseOptions.forEach(function(e){e in r&&(n[e]=r[e])});for(var i in r)if(u(i)){var o=r[i];n[i]="function"==typeof o?a(t.prototype,i,o):o}p.registries.forEach(function(i){i[e](t,n,r)}),l(e,"template",t,n,r),l(e,"css",t,n,r),f(t.prototype,n,r)}function f(e,t,n){for(var r in n)if(!(r in m)&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=a(e,r,i)),t[r]=i}}var h,d,p,m;m={_parent:!0,_component:!0},h={data:t,template:r,css:e},d=Object.keys(n).filter(function(e){return!o[e]&&!h[e]&&!i[e]}),p=[].concat(h.data,i,d,o,h.template,h.css);for(var _ in h)p[_]=h[_];return p.keys=Object.keys(n).concat(o.map(function(e){return e.name})).concat(["css"]),p.keys.forEach(function(e){return m[e]=!0}),p.parseOptions=i,p.registries=o,p.extend=function(e,t,n){c("extend",e,t,n)},p.init=function(e,t,n){c("init",e,t,n)},p.reset=function(e){return p.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})},p.getConstructTarget=function(e,t){return t.onconstruct?{onconstruct:a(e,"onconstruct",t.onconstruct).bind(e),fire:e.fire.bind(e)}:e},p}(B,V,n,Be,De,Ve,Ue,We),Xe=function(e,t,n,r){function i(e){return function(){return e}}var o,a=function(e,o,a,s){if(e===o)return i(o);if(s){var l=r.registries.interpolators.find(a,s);if(l)return l(e,o)||i(o);t('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,o)||n.array(e,o)||n.object(e,o)||i(o)};return e.interpolate=a,o=a}(i,f,u,qe),Ge=function(e,t,n){var r=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};return r.prototype={tick:function(){var n,r,i,o,a,s;return s=this.keypath,!!this.running&&(o=Date.now(),n=o-this.startTime,n>=this.duration?(null!==s&&(t.start(this.root),this.root.viewmodel.set(s,this.to),t.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),a===-1&&e("Animation was not found"),this.root._animations.splice(a,1),this.running=!1,!1):(r=this.easing?this.easing(n/this.duration):n/this.duration,null!==s&&(i=this.interpolator(r),t.start(this.root),this.root.viewmodel.set(s,i),t.end()),this.step&&this.step(r,i),!0))},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),t===-1&&e("Animation was not found"),this.root._animations.splice(t,1)}},r}(f,T,Xe),Ye=function(e,t,n,r,i){function o(t,o,a,s){var u,c,f,h;return o&&(o=n(o)),null!==o&&(h=t.viewmodel.get(o)),r.abort(o,t),e(h,a)?(s.complete&&s.complete(s.to),l):(s.easing&&(u="function"==typeof s.easing?s.easing:t.easing[s.easing],"function"!=typeof u&&(u=null)),c=void 0===s.duration?400:s.duration,f=new i({keypath:o,from:h,to:a,root:t,duration:c,easing:u,interpolator:s.interpolator,step:s.step,complete:s.complete}),r.add(f),t._animations.push(f),f)}var a,s=function(){},l={stop:s};return a=function(e,n,r){var i,a,l,u,c,f,h,d,p,m,_,g,v,y;if(i=new t(function(e){a=e}),"object"==typeof e){r=n||{},f=r.easing,h=r.duration,c=[],d=r.step,p=r.complete,(d||p)&&(_={},r.step=null,r.complete=null,m=function(e){return function(t,n){_[e]=n}});for(l in e)e.hasOwnProperty(l)&&((d||p)&&(g=m(l),r={easing:f,duration:h},d&&(r.step=g)),r.complete=p?g:s,c.push(o(this,l,e[l],r)));return y={easing:f,duration:h},d&&(y.step=function(e){d(e,_)}),p&&i.then(function(e){p(e,_)}),y.complete=a,v=o(this,null,null,y),c.push(v),i.stop=function(){for(var e;e=c.pop();)e.stop();v&&v.stop()},i}return r=r||{},r.complete&&i.then(r.complete),r.complete=a,u=o(this,e,n,r),i.stop=function(){u.stop()},i}}(y,_,L,D,Ge),Ke=function(e,t){var n=new e("detach");return function(){return this.detached?this.detached:(this.el&&t(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),n.fire(this),this.detached)}}(p,m),Qe=function(e){return this.el?this.fragment.find(e):null},Je=function(e,t,n){var r,i,o,a,s,l,u,c;if(e){for(i=n("div"),o=["matches","matchesSelector"],c=function(e){return function(t,n){return t[e](n)}},l=o.length;l--&&!r;)if(a=o[l],i[a])r=c(a);else for(u=t.length;u--;)if(s=t[l]+a.substr(0,1).toUpperCase()+a.substring(1),i[s]){r=c(s);break}r||(r=function(e,t){var n,r,o;for(r=e.parentNode,r||(i.innerHTML="",r=i,e=e.cloneNode(),i.appendChild(e)),n=r.querySelectorAll(t),o=n.length;o--;)if(n[o]===e)return!0;return!1})}else r=null;return r}(N,j,O),Ze=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);if(r)return this.push(t.node||t.instance),n||this._makeDirty(),!0}}(Je),et=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),n!==-1&&(e.splice(n,1),e[t]=null)},tt=function(){function e(e){var t;return(t=e.parentFragment)?t.owner:e.component&&(t=e.component.parentFragment)?t.owner:void 0}function t(t){var n,r;for(n=[t],r=e(t);r;)n.push(r),r=e(r);return n}var n;return n=function(e,n){var r,i,o,a,s,l,u,c,f,h;for(r=t(e.component||e._ractive.proxy),i=t(n.component||n._ractive.proxy),o=r[r.length-1],a=i[i.length-1];o&&o===a;)r.pop(),i.pop(),s=o,o=r[r.length-1],a=i[i.length-1];if(o=o.component||o,a=a.component||a,f=o.parentFragment,h=a.parentFragment,f===h)return l=f.items.indexOf(o),u=h.items.indexOf(a),l-u||r.length-i.length;if(c=s.fragments)return l=c.indexOf(f),u=c.indexOf(h),l-u||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),nt=function(e){return function(t,n){var r;return t.compareDocumentPosition?(r=t.compareDocumentPosition(n),2&r?1:-1):e(t,n)}}(tt),rt=function(e,t){return function(){this.sort(this._isComponentQuery?t:e),this._dirty=!1}}(nt,tt),it=function(e){return function(){var t=this;this._dirty||(this._dirty=!0,e.scheduleTask(function(){t._sort()}))}}(T),ot=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);t!==-1&&this.splice(t,1)},at=function(e,t,n,r,i,o){return function(a,s,l,u){var c=[];return e(c,{selector:{value:s},live:{value:l},_isComponentQuery:{value:u},_test:{value:t}}),l?(e(c,{cancel:{value:n},_root:{value:a},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),c):c}}(R,Ze,et,rt,it,ot),st=function(e){return function(t,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[t])?n&&n.live?i:i.slice():(i=e(this,t,!!n.live,!1),i.live&&(r.push(t),r["_"+t]=i),this.fragment.findAll(t,i),i)):[]}}(at),lt=function(e){return function(t,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[t])?n&&n.live?i:i.slice():(i=e(this,t,!!n.live,!0),i.live&&(r.push(t),r["_"+t]=i),this.fragment.findAllComponents(t,i),i)}}(at),ut=function(e){return this.fragment.findComponent(e)},ct=function(){function e(e){var t,r,i,o,a,s="";if(!n[e]){for(i=[];s.length<e;)s+=1;for(t=parseInt(s,2),o=function(e){return"1"===e},a=0;a<=t;a+=1){for(r=a.toString(2);r.length<e;)r="0"+r;i[a]=Array.prototype.map.call(r,o)}n[e]=i}return n[e]}var t,n={};return t=function(t){var r,i,o,a,s,l;for(r=t.split("."),(i=n[r.length])||(i=e(r.length)),s=[],o=function(e,t){return e?"*":r[t]},a=i.length;a--;)l=i[a].map(o).join("."),s.hasOwnProperty(l)||(s.push(l),s[l]=!0);return s}}(),ft=function(e){function t(r,i,o,a){var s=arguments[4];void 0===s&&(s=!1);var l,u,c=!0;for(o&&(r.event=o),u=i.length;u>=0;u--)l=r._subs[i[u]],l&&(c=n(r,l,o,a)&&c);if(o&&delete r.event,r._parent&&c){if(s&&r.component){var f=r.component.name+"."+i[i.length-1];i=e(f),o&&(o.component=r)}t(r._parent,i,o,a)}}function n(e,t,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r));for(var a=0,s=t.length;a<s;a+=1)t[a].apply(e,r)===!1&&(o=!0);
return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}var r;return r=function(n,r){var i=arguments[2];if(void 0===i&&(i={}),r){i.event?i.event.name=r:i.event={name:r,context:n.data,keypath:"",_noArg:!0};var o=e(r);t(n,o,i.event,i.args,!0)}}}(ct),ht=function(e){return function(t){var n={args:Array.prototype.slice.call(arguments,1)};e(this,t,n)}}(ft),dt=function(e,t){var n={capture:!0};return function(r){var i;return r=e(r),i=this.viewmodel.get(r,n),void 0===i&&this._parent&&!this.isolated&&t(this,r,this.fragment)&&(i=this.viewmodel.get(r)),i}}(L,w),pt=function(e){var t;if(e&&"boolean"!=typeof e)return"undefined"!=typeof window&&document&&e?e.nodeType?e:"string"==typeof e&&(t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e)),t&&t.nodeType)?t:e[0]&&e[0].nodeType?e[0]:null:null},mt=function(e,t){function n(e){i.fire(e),e.findAllComponents("*").forEach(function(e){n(e.instance)})}var r,i=new e("insert");return r=function(e,r){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),r=t(r)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),r),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,n(this)}}(p,pt),_t=function(e,t,n){return function(r,i,o){var a,s;return r=n(r),a=this.viewmodel.get(r),t(a)&&t(i)?(s=e.start(this,!0),this.viewmodel.merge(r,a,i,o),e.end(),o&&o.complete&&s.then(o.complete),s):this.set(r,i,o&&o.complete)}}(T,a,L),gt=function(e,t){var n=function(e,t,n,r){this.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:e};return n.prototype={init:function(e){this.value=this.root.get(this.keypath),e!==!1?this.update():this.oldValue=this.value},setValue:function(n){var r=this;t(n,this.value)||(this.value=n,this.defer&&this.ready?e.scheduleTask(function(){return r.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}},n}(T,y),vt=function(e){return function(t,n){function r(n,r){var i,o,a;i=t.viewmodel.wrapped[r]?t.viewmodel.wrapped[r].get():t.get(r);for(o in i)!i.hasOwnProperty(o)||"_ractive"===o&&e(i)||(a=r?r+"."+o:o,n.push(a));return n}function i(e){return function(t){return t?t+"."+e:e}}var o,a,s;for(o=n.split("."),s=[""];a=o.shift();)"*"===a?s=s.reduce(r,[]):""===s[0]?s[0]=a:s=s.map(i(a));return s}}(a),yt=function(e){return function(t,n){var r,i;return r=e(t,n),i={},r.forEach(function(e){i[e]=t.get(e)}),i}}(vt),bt=function(e,t,n){var r,i=/\*/,o=Array.prototype.slice;return r=function(e,t,n,r){this.root=e,this.callback=n,this.defer=r.defer,this.keypath=t,this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:e},r.prototype={init:function(e){var t,r;if(t=n(this.root,this.keypath),e!==!1)for(r in t)t.hasOwnProperty(r)&&this.update(r);else this.values=t},update:function(t){var r,o=this;if(i.test(t)){r=n(this.root,t);for(t in r)r.hasOwnProperty(t)&&this.update(t)}else if(!this.root.viewmodel.implicitChanges[t])return this.defer&&this.ready?void e.scheduleTask(function(){return o.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(e){var n,r,i;return n=this.root.viewmodel.get(e),this.updating?void(this.values[e]=n):(this.updating=!0,t(n,this.values[e])&&this.ready||(r=o.call(this.regex.exec(e),1),i=[n,this.values[e],e].concat(r),this.callback.apply(this.context,i),this.values[e]=n),void(this.updating=!1))},getProxy:function(e){var t=this;return this.proxies[e]||(this.proxies[e]={update:function(){t.reallyUpdate(e)}}),this.proxies[e]}},r}(T,y,yt),wt=function(e,t,n){var r=/\*/,i={};return function(o,a,s,l){var u,c,f;return a=e(a),l=l||i,r.test(a)?(u=new n(o,a,s,l),o.viewmodel.patternObservers.push(u),c=!0):u=new t(o,a,s,l),o.viewmodel.register(a,u,c?"patternObservers":"observers"),u.init(l.init),u.ready=!0,{cancel:function(){var e;f||(c?(e=o.viewmodel.patternObservers.indexOf(u),o.viewmodel.patternObservers.splice(e,1),o.viewmodel.unregister(a,u,"patternObservers")):o.viewmodel.unregister(a,u,"observers"),f=!0)}}}}(L,gt,bt),Et=function(e,t){return function(n,r,i){var o,a,s,l;if(e(n)){i=r,a=n,o=[];for(n in a)a.hasOwnProperty(n)&&(r=a[n],o.push(this.observe(n,r,i)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",t(this,n,r,i);if(s=n.split(" "),1===s.length)return t(this,n,r,i);for(o=[],l=s.length;l--;)n=s[l],n&&o.push(t(this,n,r,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(s,wt),Tt=function(e){return e.trim()},Ct=function(e){return""!==e},kt=function(e,t){return function(n,r){var i,o=this;if(n)i=n.split(" ").map(e).filter(t),i.forEach(function(e){var t,n;(t=o._subs[e])&&(r?(n=t.indexOf(r),n!==-1&&t.splice(n,1)):o._subs[e]=[])});else for(n in this._subs)delete this._subs[n];return this}}(Tt,Ct),St=function(e,t){return function(n,r){var i,o,a,s=this,l=this;if("object"==typeof n){i=[];for(o in n)n.hasOwnProperty(o)&&i.push(this.on(o,n[o]));return{cancel:function(){for(var e;e=i.pop();)e.cancel()}}}return a=n.split(" ").map(e).filter(t),a.forEach(function(e){(s._subs[e]||(s._subs[e]=[])).push(r)}),{cancel:function(){l.off(n,r)}}}}(Tt,Ct),xt=function(){function e(e,t,n){switch(t){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=e.length+Math.max(n[0],-e.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],e.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return e.length?[e.length-1,1]:null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}}var t;return t=function(t,n,r){var i,o,a,s,l,u,c=[];if(i=e(t,n,r),!i)return null;for(o=t.length,l=i.length-2-i[1],a=Math.min(o,i[0]),s=a+i[1],u=0;u<a;u+=1)c.push(u);for(;u<s;u+=1)c.push(-1);for(;u<o;u+=1)c.push(u+l);return c}}(),Ot=function(e,t,n){var r=Array.prototype;return function(i){return function(o){var a,s,l,u,c=Array.prototype.slice,f=c.call(arguments,1),h=[];if(a=this.get(o),s=a.length,!e(a))throw new Error("Called ractive."+i+"('"+o+"'), but '"+o+"' does not refer to an array");return h=n(a,i,f),u=r[i].apply(a,f),l=t.start(this,!0).then(function(){return u}),h?this.viewmodel.smartUpdate(o,a,h):this.viewmodel.mark(o),t.end(),l}}}(a,T,xt),Nt=function(e){return e("pop")}(Ot),It=function(e){return e("push")}(Ot),Rt=function(e,t,n){var r,i,o,a,s,l,u,c="/* Ractive.js component styles */\n",f={},h=[];return t?(e.push(function(){o=e.runloop}),a=document.createElement("style"),a.type="text/css",s=document.getElementsByTagName("head")[0],u=!1,l=a.styleSheet,i=function(){var e;h.length?(e=c+h.join(" "),l?l.cssText=e:a.innerHTML=e,u||(s.appendChild(a),u=!0)):u&&(s.removeChild(a),u=!1)},r={add:function(e){e.css&&(f[e._guid]||(f[e._guid]=0,h.push(e.css),i()),f[e._guid]+=1)},remove:function(e){e.css&&(f[e._guid]-=1,f[e._guid]||(n(h,e.css),o.scheduleTask(i)))}}):r=null,r}(i,N,m),At=function(e,t,n,r){var i=new t("render"),o=new t("complete");return function(t,a){var s,l,u,c=this;if(u=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),s=r.start(this,!0),r.scheduleTask(function(){return i.fire(c)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");return t=n(t)||this.el,a=n(a)||this.anchor,this.el=t,this.anchor=a,this.constructor.css&&e.add(this.constructor),t&&((l=t.__ractive_instances__)?l.push(this):t.__ractive_instances__=[this],a?t.insertBefore(this.fragment.render(),a):t.appendChild(this.fragment.render())),r.end(),this.transitionsEnabled=u,s.then(function(){return o.fire(c)}),s}}(Rt,p,pt,T),Pt=function(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()},Lt=function(){var e;return 1===this.items.length?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e)},jt=function(e){var t,n,r,i;if(this.items){for(n=this.items.length,t=0;t<n;t+=1)if(r=this.items[t],r.find&&(i=r.find(e)))return i;return null}},$t=function(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;n<r;n+=1)i=this.items[n],i.findAll&&i.findAll(e,t);return t},Mt=function(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;n<r;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(e,t);return t},Dt=function(e){var t,n,r,i;if(this.items){for(t=this.items.length,n=0;n<t;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(e)))return i;return null}},Ft=function(e){var t,n=e.index;return t=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},Bt=function(){return this.items&&this.items[0]?this.items[0].firstNode():null},Ht=function(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.detached||this.root.el},Vt=function(e){function t(e,n,r,i){return i=i||0,e.map(function(e){var o,a,s;return e.text?e.text:e.fragments?e.fragments.map(function(e){return t(e.items,n,r,i)}).join(""):(o=r+"-"+i++,s=(a=e.root.viewmodel.wrapped[e.keypath])?a.value:e.getValue(),n[o]=s,"${"+o+"}")}).join("")}var n,r={};return n=function(){var n=arguments[0];void 0===n&&(n=r);var i,o,a,s,l,u,c;return i=n.args,l=i?"argsList":"value",u=i?"dirtyArgs":"dirtyValue",this[u]&&(a=t(this.items,o={},this.root._guid),s=e(i?"["+a+"]":a,o),c=s?s.value:i?[this.toString()]:this.toString(),this[l]=c,this[u]=!1),this[l]}}(Ie),zt=function(){var e=/</g,t=/>/g,n=/&/g;return function(r){return r.replace(n,"&amp;").replace(e,"&lt;").replace(t,"&gt;")}}(),Ut=function(e){return e&&e.parentNode&&e.parentNode.removeChild(e),e},Wt=function(e){return function(){return e(this.node)}}(Ut),qt=function(e,t,n){var r=function(t){this.type=e.TEXT,this.text=t.template};return r.prototype={detach:n,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(e){return e?t(this.text):this.text},unrender:function(e){if(e)return this.detach()}},r}(z,zt,Wt),Xt=function(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()},Gt=function(){return this.value},Yt=function(e,t){return e&&t&&e.substr(0,t.length+1)===t+"."},Kt=function(e){return function(t,n,r){return t===n?void 0!==r?r:null:e(t,n)?null===r?r:t.replace(n+".",r+"."):void 0}}(Yt),Qt=function(e,t,n){var r=function(n,r,i){var o;this.ref=r,this.resolved=!1,this.root=n.root,this.parentFragment=n.parentFragment,this.callback=i,o=t(n.root,r,n.parentFragment),void 0!==o?this.resolve(o):e.addUnresolved(this)};return r.prototype={resolve:function(e){this.resolved=!0,this.keypath=e,this.callback(e)},forceResolution:function(){this.resolve(this.ref)},rebind:function(e,t,r,i){var o;void 0!==this.keypath&&(o=n(this.keypath,r,i),void 0!==o&&this.resolve(o))},unbind:function(){this.resolved||e.removeUnresolved(this)}},r}(T,w,Kt),Jt=function(){var e=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()};return e.prototype={rebind:function(){var e=this.ref,t=this.parentFragment;if("@keypath"===e)for(;t;){if(t.context)return this.callback("@"+t.context);t=t.parent}if("@index"===e||"@key"===e)for(;t;){if(void 0!==t.index)return this.callback("@"+t.index);t=t.parent}throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath')},unbind:function(){}},e}(),Zt=function(){var e=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()};return e.prototype={rebind:function(){var e=this.ref,t=this.parentFragment.indexRefs,n=t[e];void 0!==n&&this.callback("@"+n)},unbind:function(){}},e}(),en=function(e,t,n){return function(r,i,o){var a,s;return"@"===i.charAt(0)?new t(r,i,o):(a=r.parentFragment.indexRefs,a&&void 0!==(s=a[i])?new n(r,i,o):new e(r,i,o))}}(Qt,Jt,Zt),tn=function(){var e={};return function(t,n){var r,i;if(e[t])return e[t];for(i=[];n--;)i[n]="_"+n;return r=new Function(i.join(","),"return("+t+")"),e[t]=r,r}}(),nn=function(e,t,n,r){function i(e){return e.call()}function o(e,n){return e.replace(/_([0-9]+)/g,function(e,r){var i,o;return i=n[r],void 0===i?"undefined":"@"===i[0]?(o=i.slice(1),t(o)?o:'"'+o+'"'):i})}function a(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}function s(e){return void 0!==e&&"@"!==e[0]}function l(t,n){var r,i,o;if(t._noWrap)return t;if(i="__ractive_"+n._guid,r=t[i])return r;if(/this/.test(t.toString())){e(t,i,{value:f.call(t,n)});for(o in t)t.hasOwnProperty(o)&&(t[i][o]=t[o]);return t[i]}return e(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}var u,c,f=Function.prototype.bind;return c=function(e,t,r,i){var o,a,s=this;o=e.root,s.root=o,s.parentFragment=t,s.callback=i,s.owner=e,s.str=r.s,s.keypaths=[],a=t.indexRefs,s.pending=r.r.length,s.refResolvers=r.r.map(function(e,t){return n(s,e,function(e){s.resolve(t,e)})}),s.ready=!0,s.bubble()},c.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.keypaths),this.keypath=a(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var e;e=this.refResolvers.pop();)e.unbind()},resolve:function(e,t){this.keypaths[e]=t,this.bubble()},createEvaluator:function(){var e,n,o,a,u=this,c=this;e=this.root.viewmodel.computations[this.keypath],e?this.root.viewmodel.mark(this.keypath):(a=r(this.str,this.refResolvers.length),n=this.keypaths.map(function(e){var n;return"undefined"===e?function(){}:"@"===e[0]?(n=e.slice(1),t(n)?function(){return+n}:function(){return n}):function(){var t=u.root.viewmodel.get(e);return"function"==typeof t&&(t=l(t,c.root)),t}}),o={deps:this.keypaths.filter(s),get:function(){var e=n.map(i);return a.apply(null,e)}},e=this.root.viewmodel.compute(this.keypath,o))},rebind:function(e,t,n,r){this.refResolvers.forEach(function(i){return i.rebind(e,t,n,r)})}},u=c}(I,l,en,tn,be),rn=function(e,t,n){var r=function(r,i,o){var a=this;a.resolver=i,a.root=i.root,a.parentFragment=o,a.viewmodel=i.root.viewmodel,"string"==typeof r?a.value=r:r.t===e.REFERENCE?a.refResolver=t(this,r.n,function(e){a.resolve(e)}):new n(i,o,r,function(e){a.resolve(e)})};return r.prototype={resolve:function(e){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=e,this.value=this.viewmodel.get(e),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t,n,r){this.refResolver&&this.refResolver.rebind(e,t,n,r)},setValue:function(e){this.value=e,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.unresolved&&this.unresolved.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}},r}(z,en,nn),on=function(e,t,n){function r(e){return e.value}function i(e){return void 0!=e}function o(e){e.unbind()}var a=function(r,i,o){var a,s,l,u,c=this,f=this;f.parentFragment=u=r.parentFragment,f.root=a=r.root,f.mustache=r,f.ref=s=i.r,f.callback=o,f.unresolved=[],(l=e(a,s,u))?f.base=l:f.baseResolver=new t(this,s,function(e){f.base=e,f.baseResolver=null,f.bubble()}),f.members=i.m.map(function(e){return new n(e,c,u)}),f.ready=!0,f.bubble()};return a.prototype={getKeypath:function(){var e=this.members.map(r);return!e.every(i)||this.baseResolver?null:this.base+"."+e.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(o)},rebind:function(e,t,n,r){var i;this.members.forEach(function(o){o.rebind(e,t,n,r)&&(i=!0)}),i&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(e){return e.forceResolution()}),this.bubble()}},a}(w,Qt,rn),an=function(e,t,n,r){return function(i,o){function a(e){i.resolve(e)}function s(e){var t=i.keypath;e!==t&&(i.resolve(e),void 0!==t&&i.fragments&&i.fragments.forEach(function(n){n.rebind(null,null,t,e)}))}var l,u,c;u=o.parentFragment,c=o.template,i.root=u.root,i.parentFragment=u,i.pElement=u.pElement,i.template=o.template,i.index=o.index||0,i.isStatic=o.template.s,i.type=o.template.t,i.registered=!1,(l=c.r)&&(i.resolver=new t(i,l,a)),o.template.x&&(i.resolver=new r(i,u,o.template.x,s)),o.template.rx&&(i.resolver=new n(i,o.template.rx,s)),i.template.n!==e.SECTION_UNLESS||i.hasOwnProperty("value")||i.setValue(void 0)}}(z,en,on,nn),sn=function(e){return function(t){var n,r,i;return t&&"@"===t[0]?(r=t.slice(1),e(r)&&(r=+r),this.keypath=t,void this.setValue(r)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,n=!0),this.keypath=t,void 0!=t&&(r=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(r),void(n&&(i=this.twowayBinding)&&i.rebound()))}}(l),ln=function(e,t,n,r){this.fragments&&this.fragments.forEach(function(i){return i.rebind(e,t,n,r)}),this.resolver&&this.resolver.rebind(e,t,n,r)},un=function(e,t,n,r){return{getValue:e,init:t,resolve:n,rebind:r}}(Gt,an,sn,ln),cn=function(e,t,n,r,i,o,a,s){var l=function(t){this.type=e.INTERPOLATOR,a.init(this,t)};return l.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:a.resolve,rebind:a.rebind,detach:s,unbind:o,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(e){e&&r(this.node)},getValue:a.getValue,setValue:function(e){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(e=n.get()),i(e,this.value)||(this.value=e,this.parentFragment.bubble(),this.node&&t.addView(this))},firstNode:function(){return this.node},toString:function(e){var t=void 0!=this.value?""+this.value:"";return e?n(t):t}},l}(z,T,zt,Ut,y,Xt,un,Wt),fn=function(){this.parentFragment.bubble()},hn=function(){var e;return 1===this.fragments.length?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)},dn=function(e){var t,n,r;for(n=this.fragments.length,t=0;t<n;t+=1)if(r=this.fragments[t].find(e))return r;return null},pn=function(e,t){var n,r;for(r=this.fragments.length,n=0;n<r;n+=1)this.fragments[n].findAll(e,t)},mn=function(e,t){var n,r;for(r=this.fragments.length,n=0;n<r;n+=1)this.fragments[n].findAllComponents(e,t)},_n=function(e){var t,n,r;for(n=this.fragments.length,t=0;t<n;t+=1)if(r=this.fragments[t].findComponent(e))return r;return null},gn=function(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)},vn=function(){var e,t,n;if(e=this.fragments.length)for(t=0;t<e;t+=1)if(n=this.fragments[t].firstNode())return n;return this.parentFragment.findNextNode(this)},yn=function(e,t,n){var r;return n.push(function(){r=n.Fragment}),function(n){var r,i,o,a,s,l,u,c=this,f=this;if(!(this.shuffling||this.unbound||this.subtype&&this.subtype!==e.SECTION_EACH)){if(this.shuffling=!0,t.scheduleTask(function(){return c.shuffling=!1}),r=this.parentFragment,s=[],n.forEach(function(e,t){var n,r,o,a;return e===t?void(s[e]=f.fragments[t]):(n=f.fragments[t],void 0===i&&(i=t),e===-1?(f.fragmentsToUnrender.push(n),void n.unbind()):(r=e-t,o=f.keypath+"."+t,a=f.keypath+"."+e,n.rebind(f.template.i,e,o,a),n.index=e,void(s[e]=n)))}),a=this.root.get(this.keypath).length,void 0===i){if(this.length===a)return;i=this.length}for(this.length=this.fragments.length=a,this.rendered&&t.addView(this),l={template:this.template.f,root:this.root,owner:this},this.template.i&&(l.indexRef=this.template.i),o=i;o<a;o+=1)u=s[o],u||this.fragmentsToCreate.push(o),this.fragments[o]=u}}}(z,T,i),bn=function(){var e;return e=this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,e},wn=function(){var e=/^\[object (?:Array|FileList)\]$/,t=Object.prototype.toString;return function(n){return e.test(t.call(n))}}(),En=function(e,t,n,r,i){function o(r,i){var o={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype)switch(r.subtype){case e.SECTION_IF:return c(r,i,!1,o);case e.SECTION_UNLESS:return c(r,i,!0,o);case e.SECTION_WITH:return u(r,o);case e.SECTION_IF_WITH:return l(r,i,o);case e.SECTION_EACH:if(n(i))return s(r,i,o)}return r.ordered=!!t(i),r.ordered?a(r,i,o):n(i)||"function"==typeof i?r.template.i?s(r,i,o):u(r,o):c(r,i,!1,o)}function a(e,t,n){var r,i,o;if(i=t.length,i===e.length)return!1;if(i<e.length)e.fragmentsToUnrender=e.fragments.splice(i,e.length-i),e.fragmentsToUnrender.forEach(h);else if(i>e.length)for(r=e.length;r<i;r+=1)n.context=e.keypath+"."+r,n.index=r,e.template.i&&(n.indexRef=e.template.i),o=new m(n),e.fragmentsToRender.push(e.fragments[r]=o);return e.length=i,!0}function s(e,t,n){var r,i,o,a,s;for(o=e.hasKey||(e.hasKey={}),i=e.fragments.length;i--;)a=e.fragments[i],a.index in t||(s=!0,a.unbind(),e.fragmentsToUnrender.push(a),e.fragments.splice(i,1),o[a.index]=!1);for(r in t)o[r]||(s=!0,n.context=e.keypath+"."+r,n.index=r,e.template.i&&(n.indexRef=e.template.i),a=new m(n),e.fragmentsToRender.push(a),e.fragments.push(a),o[r]=!0);return e.length=e.fragments.length,s}function l(e,t,n){return t?u(e,n):f(e)}function u(e,t){var n;if(!e.length)return t.context=e.keypath,t.index=0,n=new m(t),e.fragmentsToRender.push(e.fragments[0]=n),e.length=1,!0}function c(e,r,i,o){var a,s,l,u,c;if(s=t(r)&&0===r.length,l=!1,!t(r)&&n(r)){l=!0;for(c in r){l=!1;break}}return a=i?s||l||!r:r&&!s&&!l,a?e.length?e.length>1?(e.fragmentsToUnrender=e.fragments.splice(1),e.fragmentsToUnrender.forEach(h),!0):void 0:(o.index=0,u=new m(o),e.fragmentsToRender.push(e.fragments[0]=u),e.length=1,!0):f(e)}function f(e){if(e.length)return e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(d),e.fragmentsToUnrender.forEach(h),e.length=e.fragmentsToRender.length=0,!0}function h(e){e.unbind()}function d(e){return e.rendered}var p,m;return i.push(function(){m=i.Fragment}),p=function(e){var t,n,i=this;this.updating||(this.updating=!0,(t=this.root.viewmodel.wrapped[this.keypath])&&(e=t.get()),this.fragmentsToCreate.length?(n={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i},this.fragmentsToCreate.forEach(function(e){var t;n.context=i.keypath+"."+e,n.index=e,t=new m(n),i.fragmentsToRender.push(i.fragments[e]=t)}),this.fragmentsToCreate.length=0):o(this,e)&&(this.bubble(),this.rendered&&r.addView(this)),this.value=e,this.updating=!1)}}(z,wn,s,T,i),Tn=function(e){var t,n,r;for(t="",n=0,r=this.length,n=0;n<r;n+=1)t+=this.fragments[n].toString(e);return t},Cn=function(e){function t(e){e.unbind()}var n;return n=function(){this.fragments.forEach(t),e.call(this),this.length=0,this.unbound=!0}}(Xt),kn=function(){function e(e){e.unrender(!0)}function t(e){e.unrender(!1)}var n;return n=function(n){this.fragments.forEach(n?e:t)}}(),Sn=function(){var e,t,n,r,i,o,a;for(n=this.renderedFragments;e=this.fragmentsToUnrender.pop();)e.unrender(!0),n.splice(n.indexOf(e),1);for(;e=this.fragmentsToRender.shift();)e.render();for(this.rendered&&(i=this.parentFragment.getNode()),a=this.fragments.length,o=0;o<a;o+=1)e=this.fragments[o],t=n.indexOf(e,o),t!==o?(this.docFrag.appendChild(e.detach()),t!==-1&&n.splice(t,1),n.splice(o,0,e)):this.docFrag.childNodes.length&&(r=e.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()},xn=function(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,_){var g=function(n){this.type=e.SECTION,this.subtype=n.template.n,this.inverted=this.subtype===e.SECTION_UNLESS,this.pElement=n.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],this.renderedFragments=[],this.length=0,t.init(this,n)};return g.prototype={bubble:n,detach:r,find:i,findAll:o,findAllComponents:a,findComponent:s,findNextNode:l,firstNode:u,getValue:t.getValue,shuffle:c,rebind:t.rebind,render:f,resolve:t.resolve,setValue:h,toString:d,unbind:p,unrender:m,update:_},g}(z,un,fn,hn,dn,pn,mn,_n,gn,vn,yn,bn,En,Tn,Cn,kn,Sn),On=function(){var e,t;if(this.docFrag){for(e=this.nodes.length,t=0;t<e;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}},Nn=function(e){return function(t){var n,r,i,o;for(r=this.nodes.length,n=0;n<r;n+=1)if(i=this.nodes[n],1===i.nodeType){if(e(i,t))return i;if(o=i.querySelector(t))return o}return null}}(Je),In=function(e){return function(t,n){var r,i,o,a,s,l;for(i=this.nodes.length,r=0;r<i;r+=1)if(o=this.nodes[r],1===o.nodeType&&(e(o,t)&&n.push(o),a=o.querySelectorAll(t)))for(s=a.length,l=0;l<s;l+=1)n.push(a[l])}}(Je),Rn=function(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},An=function(e,t){function n(e){return a[e]||(a[e]=t(e))}var r,i,o,a={};try{t("table").innerHTML="foo"}catch(s){i=!0,o={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return r=function(t,r,a){var s,l,u,c,f,h=[];if(null!=t&&""!==t){for(i&&(l=o[r.tagName])?(s=n("DIV"),s.innerHTML=l[0]+t+l[1],s=s.querySelector(".x"),"SELECT"===s.tagName&&(u=s.options[s.selectedIndex])):r.namespaceURI===e.svg?(s=n("DIV"),s.innerHTML='<svg class="x">'+t+"</svg>",s=s.querySelector(".x")):(s=n(r.tagName),s.innerHTML=t,"SELECT"===s.tagName&&(u=s.options[s.selectedIndex]));c=s.firstChild;)h.push(c),a.appendChild(c);if("SELECT"===r.tagName)for(f=h.length;f--;)h[f]!==u&&(h[f].selected=!1)}return h}}(x,O),Pn=function(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t},Ln=function(e){function t(e){return e.selected}var n;return n=function(n){var r,i,o;n&&"select"===n.name&&n.binding&&(r=e(n.node.options).filter(t),n.getAttribute("multiple")?o=r.map(function(e){return e.value}):(i=r[0])&&(o=i.value),void 0!==o&&n.binding.setValue(o),n.bubble())}}(Pn),jn=function(e,t){return function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=e(this.value,this.parentFragment.getNode(),this.docFrag),t(this.pElement),this.rendered=!0,this.docFrag}}(An,Ln),$n=function(e){return function(t){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(t=n.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&e.addView(this))}}(T),Mn=function(e){return function(){return void 0!=this.value?e(""+this.value):""}}(Se),Dn=function(e){return function(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}}(Ut),Fn=function(e,t){return function(){var n,r;if(this.rendered){for(;this.nodes&&this.nodes.length;)n=this.nodes.pop(),n.parentNode.removeChild(n);r=this.parentFragment.getNode(),this.nodes=e(this.value,r,this.docFrag),r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),t(this.pElement)}}}(An,Ln),Bn=function(e,t,n,r,i,o,a,s,l,u,c,f){var h=function(n){this.type=e.TRIPLE,t.init(this,n)};return h.prototype={detach:n,find:r,findAll:i,firstNode:o,getValue:t.getValue,rebind:t.rebind,render:a,resolve:t.resolve,setValue:s,toString:l,unbind:f,unrender:u,update:c},h}(z,un,On,Nn,In,Rn,jn,$n,Mn,Dn,Fn,Xt),Hn=function(){this.parentFragment.bubble()},Vn=function(){var e,t=this.node;if(t)return(e=t.parentNode)&&e.removeChild(t),t},zn=function(e){return function(t){return e(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0}}(Je),Un=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},Wn=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},qn=function(e){if(this.fragment)return this.fragment.findComponent(e)},Xn=function(){return null},Gn=function(){return this.node},Yn=function(e){if(this.attributes&&this.attributes[e])return this.attributes[e].value},Kn=function(){var e,t,n,r;return e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(e){for(var t={},n=e.length;n--;)t[e[n].toLowerCase()]=e[n];return t},r=n(e.concat(t)),function(e){var t=e.toLowerCase();return r[t]||t}}(),Qn=function(e,t){return function(){var n=this.fragment.getValue();t(n,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=n,"value"===this.name&&this.node&&(this.node._ractive.value=n),this.rendered&&e.addView(this))}}(T,y),Jn=function(){var e=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i;return e}(),Zn=function(e,t){return function(n,r){var i,o;if(i=r.indexOf(":"),i===-1||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==e.html?t(r):r;else if(r=r.substring(i+1),n.name=t(r),n.namespace=e[o.toLowerCase()],n.namespacePrefix=o,!n.namespace)throw'Unknown namespace ("'+o+'")'}}(x,Kn),er=function(e){return function(t){var n=t.fragment.items;if(1===n.length)return n[0].type===e.INTERPOLATOR?n[0]:void 0}}(z),tr=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(r,i){var o;!r.pNode||r.namespace||i.pNode.namespaceURI&&i.pNode.namespaceURI!==e.html||(o=n[r.name]||r.name,void 0!==i.pNode[o]&&(r.propertyName=o),(t.test(o)||"value"===o)&&(r.useProperty=!0))}}(x,Jn),nr=function(e,t,n,r,i,o){var a;return o.push(function(){a=o.Fragment}),function(o){return this.type=e.ATTRIBUTE,this.element=o.element,this.root=o.root,n(this,o.name),o.value&&"string"!=typeof o.value?(this.parentFragment=this.element.parentFragment,this.fragment=new a({template:o.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=r(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,i(this,o),void(this.ready=!0)):void(this.value=!!t.test(this.name)||(o.value||""));
}}(z,Jn,Zn,er,tr,i),rr=function(e,t,n,r){this.fragment&&this.fragment.rebind(e,t,n,r)},ir=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(r){var i;this.node=r,r.namespaceURI&&r.namespaceURI!==e.html||(i=n[this.name]||this.name,void 0!==r[i]&&(this.propertyName=i),(t.test(i)||"value"===i)&&(this.useProperty=!0),"value"===i&&(this.useProperty=!0,r._ractive.value=this.value)),this.rendered=!0,this.update()}}(x,Jn),or=function(e){function t(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var n;return n=function(){var n=(a=this).name,r=a.namespacePrefix,i=a.value,o=a.interpolator,a=a.fragment;if(("value"!==n||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==n||void 0===this.element.getAttribute("contenteditable")))return"name"===n&&"input"===this.element.name&&o?"name={{"+(o.keypath||o.ref)+"}}":e.test(n)?i?n:"":(a&&(i=a.toString()),r&&(n=r+":"+n),i?n+'="'+t(i)+'"':n)}}(Jn),ar=function(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]},sr=function(){var e,t,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,e=this.node.options,r=e.length;r--;)if(t=e[r],n=t._ractive?t._ractive.value:t.value,n==i){t.selected=!0;break}},lr=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1},ur=function(e,t){return function(){var n,r,i,o,a=this.value;for(t(a)||(a=[a]),n=this.node.options,r=n.length;r--;)i=n[r],o=i._ractive?i._ractive.value:i.value,i.selected=e(a,o)}}(lr,a),cr=function(){var e=(t=this).node,t=t.value;e.checked=t==e._ractive.value},fr=function(e){return function(){var t,n,r,i,o=this.node;if(t=o.checked,o.value=this.element.getAttribute("value"),o.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!o.checked&&this.element.binding&&(r=this.element.binding.siblings,i=r.length)){for(;i--;){if(n=r[i],!n.element.node)return;if(n.element.node.checked)return e.addViewmodel(n.root.viewmodel),n.handleChange()}e.addViewmodel(n.root.viewmodel),this.root.viewmodel.set(n.keypath,void 0)}}}(T),hr=function(e){return function(){var t,n,r=(o=this).element,i=o.node,o=o.value;if(t=r.getAttribute("value"),e(o)){for(n=o.length;n--;)if(t==o[n])return void(i.checked=!0);i.checked=!1}else i.checked=o==t}}(a),dr=function(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.className=t},pr=function(){var e=(t=this).node,t=t.value;this.root.nodes[t]=e,e.id=t},mr=function(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.style.setAttribute("cssText",t)},_r=function(){var e=this.value;void 0===e&&(e=""),this.locked||(this.node.innerHTML=e)},gr=function(){var e=(t=this).node,t=t.value;e._ractive.value=t,this.locked||(e.value=void 0==t?"":t)},vr=function(){this.locked||(this.node[this.propertyName]=this.value)},yr=function(e){return function(){var t=(o=this).node,n=o.namespace,r=o.name,i=o.value,o=o.fragment;n?t.setAttributeNS(n,r,(o||i).toString()):e.test(r)?i?t.setAttribute(r,""):t.removeAttribute(r):t.setAttribute(r,(o||i).toString())}}(Jn),br=function(e,t,n,r,i,o,a,s,l,u,c,f,h,d){return function(){var p,m,_=(v=this).name,g=v.element,v=v.node;"id"===_?m=l:"value"===_?"select"===g.name&&"value"===_?m=g.getAttribute("multiple")?r:n:"textarea"===g.name?m=f:null!=g.getAttribute("contenteditable")?m=c:"input"===g.name&&(p=g.getAttribute("type"),m="file"===p?t:"radio"===p&&g.binding&&"name"===g.binding.name?o:f):this.twoway&&"name"===_?"radio"===v.type?m=i:"checkbox"===v.type&&(m=a):"style"===_&&v.style.setAttribute?m=u:"class"!==_||v.namespaceURI&&v.namespaceURI!==e.html?this.useProperty&&(m=h):m=s,m||(m=d),this.update=m,this.update()}}(x,ze,sr,ur,cr,fr,hr,dr,pr,mr,_r,gr,vr,yr),wr=function(e,t,n,r,i,o,a){var s=function(e){this.init(e)};return s.prototype={bubble:e,init:t,rebind:n,render:r,toString:i,unbind:o,update:a},s}(Qn,nr,rr,ir,or,ar,br),Er=function(e){return function(t,n){var r,i,o=[];for(r in n)n.hasOwnProperty(r)&&(i=new e({element:t,name:r,value:n[r],root:t.root}),o.push(o[r]=i));return o}}(wr),Tr=function(e,t,n,r){function i(e,t){var n=t?"svg":"div";return l.innerHTML="<"+n+" "+e+"></"+n+">",r(l.childNodes[0].attributes)}function o(e,t){for(var n=e.length;n--;)if(e[n].name===t.name)return!1;return!0}var a,s,l;"undefined"!=typeof document&&(l=n("div")),e.push(function(){s=e.Fragment});var u=function(e,t){this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.attributes=[],this.fragment=new s({root:e.root,owner:this,template:[t]})};return u.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},render:function(e){this.node=e,this.isSvg=e.namespaceURI===t.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e,t,n=this;e=this.fragment.toString(),t=i(e,this.isSvg),this.attributes.filter(function(e){return o(t,e)}).forEach(function(e){n.node.removeAttribute(e.name)}),t.forEach(function(e){n.node.setAttribute(e.name,e.value)}),this.attributes=t},toString:function(){return this.fragment.toString()}},a=u}(i,x,O,Pn),Cr=function(e){return function(t,n){return n?n.map(function(n){return new e(t,n)}):[]}}(Tr),kr=function(e){for(var t,n,r=Array.prototype.slice,i=r.call(arguments,1);n=i.shift();)for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},Sr=function(e,t,n,r,i){var o=function(e){var n,r,i;return this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],n=this.attribute.interpolator,n.twowayBinding=this,n.keypath&&"${"===n.keypath.substr(0,2)?(t("Two-way binding does not work with expressions (`"+n.keypath.slice(2,-1)+"`)"),!1):(n.keypath||n.resolver.forceResolution(),this.keypath=r=n.keypath,void(void 0===this.root.viewmodel.get(r)&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(r,i))))};return o.prototype={handleChange:function(){var t=this;e.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),e.scheduleTask(function(){return t.attribute.locked=!1}),e.end()},rebound:function(){var e,t,n;t=this.keypath,n=this.attribute.interpolator.keypath,t!==n&&(i(this.root._twowayBindings[t],this),this.keypath=n,e=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]),e.push(this))},unbind:function(){}},o.extend=function(e){var t,i=this;return t=function(e){o.call(this,e),this.init&&this.init()},t.prototype=n(i.prototype),r(t.prototype,e),t.extend=o.extend,t},o}(T,f,U,kr,m),xr=function(){this._ractive.binding.handleChange()},Or=function(e,t){var n=e.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var e=this.element.node;e.addEventListener("change",t,!1),this.root.lazy||(e.addEventListener("input",t,!1),e.attachEvent&&e.addEventListener("keyup",t,!1))},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("input",t,!1),e.removeEventListener("keyup",t,!1)},getValue:function(){return this.element.node.innerHTML}});return n}(Sr,xr),Nr=function(){var e={};return function(t,n,r){var i=t+n+r;return e[i]||(e[i]=[])}}(),Ir=function(e,t,n,r,i){var o=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",i,!1),e.attachEvent&&e.addEventListener("click",i,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",i,!1),e.removeEventListener("click",i,!1)},handleChange:function(){e.start(this.root),this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())}),e.end()},getValue:function(){return this.element.node.checked},unbind:function(){t(this.siblings,this)}});return o}(T,m,Sr,Nr,xr),Rr=function(e,t,n,r){var i=t.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},render:function(){var e=this.element.node;e.name="{{"+this.keypath+"}}",e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),e.addEventListener("change",n,!1),e.attachEvent&&e.addEventListener("click",n,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",n,!1),e.removeEventListener("click",n,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){this.element.node.checked&&t.prototype.handleChange.call(this)},rebound:function(e,n,r,i){var o;t.prototype.rebound.call(this,e,n,r,i),(o=this.element.node)&&(o.name="{{"+this.keypath+"}}")},unbind:function(){e(this.siblings,this)}});return i}(m,Sr,xr,Nr),Ar=function(e,t,n,r,i,o){function a(e){return e.isChecked}function s(e){return e.element.getAttribute("value")}var l=r.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,t;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=i(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),e.push(t))},unbind:function(){n(this.siblings,this)},render:function(){var n,r,i=this.element.node;n=this.root.viewmodel.get(this.keypath),r=this.element.getAttribute("value"),e(n)?this.isChecked=t(n,r):this.isChecked=n==r,i.name="{{"+this.keypath+"}}",i.checked=this.isChecked,i.addEventListener("change",o,!1),i.attachEvent&&i.addEventListener("click",o,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",o,!1),e.removeEventListener("click",o,!1)},changed:function(){var e=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked,r.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(a).map(s)}});return l}(a,lr,m,Sr,Nr,xr),Pr=function(e,t){var n=e.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",t,!1),e.attachEvent&&e.addEventListener("click",t,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("click",t,!1)},getValue:function(){return this.element.node.checked}});return n}(Sr,xr),Lr=function(e,t,n){var r=t.extend({getInitialValue:function(){var e,t,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(t=e=i.length,e)){for(;t--;)if(i[t].getAttribute("selected")){n=i[t].getAttribute("value"),r=!0;break}if(!r)for(;++t<e;)if(!i[t].getAttribute("disabled")){n=i[t].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",n,!1)},unrender:function(){this.element.node.removeEventListener("change",n,!1)},setValue:function(t){e.addViewmodel(this.root.viewmodel),this.root.viewmodel.set(this.keypath,t)},getValue:function(){var e,t,n,r,i;for(e=this.element.node.options,n=e.length,t=0;t<n;t+=1)if(r=e[t],e[t].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,e.addViewmodel(this.root.viewmodel),e.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))}});return r}(T,Sr,xr),jr=function(e){return function(t,n){var r;if(!e(t)||!e(n))return!1;if(t.length!==n.length)return!1;for(r=t.length;r--;)if(t[r]!==n[r])return!1;return!0}}(a),$r=function(e,t,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",r,!1),e=this.root.viewmodel.get(this.keypath),void 0===e&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",r,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,o;for(e=[],t=this.element.node.options,r=t.length,n=0;n<r;n+=1)i=t[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,e.push(o));return e},handleChange:function(){var e,r,i;return e=this.attribute,r=e.value,i=this.getValue(),void 0!==r&&t(i,r)||n.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,e.addViewmodel(this.root.viewmodel),e.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}});return i}(T,jr,Lr,xr),Mr=function(e,t){var n=e.extend({render:function(){this.element.node.addEventListener("change",t,!1)},unrender:function(){this.element.node.removeEventListener("change",t,!1)},getValue:function(){return this.element.node.files}});return n}(Sr,xr),Dr=function(e,t){function n(){var e;t.call(this),e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,o),this.value=void 0==e?"":e}var r,i,o;return o={evaluateWrapped:!0},i=e.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e=this.element.node;e.addEventListener("change",t,!1),this.root.lazy||(e.addEventListener("input",t,!1),e.attachEvent&&e.addEventListener("keyup",t,!1)),e.addEventListener("blur",n,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("input",t,!1),e.removeEventListener("keyup",t,!1),e.removeEventListener("blur",n,!1)}}),r=i}(Sr,xr),Fr=function(e){return e.extend({getInitialValue:function(){},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?void 0:e}})}(Dr),Br=function(e,t,n,r,i,o,a,s,l,u,c){function f(e){return e&&e.isBindable}var h;return h=function(h){var d,p,m,_,g=h.attributes;if(h.binding&&(h.binding.teardown(),h.binding=null),(h.getAttribute("contenteditable")||g.contenteditable&&f(g.contenteditable))&&f(g.value)?p=t:"input"===h.name?(d=h.getAttribute("type"),"radio"===d||"checkbox"===d?(m=f(g.name),_=f(g.checked),m&&_&&e.error({message:"badRadioInputBinding"}),m?p="radio"===d?r:i:_&&(p="radio"===d?n:o)):"file"===d&&f(g.value)?p=l:f(g.value)&&(p="number"===d||"range"===d?u:c)):"select"===h.name&&f(g.value)?p=h.getAttribute("multiple")?s:a:"textarea"===h.name&&f(g.value)&&(p=c),p)return new p(h)}}(d,Or,Ir,Rr,Ar,Pr,Lr,$r,Mr,Fr,Dr),Hr=function(){var e=this.getAction();e&&!this.hasListener?this.listen():!e&&this.hasListener&&this.unrender()},Vr=function(e){return function(t){e(this.root,this.getAction(),{event:t})}}(ft),zr=function(){return this.action.toString().trim()},Ur=function(e,t,n,r,i){function o(e){var t,n,r;if(t=this.root,"function"!=typeof t[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,o;if(void 0!==n){if(n.eventObject){if(r=e,i=n.refinements.length)for(o=0;o<i;o+=1)r=r[n.refinements[o]]}else r=t.viewmodel.get(n);return r}}),t.event=e,r=this.fn.apply(null,n),t[this.method].apply(t,r),delete t.event}function a(e){r(this.root,this.getAction(),{event:e,args:this.params})}function s(e){var t=this.dynamicParams.getValue(c);"string"==typeof t&&(t=t.substr(1,t.length-2)),r(this.root,this.getAction(),{event:e,args:t})}var l,u,c={args:!0},f=/^event(?:\.(.+))?/;return n.push(function(){u=n.Fragment}),l=function(n,r,l){var c,h,d,p=this;p.element=n,p.root=n.root,p.name=r,r.indexOf("*")!==-1&&(i.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:n.tagName,event:r}}),this.invalid=!0),l.m?(h=l.a.r,p.method=l.m,p.keypaths=[],p.fn=e(l.a.s,h.length),p.parentFragment=n.parentFragment,d=p.root,p.refResolvers=h.map(function(e,n){var r;return(r=f.exec(e))?(p.keypaths[n]={eventObject:!0,refinements:r[1]?r[1].split("."):[]},null):t(p,e,function(e){p.resolve(n,e)})}),this.fire=o):(c=l.n||l,"string"!=typeof c&&(c=new u({template:c,root:this.root,owner:this})),this.action=c,l.d?(this.dynamicParams=new u({template:l.d,root:this.root,owner:this.element}),this.fire=s):l.a&&(this.params=l.a,this.fire=a))}}(tn,en,i,ft,d),Wr=function(e){var t,n;t=this._ractive,n=t.events[e.type],n.fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})},qr=function(e,t,n){function r(e){return o[e]||(o[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath,t.context=n.root.get(n.keypath),n.events[e].fire(t)}),o[e]}var i,o={},a={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0};return i=function(){var i,o=this.name;if(!this.invalid){if(i=e.registries.events.find(this.root,o))this.custom=i(this.node,r(o));else{if(!("on"+o in this.node||window&&"on"+o in window))return void(a[o]||n.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:o}}));this.node.addEventListener(o,t,!1)}this.hasListener=!0}}}(qe,Wr,d),Xr=function(e,t,n,r){function i(i){i&&i.rebind(e,t,n,r)}var o;return this.method?(o=this.element.parentFragment,void this.refResolvers.forEach(i)):("string"!=typeof this.action&&i(this.action),void(this.dynamicParams&&i(this.dynamicParams)))},Gr=function(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()},Yr=function(e,t){this.keypaths[e]=t},Kr=function(){function e(e){e.unbind()}var t;return t=function(){return this.method?void this.refResolvers.forEach(e):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}}(),Qr=function(e){return function(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,e,!1),this.hasListener=!1}}(Wr),Jr=function(e,t,n,r,i,o,a,s,l,u){var c=function(e,t,n){this.init(e,t,n)};return c.prototype={bubble:e,fire:t,getAction:n,init:r,listen:i,rebind:o,render:a,resolve:s,unbind:l,unrender:u},c}(Hr,Vr,zr,Ur,qr,Xr,Gr,Yr,Kr,Qr),Zr=function(e){return function(t,n){var r,i,o,a,s=[];for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)a=new e(t,o[r],n[i]),s.push(a);return s}}(Jr),ei=function(e,t,n){var r,i,o;return t.push(function(){r=t.Fragment}),i={args:!0},o=function(t,o){var a,s,l,u=this;u.element=t,u.root=a=t.root,s=o.n||o,"string"!=typeof s&&(l=new r({template:s,root:a,owner:t}),s=l.toString(),l.unbind()),o.a?u.params=o.a:o.d&&(u.fragment=new r({template:o.d,root:a,owner:t}),u.params=u.fragment.getValue(i),u.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,u.params=this.getValue(i),u.ready&&u.update()}),u.fn=n.registries.decorators.find(a,s),u.fn||e.error({debug:a.debug,message:"missingPlugin",args:{plugin:"decorator",name:s}})},o.prototype={init:function(){var e,t,n,r=this;if(e=r.element.node,r.params?(n=[e].concat(r.params),t=r.fn.apply(r.root,n)):t=r.fn.call(r.root,e),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");r.actual=t,r.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(e,t,n,r){this.fragment&&this.fragment.rebind(e,t,n,r)},teardown:function(e){this.actual.teardown(),!e&&this.fragment&&this.fragment.unbind()}},o}(d,i,qe),ti=function(e){function t(e,t){for(var n=e.length;n--;)if(e[n]==t)return!0}var n;return n=function(n){var r,i,o,a,s;r=n.node,r&&(a=e(r.options),i=n.getAttribute("value"),o=n.getAttribute("multiple"),void 0!==i?(a.forEach(function(e){var n,r;n=e._ractive?e._ractive.value:e.value,r=o?t(i,n):i==n,r&&(s=!0),e.selected=r}),s||(a[0]&&(a[0].selected=!0),n.binding&&n.binding.forceUpdate())):n.binding&&n.binding.forceUpdate())}}(Pn),ni=function(e,t){return function(){var n=this;this.dirty||(this.dirty=!0,e.scheduleTask(function(){t(n),n.dirty=!1})),this.parentFragment.bubble()}}(T,ti),ri=function(e){do if("select"===e.name)return e;while(e=e.parent)},ii=function(e){return function(t,n){t.select=e(t.parent),t.select&&(t.select.options.push(t),n.a||(n.a={}),void 0!==n.a.value||n.a.hasOwnProperty("disabled")||(n.a.value=n.f),"selected"in n.a&&void 0!==t.select.getAttribute("value")&&delete n.a.selected)}}(ri),oi=function(e,t,n,r,i,o,a,s,l,u){var c;return u.push(function(){c=u.Fragment}),function(u){var f,h,d,p,m;this.type=e.ELEMENT,f=this.parentFragment=u.parentFragment,h=this.template=u.template,this.parent=u.pElement||f.pElement,this.root=d=f.root,this.index=u.index,this.name=t(h.e),"option"===this.name&&l(this,h),"select"===this.name&&(this.options=[],this.bubble=s),this.attributes=n(this,h.a),this.conditionalAttributes=r(this,h.m),h.f&&(this.fragment=new c({template:h.f,root:d,owner:this,pElement:this})),d.twoway&&(p=i(this,h.a))&&(this.binding=p,m=this.root._twowayBindings[p.keypath]||(this.root._twowayBindings[p.keypath]=[]),m.push(p)),h.v&&(this.eventHandlers=o(this,h.v)),h.o&&(this.decorator=new a(this,h.o)),this.intro=h.t0||h.t1,this.outro=h.t0||h.t2}}(z,Kn,Er,Cr,Br,Zr,ei,ni,ii,i),ai=function(e){return function(t,n){return t===n||e(t,n)}}(Yt),si=function(e,t){return function(n,r,i,o){var a=n[r];a&&!e(a,o)&&e(a,i)&&(n[r]=t(a,i,o))}}(ai,Kt),li=function(e){return function(t,n,r,i){function o(e){e.rebind(t,n,r,i)}var a,s,l,u;if(this.attributes&&this.attributes.forEach(o),this.conditionalAttributes&&this.conditionalAttributes.forEach(o),this.eventHandlers&&this.eventHandlers.forEach(o),this.decorator&&o(this.decorator),this.fragment&&o(this.fragment),l=this.liveQueries)for(u=this.root,a=l.length;a--;)l[a]._makeDirty();this.node&&(s=this.node._ractive)&&(e(s,"keypath",r,i),void 0!=t&&(s.index[t]=n))}}(si),ui=function(e){var t;(e.attributes.width||e.attributes.height)&&e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),r=e.getAttribute("height");void 0!==n&&e.node.setAttribute("width",n),void 0!==r&&e.node.setAttribute("height",r),e.node.removeEventListener("load",t,!1)},!1)},ci=function(e,t,n){var r,i={};return n.push(function(){r=n.Fragment}),function(n,o,a){var s,l,u,c=this;if(c.element=n,c.root=s=n.root,c.isIntro=a,l=o.n||o,"string"!=typeof l&&(u=new r({template:l,root:s,owner:n}),l=u.toString(),u.unbind()),c.name=l,o.a?c.params=o.a:o.d&&(u=new r({template:o.d,root:s,owner:n}),c.params=u.getValue(i),u.unbind()),c._fn=t.registries.transitions.find(s,l),!c._fn)return void e.error({debug:s.debug,message:"missingPlugin",args:{plugin:"transition",name:l}})}}(d,qe,i),fi=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},hi=function(e,t,n,r){var i,o,a;return e?(o={},a=n("div").style,i=function(e){var n,i,s;if(e=r(e),!o[e])if(void 0!==a[e])o[e]=e;else for(s=e.charAt(0).toUpperCase()+e.substring(1),n=t.length;n--;)if(i=t[n],void 0!==a[i+s]){o[e]=i+s;break}return o[e]}):i=null,i}(N,j,O,fi),di=function(e,t,n,r){var i,o;return t?(o=window.getComputedStyle||e.getComputedStyle,i=function(e){var t,i,a,s,l;if(t=o(this.node),"string"==typeof e)return l=t[r(e)],"0px"===l&&(l=0),l;if(!n(e))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},a=e.length;a--;)s=e[a],l=t[r(s)],"0px"===l&&(l=0),i[s]=l;return i}):i=null,i}(be,N,a,hi),pi=function(e){return function(t,n){var r;if("string"==typeof t)this.node.style[e(t)]=n;else for(r in t)t.hasOwnProperty(r)&&(this.node.style[e(r)]=t[r]);return this}}(hi),mi=function(e,t,n){function r(e){return e}var i,o=function(i){var o;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(o=i.root.easing[i.easing],o||(e('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),o=r)):o="function"==typeof i.easing?i.easing:r,this.easing=o,this.start=t(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return o.prototype={tick:function(e){var t,n;return!!this.running&&(e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0))},stop:function(){this.abort&&this.abort(),this.running=!1}},i=o}(f,M,D),_i=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(j),gi=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;return e?(t.test(e)&&(e="-"+e),n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})):""}}(j),vi=function(e,t,n,r,i,o,a,s,l){var u,c,f,h,d,p,m,_,g={},v={};return e?(c=n("div").style,function(){void 0!==c.transition?(f="transition",h="transitionend",d=!0):void 0!==c.webkitTransition?(f="webkitTransition",h="webkitTransitionEnd",d=!0):d=!1}(),f&&(p=f+"Duration",m=f+"Property",_=f+"TimingFunction"),u=function(e,n,u,c,f){setTimeout(function(){var y,b,w,E,T;E=function(){b&&w&&(e.root.fire(e.name+":end",e.node,e.isIntro),f())},y=(e.node.namespaceURI||"")+e.node.tagName,e.node.style[m]=c.map(a).map(l).join(","),e.node.style[_]=l(u.easing||"linear"),e.node.style[p]=u.duration/1e3+"s",T=function(t){var n;n=c.indexOf(r(s(t.propertyName))),n!==-1&&c.splice(n,1),c.length||(e.node.removeEventListener(h,T,!1),w=!0,E())},e.node.addEventListener(h,T,!1),setTimeout(function(){for(var s,l,f,p,m,_=c.length,C=[];_--;)p=c[_],s=y+p,d&&!v[s]&&(e.node.style[a(p)]=n[p],g[s]||(l=e.getStyle(p),g[s]=e.getStyle(p)!=n[p],v[s]=!g[s],v[s]&&(e.node.style[a(p)]=l))),d&&!v[s]||(void 0===l&&(l=e.getStyle(p)),f=c.indexOf(p),f===-1?t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):c.splice(f,1),m=/[^\d]*$/.exec(n[p])[0],C.push({name:a(p),interpolator:i(parseFloat(l),parseFloat(n[p])),suffix:m}));C.length?new o({root:e.root,duration:u.duration,easing:r(u.easing||""),step:function(t){var n,r;for(r=C.length;r--;)n=C[r],e.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){b=!0,E()}}):b=!0,c.length||(e.node.removeEventListener(h,T,!1),w=!0,E())},0)},u.delay||0)}):u=null,u}(N,f,O,fi,Xe,mi,hi,_i,gi),yi=function(e){function t(){l.hidden=document[i]}function n(){l.hidden=!0}function r(){l.hidden=!1}var i,o,a,s,l;if("undefined"!=typeof document){if(i="hidden",l={},i in document)a="";else for(s=e.length;s--;)o=e[s],i=o+"Hidden",i in document&&(a=o);void 0!==a?(document.addEventListener(a+"visibilitychange",t),t()):("onfocusout"in document?(document.addEventListener("focusout",n),document.addEventListener("focusin",r)):(window.addEventListener("pagehide",n),window.addEventListener("blur",n),window.addEventListener("pageshow",r),window.addEventListener("focus",r)),l.hidden=!1)}return l}(j),bi=function(e,t,n,r,i,o,a){var s,l,u;return t?(l=window.getComputedStyle||e.getComputedStyle,s=function(e,t,s,c){var f,h=this;if(a.hidden)return this.setStyle(e,t),u||(u=r.resolve());"string"==typeof e?(f={},f[e]=t):(f=e,c=s,s=t),s||(n('The "'+h.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),s=h,c=h.complete);var d=new r(function(e){var t,n,r,a,u,c,d;if(!s.duration)return h.setStyle(f),void e();for(t=Object.keys(f),n=[],r=l(h.node),u={},c=t.length;c--;)d=t[c],a=r[i(d)],"0px"===a&&(a=0),a!=f[d]&&(n.push(d),h.node.style[i(d)]=a);return n.length?void o(h,f,s,n,e):void e()});return c&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),d.then(c)),d}):s=null,s}(be,N,f,_,hi,vi,yi),wi=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);return n.forEach(function(t){for(var n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])}),e},Ei=function(e){return function(t,n){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),e({},t,n)}}(wi),Ti=function(){function e(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}var t;return t=function(){var t,n,r,i=this;return t=i.node=i.element.node,n=t.getAttribute("style"),i.complete=function(o){r||(!o&&i.isIntro&&e(t,n),t._ractive.transition=null,i._manager.remove(i),r=!0)},i._fn?void i._fn.apply(i.root,[i].concat(i.params)):void i.complete()}}(),Ci=function(e,t,n,r,i,o,a){var s,l;return a.push(function(){s=a.Fragment}),l=function(e,t,n){this.init(e,t,n)},l.prototype={init:e,start:o,getStyle:t,setStyle:n,animateStyle:r,processParams:i},l}(ci,di,pi,bi,Ei,Ti,i),ki=function(e,t,n,r,i,o,a,s,l,u,c){function f(t){var n,r,i;return n=(r=t.getAttribute("xmlns"))?r:"svg"===t.name?e.svg:(i=t.parent)?"foreignObject"===i.name?e.html:i.node.namespaceURI:t.root.el.namespaceURI}function h(e){var n,r,i;if(e.select&&(r=e.select.getAttribute("value"),void 0!==r))if(n=e.getAttribute("value"),e.select.node.multiple&&t(r)){for(i=r.length;i--;)if(n==r[i]){e.node.selected=!0;break}}else e.node.selected=n==r}function d(e){var t,n,r,i,o;t=e.root;do for(n=t._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(o);while(t=t._parent)}var p,m,_;return m=function(){var e=this.node,t=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(e.type="text/css"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},_=function(){this.node.type&&"text/javascript"!==this.node.type||n("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)},p=function(){var e,t,n=this,p=this.root;if(e=f(this),t=this.node=i(this.name,e),p.constructor.css&&this.parentFragment.getNode()===p.el&&this.node.setAttribute("data-rvcguid",p.constructor._guid),o(this.node,"_ractive",{value:{proxy:this,keypath:l(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:p}}),this.attributes.forEach(function(e){return e.render(t)}),this.conditionalAttributes.forEach(function(e){return e.render(t)}),this.fragment&&("script"===this.name?(this.bubble=_,this.node.text=this.fragment.toString(!1),this.fragment.unrender=a):"style"===this.name?(this.bubble=m,this.bubble(),this.fragment.unrender=a):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=a:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"img"===this.name&&u(this),this.decorator&&this.decorator.fn&&s.scheduleTask(function(){return n.decorator.init()},!0),p.transitionsEnabled&&this.intro){var g=new c(this,this.intro,(!0));s.registerTransition(g),s.scheduleTask(function(){return g.start()},!0),this.transition=g}return"option"===this.name&&h(this),this.node.autofocus&&s.scheduleTask(function(){return n.node.focus()},!0),d(this),this.node}}(x,a,f,U,O,I,ze,T,v,ui,Ci),Si=function(e,t,n){function r(e){var n,r,i;if(n=e.getAttribute("value"),void 0===n||!e.select)return!1;if(r=e.select.getAttribute("value"),r==n)return!0;if(e.select.getAttribute("multiple")&&t(r))for(i=r.length;i--;)if(r[i]==n)return!0}function i(e){var t,n,r,i;if(t=e.attributes,n=t.type,r=t.value,i=t.name,n&&"radio"===n.value&&r&&i.interpolator)return r.value===i.interpolator.value||void 0}function o(e){var t=e.toString();return t?" "+t:""}var a;return a=function(){var t,a;return t="<"+(this.template.y?"!DOCTYPE":this.template.e),t+=this.attributes.map(o).join("")+this.conditionalAttributes.map(o).join(""),
"option"===this.name&&r(this)&&(t+=" selected"),"input"===this.name&&i(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=n(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")),this.fragment&&(a="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(a)),e.test(this.template.e)||(t+="</"+this.template.e+">"),t}}(Ce,a,zt),xi=function(e){return function(t){t.select&&e(t.select.options,t)}}(m),Oi=function(e){function t(e){e.unbind()}var n;return n=function(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(t),"option"===this.name&&e(this),this.attributes.forEach(t),this.conditionalAttributes.forEach(t)}}(xi),Ni=function(e,t){function n(e){var t,n,r;for(r=e.liveQueries.length;r--;)t=e.liveQueries[r],n=t.selector,t._remove(e.node)}var r;return r=function(r){var i,o;if(this.transition&&this.transition.complete(),"option"===this.name?this.detach():r&&e.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(i=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,o=this.root._twowayBindings[i.keypath],o.splice(o.indexOf(i),1)),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.unrender()}),this.decorator&&this.decorator.teardown(),this.root.transitionsEnabled&&this.outro){var a=new t(this,this.outro,(!1));e.registerTransition(a),e.scheduleTask(function(){return a.start()})}this.liveQueries&&n(this)}}(T,Ci),Ii=function(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p){var m=function(e){this.init(e)};return m.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:a,firstNode:s,getAttribute:l,init:u,rebind:c,render:f,toString:h,unbind:d,unrender:p},m}(Hn,Vn,zn,Un,Wn,qn,Xn,Gn,Yn,oi,li,ki,Si,Oi,Ni),Ri=function(){function e(e,t){var n=r.exec(t)[0];return null===e||n.length<e.length?n:e}var t,n=/^\s*$/,r=/^\s*/;return t=function(t){var r,i,o,a;return r=t.split("\n"),i=r[0],void 0!==i&&n.test(i)&&r.shift(),o=r[r.length-1],void 0!==o&&n.test(o)&&r.pop(),a=r.reduce(e,null),a&&(t=r.map(function(e){return e.replace(a,"")}).join("\n")),t}}(),Ai=function(e,t,n,r){function i(r,i){var o=t.registries.partials,a=o.findInstance(r,i);if(a){var s,l=a.partials[i];if("function"==typeof l&&(s=l.bind(a),s.isOwner=a.partials.hasOwnProperty(i),l=s(a.data,n)),!l)return void e.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});if(!n.isParsed(l)){var u=n.parse(l,n.getParseOptions(a));u.p&&e.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}});var c=s?a:o.findOwner(a,i);c.partials[i]=l=u.t}return s&&(l._fn=s),l.v?l.t:l}}var o;return o=function(e,t){var o;if(o=i(e,t))return o;if(o=n.fromId(t,{noThrow:!0})){o=r(o);var a=n.parse(o,n.getParseOptions(e));return e.partials[t]=a.t}}}(d,qe,Fe,Ri),Pi=function(e,t){var n;return t?n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"):e},Li=function(e,t,n,r,i,o,a,s,l){var u,c;return i.push(function(){c=i.Fragment}),u=function(e){var r,i;r=this.parentFragment=e.parentFragment,this.root=r.root,this.type=t.PARTIAL,this.index=e.index,this.name=e.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,a.init(this,e),!this.keypath&&(i=n(this.root,this.name))&&(l.call(this),this.isNamed=!0,this.setTemplate(i))},u.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getValue:function(){return this.fragment.getValue()},rebind:function(e,t,n,r){s.call(this,e,t,n,r),this.fragment.rebind(e,t,n,r)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:a.resolve,setValue:function(t){var r;void 0!==t&&t===this.value||(r=n(this.root,""+t),!r&&this.name&&(r=n(this.root,this.name))&&(l.call(this),this.isNamed=!0),r||e.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.setTemplate(r||[]),this.value=t,this.bubble(),this.rendered&&o.addView(this))},setTemplate:function(e){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new c({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(e){var n,i,o,a;return n=this.fragment.toString(e),i=this.parentFragment.items[this.index-1],i&&i.type===t.TEXT?(o=i.text.split("\n").pop(),(a=/^\s+$/.exec(o))?r(n,a[0]):n):n},unbind:function(){this.isNamed||l.call(this),this.fragment&&this.fragment.unbind()},unrender:function(e){this.rendered&&(this.fragment&&this.fragment.unrender(e),this.rendered=!1)},update:function(){var e,t;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(e=this.parentFragment.getNode(),t=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,t))}},u}(d,z,Ai,Pi,i,T,un,ln,Xt),ji=function(e,t,n){var r;return n.push(function(){r=n.Ractive}),function i(n,r){var o,a=e.registries.components.findInstance(n,r);if(a&&(o=a.components[r],!o._parent)){var s=o.bind(a);if(s.isOwner=a.components.hasOwnProperty(r),o=s(a.data),!o)return void t.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});"string"==typeof o&&(o=i(n,o)),o._fn=s,a.components[r]=o}return o}}(qe,d,i),$i=function(e){var t=new e("detach");return function(){var e=this.instance.fragment.detach();return t.fire(this.instance),e}}(p),Mi=function(e){return this.instance.fragment.find(e)},Di=function(e,t){return this.instance.fragment.findAll(e,t)},Fi=function(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)},Bi=function(e){return e&&e!==this.name?this.instance.fragment?this.instance.fragment.findComponent(e):null:this.instance},Hi=function(){return this.parentFragment.findNextNode(this)},Vi=function(){return this.rendered?this.instance.fragment.firstNode():null},zi=function(e,t){var n,r;return t.push(function(){n=t.Fragment}),r=function(e,t,r){this.parentFragment=e.parentFragment,this.component=e,this.key=t,this.fragment=new n({template:r,root:e.root,owner:this}),this.value=this.fragment.getValue()},r.prototype={bubble:function(){this.dirty||(this.dirty=!0,e.addView(this))},update:function(){var t=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,t),e.addViewmodel(this.component.instance.viewmodel),this.value=t,this.dirty=!1},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},unbind:function(){this.fragment.unbind()}},r}(T,i),Ui=function(e,t){var n=function(n,r,i,o){var a=this;this.root=n.root,this.parentFragment=n.parentFragment,this.ready=!1,this.hash=null,this.resolver=new e(this,i,function(e){a.binding||(a.binding=n.bindings[a.hash])?(n.bindings[a.hash]=null,a.binding.rebind(e),a.hash=e+"="+r,n.bindings[a.hash]):a.ready?t(n,n.root,e,r):o.push({childKeypath:r,parentKeypath:e}),a.value=n.root.viewmodel.get(e)})};return n.prototype={rebind:function(e,t,n,r){this.resolver.rebind(e,t,n,r)},unbind:function(){this.resolver.unbind()}},n}(on,b),Wi=function(e,t,n,r,i){function o(o,a,s,l){var u,c,f,h,d,p;if(f=o.root,h=o.parentFragment,"string"==typeof s)return c=t(s),c?c.value:s;if(null===s)return!0;if(1===s.length&&s[0].t===e.INTERPOLATOR){if(s[0].r)return h.indexRefs&&void 0!==h.indexRefs[p=s[0].r]?(o.indexRefBindings[p]=a,h.indexRefs[p]):(d=n(f,s[0].r,h)||s[0].r,l.push({childKeypath:a,parentKeypath:d}),f.viewmodel.get(d));if(s[0].rx)return u=new i(o,a,s[0].rx,l),o.complexParameters.push(u),u.ready=!0,u.value}return u=new r(o,a,s),o.complexParameters.push(u),u.value}var a;return a=function(e,t,n,r){var i,a,s={};e.complexParameters=[];for(i in n)n.hasOwnProperty(i)&&(a=o(e,i,n[i],r),void 0===a&&void 0!==t[i]||(s[i]=a));return s}}(z,Ie,w,zi,Ui),qi=function(e){return function(t,n,r,i){var o,a,s,l;return a=t.parentFragment,l=t.root,s={content:i||[]},n.defaults.el&&e.warn({debug:l.debug,message:"defaultElSpecified",args:{name:t.name}}),o=new n({el:null,append:!0,data:r,partials:s,magic:l.magic||n.defaults.magic,modifyArrays:l.modifyArrays,_parent:l,_component:t,adapt:l.adapt,"yield":{template:i,instance:l}})}}(d),Xi=function(e){return function(t,n){n.forEach(function(n){var r,i;e(t,t.root,n.parentKeypath,n.childKeypath),r=t.instance.viewmodel.get(n.childKeypath),i=t.root.viewmodel.get(n.parentKeypath),void 0!==r&&void 0===i&&t.root.viewmodel.set(n.parentKeypath,r)})}}(b),Gi=function(e,t,n){function r(e,r,i,o){"string"!=typeof o&&n.error({debug:r.debug,message:"noComponentEventArguments"}),e.on(i,function(){var e,n;return arguments.length&&arguments[0]&&arguments[0].node&&(e=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),t(r,o,{event:e,args:n}),!1})}var i,o;return e.push(function(){o=e.Fragment}),i=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&r(e.instance,e.root,n,t[n])}}(i,ft,d),Yi=function(e){var t,n;for(t=e.root;t;)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t._parent},Ki=function(e,t,n,r,i,o,a){return function(s,l){var u,c,f,h;if(u=this.parentFragment=s.parentFragment,c=u.root,this.root=c,this.type=e.COMPONENT,this.name=s.template.e,this.index=s.index,this.indexRefBindings={},this.bindings=[],this.yielders=[],!l)throw new Error('Component "'+this.name+'" not found');h=[],f=n(this,l.defaults.data||{},s.template.a,h),r(this,l,f,s.template.f),i(this,h),o(this,s.template.v),(s.template.t1||s.template.t2||s.template.o)&&t('The "intro", "outro" and "decorator" directives have no effect on components'),a(this)}}(z,f,Wi,qi,Xi,Gi,Yi),Qi=function(e,t){return function(n,r,i,o){function a(e){e.rebind(n,r,i,o)}var s,l,u=this.instance,c=u._parent;this.bindings.forEach(function(e){var n;e.root===c&&(n=t(e.keypath,i,o))&&e.rebind(n)}),this.complexParameters.forEach(a),this.yielders[0]&&a(this.yielders[0]),(s=this.indexRefBindings[n])&&(e.addViewmodel(u.viewmodel),u.viewmodel.set(s,r)),(l=this.root._liveComponentQueries["_"+this.name])&&l._makeDirty()}}(T,Kt),Ji=function(){var e=this.instance;return e.render(this.parentFragment.getNode()),this.rendered=!0,e.fragment.detach()},Zi=function(){return this.instance.fragment.toString()},eo=function(e,t){function n(e){e.unbind()}function r(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t._parent)}var i,o=new e("teardown");return i=function(){var e=this.instance;this.complexParameters.forEach(n),this.bindings.forEach(n),r(this),e.fragment.unbind(),e.viewmodel.teardown(),e.fragment.rendered&&e.el.__ractive_instances__&&t(e.el.__ractive_instances__,e),o.fire(e)}}(p,m),to=function(e){this.shouldDestroy=e,this.instance.unrender()},no=function(e,t,n,r,i,o,a,s,l,u,c,f,h){var d=function(e,t){this.init(e,t)};return d.prototype={detach:e,find:t,findAll:n,findAllComponents:r,findComponent:i,findNextNode:o,firstNode:a,init:s,rebind:l,render:u,toString:c,unbind:f,unrender:h},d}($i,Mi,Di,Fi,Bi,Hi,Vi,Ki,Qi,Ji,Zi,eo,to),ro=function(e,t){var n=function(t){this.type=e.COMMENT,this.value=t.template.c};return n.prototype={detach:t,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}},n}(z,Wt),io=function(e,t,n){var r;n.push(function(){r=n.Fragment});var i=function(t){var n,i;n=t.parentFragment.root,this.component=i=n.component,this.surrogateParent=t.parentFragment,this.parentFragment=i.parentFragment,this.fragment=new r({owner:this,root:n["yield"].instance,template:n["yield"].template,pElement:this.surrogateParent.pElement}),i.yielders.push(this),e.scheduleTask(function(){if(i.yielders.length>1)throw new Error("A component template can only have one {{yield}} declaration at a time")})};return i.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.surrogateParent.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e),t(this.component.yielders,this)},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},toString:function(){return this.fragment.toString()}},i}(T,m,i),oo=function(e,t,n,r,i,o,a,s,l,u,c){return function(f){if("string"==typeof f.template)return new t(f);switch(f.template.t){case e.INTERPOLATOR:return"yield"===f.template.r?new c(f):new n(f);case e.SECTION:return new r(f);case e.TRIPLE:return new i(f);case e.ELEMENT:var h;return(h=s(f.parentFragment.root,f.template.e))?new l(f,h):new o(f);case e.PARTIAL:return new a(f);case e.COMMENT:return new u(f);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(z,qt,cn,xn,Bn,Ii,Li,ji,no,ro,io),ao=function(e,t,n){return function(r){var i,o,a,s=this;if(this.owner=r.owner,i=this.parent=this.owner.parentFragment,this.root=r.root,this.pElement=r.pElement,this.context=r.context,this.owner.type===e.SECTION&&(this.index=r.index),i&&(o=i.indexRefs)){this.indexRefs=t(null);for(a in o)this.indexRefs[a]=o[a]}r.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[r.indexRef]=r.index),"string"==typeof r.template?r.template=[r.template]:r.template||(r.template=[]),this.items=r.template.map(function(e,t){return n({parentFragment:s,pElement:r.pElement,template:e,index:t})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}}(z,U,oo),so=function(e){return function(t,n,r,i){this.index=n,e(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[t]&&(this.indexRefs[t]=n),this.items.forEach(function(e){e.rebind&&e.rebind(t,n,r,i)})}}(si),lo=function(){var e;return 1===this.items.length?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e},uo=function(e){return this.items?this.items.map(function(t){return t.toString(e)}).join(""):""},co=function(){function e(e){e.unbind&&e.unbind()}var t;return t=function(){this.bound&&(this.items.forEach(e),this.bound=!1)}}(),fo=function(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)}),this.rendered=!1},ho=function(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,_){var g=function(e){this.init(e)};return g.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:a,firstNode:s,getNode:l,getValue:u,init:c,rebind:f,render:h,toString:d,unbind:p,unrender:m},_.Fragment=g,g}(Pt,Lt,jt,$t,Mt,Dt,Ft,Bt,Ht,Vt,ao,so,lo,uo,co,fo,i),po=function(e,t,n,r){var i=["template","partials","components","decorators","events"],o=new e("reset");return function(e,a){var s,l,u,c,f;if("function"!=typeof e||a?e=e||{}:(a=e,e={}),"object"!=typeof e)throw new Error("The reset method takes either no arguments, or an object containing new data");for((l=this.viewmodel.wrapped[""])&&l.reset?l.reset(e)===!1&&(this.data=e):this.data=e,u=r.reset(this),c=u.length;c--;)if(i.indexOf(u[c])>-1){f=!0;break}if(f){var h;this.viewmodel.mark(""),(h=this.component)&&(h.shouldDestroy=!0),this.unrender(),h&&(h.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new n({template:this.template,root:this,owner:this})),s=this.render(this.el,this.anchor)}else s=t.start(this,!0),this.viewmodel.mark(""),t.end();return o.fire(this,e),a&&s.then(a),s}}(p,T,ho,qe),mo=function(e,t){return function(n){var r,i;e.template.init(null,this,{template:n}),r=this.transitionsEnabled,this.transitionsEnabled=!1,(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new t({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=r}}(qe,ho),_o=function(e){return e("reverse")}(Ot),go=function(e,t,n,r){var i=/\*/;return function(o,a,s){var l,u,c=this;if(u=e.start(this,!0),t(o)){l=o,s=a;for(o in l)l.hasOwnProperty(o)&&(a=l[o],o=n(o),this.viewmodel.set(o,a))}else o=n(o),i.test(o)?r(this,o).forEach(function(e){c.viewmodel.set(e,a)}):this.viewmodel.set(o,a);return e.end(),s&&u.then(s.bind(this)),u}}(T,s,L,vt),vo=function(e){return e("shift")}(Ot),yo=function(e){return e("sort")}(Ot),bo=function(e){return e("splice")}(Ot),wo=function(e){return function(t,n){return e(this,t,void 0===n?-1:-n)}}(A),Eo=function(e,t,n){var r=new e("teardown");return function(e){var i;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&n(this.el.__ractive_instances__,this),this.shouldDestroy=!0,i=this.fragment.rendered?this.unrender():t.resolve(),r.fire(this),e&&i.then(e.bind(this)),i}}(p,_,m),To=function(e){return function(t,n){var r;return"string"!=typeof t&&e.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:t}}),r=this.get(t),this.set(t,!r,n)}}(d),Co=function(){return this.fragment.toString(!0)},ko=function(e,t,n,r,i,o){var a=new t("unrender");return function(){var t,s,l=this;if(!this.fragment.rendered)return n.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),r.resolve();for(t=o.start(this,!0),s=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&t.then(function(){e.remove(l.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(s),i(this.el.__ractive_instances__,this),a.fire(this),o.end(),t}}(Rt,p,d,_,m,T),So=function(e){return e("unshift")}(Ot),xo=function(e,t){var n=new e("update");return function(e,r){var i;return"function"==typeof e?(r=e,e=""):e=e||"",i=t.start(this,!0),this.viewmodel.mark(e),t.end(),n.fire(this,e),r&&i.then(r.bind(this)),i}}(p,T),Oo=function(e,t){function n(r,i,o,a){var s,l,u,c,f,h,d=[];if(s=r._twowayBindings[i],s&&(u=s.length))for(;u--;)c=s[u],c.radioName&&!c.element.node.checked||(c.checkboxName?d[c.keypath]||c.changed()||(d.push(c.keypath),d[c.keypath]=c):(f=c.attribute.value,h=c.getValue(),e(f,h)||t(f,h)||(o[i]=h)));if(d.length&&d.forEach(function(t){var n,r,i;n=d[t],r=n.attribute.value,i=n.getValue(),e(r,i)||(o[t]=i)}),a&&(l=r.viewmodel.depsMap["default"][i]))for(u=l.length;u--;)n(r,l[u],o,a)}var r;return r=function(e,t){var r;return"string"!=typeof e&&(e="",t=!0),n(this,e,r={},t),this.set(r)}}(jr,y),No=function(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,_,g,v,y,b,w,E,T,C,k,S,x,O,N,I,R){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:a,fire:s,get:l,insert:u,merge:c,observe:f,off:h,on:d,pop:p,push:m,render:_,reset:g,resetTemplate:v,reverse:y,set:b,shift:w,sort:E,splice:T,subtract:C,teardown:k,toggle:S,toHTML:x,unrender:O,unshift:N,update:I,updateModel:R}}(P,Ye,Ke,Qe,st,lt,ut,ht,dt,mt,_t,Et,kt,St,Nt,It,At,po,mo,_o,go,vo,yo,bo,wo,Eo,To,Co,ko,So,xo,Oo),Io=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"==e?t:3&t|8,n.toString(16)})},Ro=function(){var e=0;return function(){return"r-"+e++}}(),Ao=function(e){function t(t){this.hook=new e(t),this.inProcess={},this.queue={}}function n(e,t){return e[t._guid]||(e[t._guid]=[])}function r(e,t){var i=n(e.queue,t);for(e.hook.fire(t);i.length;)r(e,i.shift());delete e.queue[t._guid]}return t.prototype={constructor:t,begin:function(e){this.inProcess[e._guid]=!0},end:function(e){var t=e._parent;t&&this.inProcess[t._guid]?n(this.queue,t).push(e):r(this,e),delete this.inProcess[e._guid]}},t}(p),Po=function(e,t,n,r){var i=e.root,o=e.keypath;return"sort"===n||"reverse"===n?void i.viewmodel.set(o,t):void i.viewmodel.smartUpdate(o,t,r)},Lo=function(e,t,n,r){var i,o,a,s=[],l=["pop","push","reverse","shift","sort","splice","unshift"];return l.forEach(function(i){var o=function(){var t,o,a,s,l=Array.prototype.slice,u=l.call(arguments,0);for(t=n(this,i,u),o=Array.prototype[i].apply(this,arguments),e.start(),this._ractive.setting=!0,s=this._ractive.wrappers.length;s--;)a=this._ractive.wrappers[s],e.addViewmodel(a.root.viewmodel),r(a,this,i,t);return e.end(),this._ractive.setting=!1,o};t(s,i,{value:o})}),i={},i.__proto__?(o=function(e){e.__proto__=s},a=function(e){e.__proto__=Array.prototype}):(o=function(e){var n,r;for(n=l.length;n--;)r=l[n],t(e,r,{value:s[r],configurable:!0})},a=function(e){var t;for(t=l.length;t--;)delete e[l[t]]}),o.unpatch=a,o}(T,I,xt,Po),jo=function(e,t,n){var r,i,o;return r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}},i=function(t,r,i){this.root=t,this.value=r,this.keypath=i,r._ractive||(e(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[t._guid]||(r._ractive.instances[t._guid]=0,r._ractive.instances.push(t)),r._ractive.instances[t._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,a;if(e=this.value,t=e._ractive,r=t.wrappers,i=t.instances,t.setting)return!1;if(a=r.indexOf(this),a===-1)throw new Error(o);if(r.splice(a,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(a=i.indexOf(this.root),a===-1)throw new Error(o);i.splice(a,1)}}else delete e._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",r}(I,a,Lo),$o=function(e,t){var n,r;return e&&(n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=e.wrap(n,r,i),this.arrayWrapper=t.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}}),n}(k,jo),Mo=function(e,t,n,r,i){function o(e,t){var n,r={};if(!t)return e;t+=".";for(n in e)e.hasOwnProperty(n)&&(r[t+n]=e[n]);return r}function a(e){var t;return l[e]||(t=e?e+".":"",l[e]=function(n,r){var i;return"string"==typeof n?(i={},i[t+n]=r,i):"object"==typeof n?t?o(n,e):n:void 0}),l[e]}var s,l={};return s=function(o,s){var l,u,c,f,h=this.ractive;for(l=h.adapt.length,u=0;u<l;u+=1){if(c=h.adapt[u],"string"==typeof c){var d=e.registries.adaptors.find(h,c);if(!d)return n.critical({debug:h.debug,message:"missingPlugin",args:{plugin:"adaptor",name:c}});c=h.adapt[u]=d}if(c.filter(s,o,h))return f=this.wrapped[o]=c.wrap(h,s,o,a(o)),f.value=s,s}return h.magic?i.filter(s,o,h)?this.wrapped[o]=i.wrap(h,s,o):r.filter(s,o,h)&&(this.wrapped[o]=r.wrap(h,s,o)):h.modifyArrays&&t.filter(s,o,h)&&(this.wrapped[o]=t.wrap(h,s,o)),s}}(qe,jo,d,k,$o),Do=function(e){var t,n,r,i,o=[""];for(t=e.length;t--;)for(n=e[t],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),o.indexOf(i)===-1&&o.push(i);return o},Fo=function(){function e(e){var t,r,i,o,a,s="";if(!n[e]){for(i=[];s.length<e;)s+=1;for(t=parseInt(s,2),o=function(e){return"1"===e},a=0;a<=t;a+=1){for(r=a.toString(2);r.length<e;)r="0"+r;i[a]=Array.prototype.map.call(r,o)}n[e]=i}return n[e]}var t,n={};return t=function(t){var n,r,i,o;return n=t.split("."),r=e(n.length),i=function(e,t){return e?"*":n[t]},o=r.map(function(e){return e.map(i).join(".")})}}(),Bo=function(e){function t(t,i,o){var a;r(t,i),o||(a=e(i),a.forEach(function(e){n(t,e,i)}))}function n(e,t,i){var a,s,l;a=e.depsMap.patternObservers,s=a[t],s&&s.forEach(function(t){var a=o.exec(t)[0];l=i?i+"."+a:a,r(e,l),n(e,t,l)})}function r(e,t){e.patternObservers.forEach(function(e){e.regex.test(t)&&e.update(t)})}var i,o=/[^\.]+$/;return i=t}(Fo),Ho=function(e,t){function n(e){e.invalidate()}function r(e){return e.key}function i(e,t,n,r){var i,o;(i=s(e,n,r))&&(o=e.get(n),i.forEach(function(e){t&&e.refineValue?t.push(e):e.setValue(o)}))}function o(e,t,n){t.forEach(function(t){for(var r=!1,i=0,o=n.length,a=[];i<o;){var s=n[i];if(s===t.keypath){r=!0;break}s.slice(0,t.keypath.length)===t.keypath&&a.push(s),i++}r&&t.setValue(e.get(t.keypath)),a.length&&t.refineValue(a)})}function a(e,t,n){function r(e){e.forEach(i),e.forEach(o)}function i(t){var r=s(e,t,n);r&&l.push({keypath:t,deps:r})}function o(t){var i;(i=e.depsMap[n][t])&&r(i)}function a(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}var l=[];r(t),l.forEach(a)}function s(e,t,n){var r=e.deps[n];return r?r[t]:null}var l;return l=function(){function s(e){var t,i,o;h.noCascade.hasOwnProperty(e)||((i=h.deps.computed[e])&&(i.forEach(n),o=i.map(r),o.forEach(l),o.forEach(s)),(t=h.depsMap.computed[e])&&t.forEach(s))}function l(e){h.mark(e)}var u,c,f=this,h=this,d={};if(u=this.changes,u.length){if(u.forEach(s),c=e(u),c.forEach(function(e){var t,i;(t=h.deps.computed[e])&&(t.forEach(n),i=t.map(r),i.forEach(l),i.forEach(s))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(e){return t(f,e,!0)}),u.forEach(function(e){return t(f,e)})),this.deps.observers&&(c.forEach(function(e){return i(f,null,e,"observers")}),a(this,u,"observers")),this.deps["default"]){var p=[];c.forEach(function(e){return i(f,p,e,"default")}),p.length&&o(this,p,u),a(this,u,"default")}return u.forEach(function(e){d[e]=f.get(e)}),this.implicitChanges={},this.noCascade={},d}}}(Do,Bo),Vo=function(){this.captureGroups.push([])},zo=function(e,t){var n,r;if(t||(r=this.wrapped[e])&&r.teardown()!==!1&&(this.wrapped[e]=null),this.cache[e]=void 0,n=this.cacheMap[e])for(;n.length;)this.clearCache(n.pop())},Uo=function(){function e(e){var t="var __ractive=this;return("+e.replace(n,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(t)}var t,n=/\$\{([^\}]+)\}/g;return t=function(t){return"function"==typeof t?{get:t}:"string"==typeof t?{get:e(t)}:("object"==typeof t&&"string"==typeof t.get&&(t={get:e(t.get),set:t.set}),t)}}(),Wo=function(e,t){var n=function(e,t,n){var r=this;this.ractive=e,this.viewmodel=e.viewmodel,this.key=t,this.getter=n.get,this.setter=n.set,this.hardDeps=n.deps||[],this.softDeps=[],this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(t){return e.viewmodel.register(t,r,"computed")}),this._dirty=this._firstRun=!0};return n.prototype={constructor:n,init:function(){var e;this.bypass=!0,e=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==e&&this.set(e)},invalidate:function(){this._dirty=!0},get:function(){var n,r,i,o=this,a=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(n=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?a=!0:[this.hardDeps,this.softDeps].forEach(function(e){var r,i,s;if(!a)for(s=e.length;s--;)if(r=e[s],i=n.viewmodel.get(r),!t(i,o.depValues[r]))return o.depValues[r]=i,void(a=!0)}),a){n.viewmodel.capture();try{this.value=this.getter.call(n)}catch(s){e.warn({debug:n.debug,message:"failedComputation",args:{key:this.key,err:s.message||s}}),this.value=void 0}r=n.viewmodel.release(),i=this.updateDependencies(r),i&&[this.hardDeps,this.softDeps].forEach(function(e){e.forEach(function(e){o.depValues[e]=n.viewmodel.get(e)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(e){if(this.setting)return void(this.value=e);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,e)},updateDependencies:function(e){var t,n,r,i;for(n=this.softDeps,t=n.length;t--;)r=n[t],e.indexOf(r)===-1&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(t=e.length;t--;)r=e[t],n.indexOf(r)!==-1||this.hardDeps&&this.hardDeps.indexOf(r)!==-1||(i=!0,this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=e.slice()),i}},n}(d,y),qo=function(e,t){return function(n,r){return r=e(r),this.computations[n]=new t(this.ractive,n,r)}}(Uo,Wo),Xo={FAILED_LOOKUP:!0},Go=function(e,t){var n={},r=function(e,r){this.viewmodel=e,this.root=e.ractive,this.ref=r,this.parentFragment=n,e.unresolvedImplicitDependencies[r]=!0,e.unresolvedImplicitDependencies.push(this),t.addUnresolved(this)};return r.prototype={resolve:function(){this.viewmodel.mark(this.ref),this.viewmodel.unresolvedImplicitDependencies[this.ref]=!1,e(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){t.removeUnresolved(this)}},r}(m,T),Yo=function(e,t,n){function r(e,n){var r,i,o,a,s,l,u;if(r=n.split("."),i=r.pop(),o=r.join("."),a=e.get(o),(u=e.wrapped[o])&&(a=u.get()),null!==a&&void 0!==a)return(s=e.cacheMap[o])?s.indexOf(n)===-1&&s.push(n):e.cacheMap[o]=[n],"object"!=typeof a||i in a?(l=a[i],e.adapt(n,l,!1),e.cache[n]=l,l):e.cache[n]=t}var i,o={};return i=function(i){var a=arguments[1];void 0===a&&(a=o);var s,l,u,c,f=this.ractive,h=this.cache;return"@"===i[0]?(s=i.slice(1),e(s)?+s:s):(void 0===h[i]?((l=this.computations[i])&&!l.bypass?(s=l.get(),this.adapt(i,s)):(u=this.wrapped[i])?s=u.value:i?s=r(this,i):(this.adapt("",f.data),s=f.data),h[i]=s):s=h[i],a.evaluateWrapped&&(u=this.wrapped[i])&&(s=u.get()),a.capture&&(c=this.captureGroups[this.captureGroups.length-1])&&(~c.indexOf(i)||(c.push(i),s===t&&this.unresolvedImplicitDependencies[i]!==!0&&new n(this,i))),s===t?void 0:s)}}(l,Xo,Go),Ko=function(){function e(e){e.init()}var t;return t=function(){var t,n,r=[];for(t in this.ractive.computed)n=this.compute(t,this.ractive.computed[t]),r.push(n);r.forEach(e)}}(),Qo=function(e,t){var n;t&&(t.implicit&&(this.implicitChanges[e]=!0),t.noCascade&&(this.noCascade[e]=!0)),(n=this.computations[e])&&n.invalidate(),this.changes.indexOf(e)===-1&&this.changes.push(e),this.clearCache(e)},Jo=function(e,t){var n,r,i,o;return n={},r=0,i=e.map(function(e,i){var a,s,l;s=r,l=t.length;do{if(a=t.indexOf(e,s),a===-1)return o=!0,-1;s=a+1}while(n[a]&&s<l);return a===r&&(r+=1),a!==i&&(o=!0),n[a]=!0,a})},Zo=function(e,t){function n(e){return JSON.stringify(e)}function r(e){if(e===!0)return n;if("string"==typeof e)return o[e]||(o[e]=function(t){return t[e]}),o[e];if("function"==typeof e)return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var i,o={};return i=function(n,i,o,a){var s,l,u,c;if(this.mark(n),a&&a.compare){u=r(a.compare);try{s=i.map(u),l=o.map(u)}catch(f){if(this.debug)throw f;e("Merge operation: comparison failed. Falling back to identity checking"),s=i,l=o}}else s=i,l=o;c=t(s,l),this.smartUpdate(n,o,c,i.length!==o.length)}}(f,Jo),ea=function(){function e(e,t,n){var r,i,o,a;for(r=t.split(".");r.length;)r.pop(),i=r.join("."),o=e.depsMap[n]||(e.depsMap[n]={}),a=o[i]||(o[i]=[]),void 0===a[t]&&(a[t]=0,a.push(t)),a[t]+=1,t=i}var t;return t=function(t,n){var r=arguments[2];void 0===r&&(r="default");var i,o;n.isStatic||(i=this.deps[r]||(this.deps[r]={}),o=i[t]||(i[t]=[]),o.push(n),t&&e(this,t,r))}}(),ta=function(){return this.captureGroups.pop()},na=function(e,t){function n(e,n,r){var i,o,a,s,l,u,c;u=function(){s.set?s.set(o,r):(l=s.get(),c())},c=function(){l||(l=t(o),e.set(a,l,!0)),l[o]=r},i=n.split("."),o=i.pop(),a=i.join("."),s=e.wrapped[a],s?u():(l=e.get(a),(s=e.wrapped[a])?u():c())}var r;return r=function(t,r,i){var o,a,s;if(o=this.computations[t]){if(o.setting)return;o.set(r),r=o.get()}e(this.cache[t],r)||(a=this.wrapped[t],a&&a.reset&&(s=a.reset(r)!==!1,s&&(r=a.get())),o||s||n(this,t,r),
i?this.clearCache(t):this.mark(t))}}(y,C),ra=function(){function e(e){return"function"==typeof e.shuffle}var t,n={implicit:!0},r={noCascade:!0};return t=function(t,i,o){var a,s,l=this;if(s=o.length,o.forEach(function(e,n){e===-1&&l.mark(t+"."+n,r)}),this.set(t,i,!0),(a=this.deps["default"][t])&&a.filter(e).forEach(function(e){return e.shuffle(o,i)}),s!==i.length){this.mark(t+".length",n);for(var u=s;u<i.length;u+=1)this.mark(t+"."+u);for(var c=i.length;c<s;c+=1)this.mark(t+"."+c,r)}}}(),ia=function(){var e,t=this;for(Object.keys(this.cache).forEach(function(e){return t.clearCache(e)});e=this.unresolvedImplicitDependencies.pop();)e.teardown()},oa=function(){function e(e,t,n){var r,i,o,a;for(r=t.split(".");r.length;)r.pop(),i=r.join("."),o=e.depsMap[n],a=o[i],a[t]-=1,a[t]||(a.splice(a.indexOf(t),1),a[t]=void 0),t=i}var t;return t=function(t,n){var r=arguments[2];void 0===r&&(r="default");var i,o;if(!n.isStatic){if(i=this.deps[r][t],o=i.indexOf(n),o===-1)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(o,1),t&&e(this,t,r)}}}(),aa=function(){function e(e){return"string"==typeof e&&(e=[e]),e}var t={lookup:function(e,t){var n,r=e.adapt;if(!r||!r.length)return r;if(t&&Object.keys(t).length&&(n=r.length))for(;n--;){var i=r[n];"string"==typeof i&&(r[n]=t[i]||i)}return r},combine:function(t,n){return t=e(t),n=e(n),t&&t.length?n&&n.length?(t.forEach(function(e){n.indexOf(e)===-1&&n.push(e)}),n):t.slice():n}};return t}(),sa=function(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,_){var g;try{Object.defineProperty({},"test",{value:0})}catch(v){g=!0}var y=function(t){this.ractive=t,y.extend(t.constructor,t),this.cache={},this.cacheMap=e(null),this.deps={computed:{},"default":{}},this.depsMap={computed:{},"default":{}},this.patternObservers=[],this.wrapped=e(null),this.computations=e(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};return y.extend=function(e,t){if(t.magic&&g)throw new Error("Getters and setters (magic mode) are not supported in this browser");t.adapt=_.combine(e.prototype.adapt,t.adapt)||[],t.adapt=_.lookup(t,t.adaptors)},y.prototype={adapt:t,applyChanges:n,capture:r,clearCache:i,compute:o,get:a,init:s,mark:l,merge:u,register:c,release:f,set:h,smartUpdate:d,teardown:p,unregister:m},y}(U,Mo,Ho,Vo,zo,qo,Yo,Ko,Qo,Zo,ea,ta,na,ra,ia,oa,aa),la=function(e,t,n,r,i,o,a,s){function l(e,n){e._guid=i(),e._subs=t(null),e._config={},e._twowayBindings=t(null),e._animations=[],e.nodes={},e._liveQueries=[],e._liveComponentQueries=[],n._parent&&n._component&&(e._parent=n._parent,e.component=n._component,n._component.instance=e)}var u,c=new o("construct"),f=new o("config"),h=new a("init");return u=function(t){var i=arguments[1];void 0===i&&(i={});var o;if(l(t,i),c.fire(e.getConstructTarget(t,i),i),e.init(t.constructor,t,i),f.fire(t),(o=r(t.el))&&!t.append){if(o.__ractive_instances__)try{o.__ractive_instances__.splice(0,o.__ractive_instances__.length).forEach(function(e){return e.teardown()})}catch(a){}o.innerHTML=""}h.begin(t),t.viewmodel=new s(t),t.viewmodel.init(),t.template&&(t.fragment=new n({template:t.template,root:t,owner:t})),h.end(t),o&&t.render(o,t.append)}}(qe,U,ho,pt,Ro,p,Ao,sa),ua=function(e,t,n){function r(e,t,n){var r,i=Object.keys(e[n]);i.length&&((r=t[n])||(r=t[n]={}),i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]}))}var i,o;return n.push(function(){o=n.Ractive}),i=function(n){if(!(n.prototype instanceof o))return n;for(var i={};n;)t.registries.forEach(function(e){r(e.useDefaults?n.prototype:n,i,e.name)}),Object.keys(n.prototype).forEach(function(t){if("computed"!==t){var r=n.prototype[t];if(t in i){if("function"==typeof i[t]&&"function"==typeof r&&i[t]._method){var o,a=r._method;a&&(r=r._method),o=e(i[t]._method,r),a&&(o._method=o),i[t]=o}}else i[t]=r._method?r._method:r}}),n=n._parent!==o&&n._parent;return i}}(H,qe,i),ca=function(e,t,n,r,i,o,a){return function s(){var l=arguments[0];void 0===l&&(l={});var u,c,f,h=this;return l=a(l),u=function(e){i(this,e)},c=e(h.prototype),c.constructor=u,f={_guid:{value:n()},defaults:{value:c},extend:{value:s,writable:!0,configurable:!0},_parent:{value:h}},t(u,f),r.extend(h,c,l),o.extend(h,c),u.prototype=c,u}}(U,R,Io,qe,la,sa,ua),fa=function(e,t,n,r,i,o,a,s,l,u,c,f,h){var d,p;for(d=function(e){f(this,e)},p={extend:{value:u},parse:{value:c},Promise:{value:s},svg:{value:r},magic:{value:i},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:t},events:{writable:!0,value:{}},interpolators:{writable:!0,value:n},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},o(d,p),d.prototype=l(a,e),d.prototype.constructor=d,d.defaults=d.prototype,h.Ractive=d;h.length;)h.pop()();var m="function";if(typeof Date.now!==m||typeof String.prototype.trim!==m||typeof Object.keys!==m||typeof Array.prototype.indexOf!==m||typeof Array.prototype.forEach!==m||typeof Array.prototype.map!==m||typeof Array.prototype.filter!==m||"undefined"!=typeof window&&typeof window.addEventListener!==m)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return d}(n,r,u,c,S,R,No,_,kr,ca,$e,la,i);"undefined"!=typeof module&&module.exports?module.exports=fa:"function"==typeof define&&define.amd&&define(function(){return fa}),e.Ractive=fa,fa.noConflict=function(){return e.Ractive=t,fa}}("undefined"!=typeof window?window:this),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-tap plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t=function(e,t){var n,r,i,o,a,s,l;return o=5,a=400,n=function(n){var r,i,l,u,c,f,h;s||void 0!==n.which&&1!==n.which||(i=n.clientX,l=n.clientY,r=this,u=n.pointerId,c=function(e){e.pointerId==u&&(t({node:r,original:e}),h())},f=function(e){e.pointerId==u&&(Math.abs(e.clientX-i)>=o||Math.abs(e.clientY-l)>=o)&&h()},h=function(){e.removeEventListener("MSPointerUp",c,!1),document.removeEventListener("MSPointerMove",f,!1),document.removeEventListener("MSPointerCancel",h,!1),e.removeEventListener("pointerup",c,!1),document.removeEventListener("pointermove",f,!1),document.removeEventListener("pointercancel",h,!1),e.removeEventListener("click",c,!1),document.removeEventListener("mousemove",f,!1)},window.navigator.pointerEnabled?(e.addEventListener("pointerup",c,!1),document.addEventListener("pointermove",f,!1),document.addEventListener("pointercancel",h,!1)):window.navigator.msPointerEnabled?(e.addEventListener("MSPointerUp",c,!1),document.addEventListener("MSPointerMove",f,!1),document.addEventListener("MSPointerCancel",h,!1)):(e.addEventListener("click",c,!1),document.addEventListener("mousemove",f,!1)),setTimeout(h,a))},window.navigator.pointerEnabled?e.addEventListener("pointerdown",n,!1):window.navigator.msPointerEnabled?e.addEventListener("MSPointerDown",n,!1):e.addEventListener("mousedown",n,!1),r=function(n){var r,i,u,c,f,h,d,p;1===n.touches.length&&(c=n.touches[0],i=c.clientX,u=c.clientY,r=this,f=c.identifier,d=function(e){var n;n=e.changedTouches[0],n.identifier!==f&&p(),e.preventDefault(),s=!0,clearTimeout(l),l=setTimeout(function(){s=!1},400),t({node:r,original:e}),p()},h=function(e){var t;1===e.touches.length&&e.touches[0].identifier===f||p(),t=e.touches[0],(Math.abs(t.clientX-i)>=o||Math.abs(t.clientY-u)>=o)&&p()},p=function(){e.removeEventListener("touchend",d,!1),window.removeEventListener("touchmove",h,!1),window.removeEventListener("touchcancel",p,!1)},e.addEventListener("touchend",d,!1),window.addEventListener("touchmove",h,!1),window.addEventListener("touchcancel",p,!1),setTimeout(p,a))},e.addEventListener("touchstart",r,!1),"BUTTON"!==e.tagName&&"button"!==e.type||(i=function(){var n,r;r=function(n){32===n.which&&t({node:e,original:n})},n=function(){e.removeEventListener("keydown",r,!1),e.removeEventListener("blur",n,!1)},e.addEventListener("keydown",r,!1),e.addEventListener("blur",n,!1)},e.addEventListener("focus",i,!1)),{teardown:function(){e.removeEventListener("pointerdown",n,!1),e.removeEventListener("MSPointerDown",n,!1),e.removeEventListener("mousedown",n,!1),e.removeEventListener("touchstart",r,!1),e.removeEventListener("focus",i,!1)}}};e.events.tap=t}),function(){var e,t,n,r;!function(){var i={},o={};e=function(e,t,n){i[e]={deps:t,callback:n}},r=n=t=function(e){function n(t){if("."!==t.charAt(0))return t;for(var n=t.split("/"),r=e.split("/").slice(0,-1),i=0,o=n.length;i<o;i++){var a=n[i];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(r._eak_seen=i,o[e])return o[e];if(o[e]={},!i[e])throw new Error("Could not find module "+e);for(var a,s=i[e],l=s.deps,u=s.callback,c=[],f=0,h=l.length;f<h;f++)"exports"===l[f]?c.push(a={}):c.push(t(n(l[f])));var d=u.apply(this,c);return o[e]=a||d}}(),e("promise/all",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to all.");return new t(function(t,n){function r(e){return function(t){o(e,t)}}function o(e,n){s[e]=n,0===--l&&t(s)}var a,s=[],l=e.length;0===l&&t([]);for(var u=0;u<e.length;u++)a=e[u],a&&i(a.then)?a.then(r(u),n):o(u,a)})}var r=e.isArray,i=e.isFunction;t.all=n}),e("promise/asap",["exports"],function(e){"use strict";function t(){return function(){process.nextTick(i)}}function n(){var e=0,t=new l(i),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function r(){return function(){u.setTimeout(i,1)}}function i(){for(var e=0;e<c.length;e++){var t=c[e],n=t[0],r=t[1];n(r)}c=[]}function o(e,t){var n=c.push([e,t]);1===n&&a()}var a,s="undefined"!=typeof window?window:{},l=s.MutationObserver||s.WebKitMutationObserver,u="undefined"!=typeof global?global:void 0===this?window:this,c=[];a="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():l?n():r(),e.asap=o}),e("promise/config",["exports"],function(e){"use strict";function t(e,t){return 2!==arguments.length?n[e]:void(n[e]=t)}var n={instrument:!1};e.config=n,e.configure=t}),e("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";function r(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),o(t)}();t||(e.Promise=i)}var i=e.Promise,o=t.isFunction;n.polyfill=r}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,r,i,o,a,s){"use strict";function l(e){if(!w(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],u(e,this)}function u(e,t){function n(e){p(t,e)}function r(e){_(t,e)}try{e(n,r)}catch(i){r(i)}}function c(e,t,n,r){var i,o,a,s,l=w(n);if(l)try{i=n(r),a=!0}catch(u){s=!0,o=u}else i=r,a=!0;d(t,i)||(l&&a?p(t,i):s?_(t,o):e===N?p(t,i):e===I&&_(t,i))}function f(e,t,n,r){var i=e._subscribers,o=i.length;i[o]=t,i[o+N]=n,i[o+I]=r}function h(e,t){for(var n,r,i=e._subscribers,o=e._detail,a=0;a<i.length;a+=3)n=i[a],r=i[a+t],c(t,n,r,o);e._subscribers=null}function d(e,t){var n,r=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(b(t)&&(r=t.then,w(r)))return r.call(t,function(r){return!!n||(n=!0,void(t!==r?p(e,r):m(e,r)))},function(t){return!!n||(n=!0,void _(e,t))}),!0}catch(i){return!!n||(_(e,i),!0)}return!1}function p(e,t){e===t?m(e,t):d(e,t)||m(e,t)}function m(e,t){e._state===x&&(e._state=O,e._detail=t,y.async(g,e))}function _(e,t){e._state===x&&(e._state=O,e._detail=t,y.async(v,e))}function g(e){h(e,e._state=N)}function v(e){h(e,e._state=I)}var y=e.config,b=(e.configure,t.objectOrFunction),w=t.isFunction,E=(t.now,n.all),T=r.race,C=i.resolve,k=o.reject,S=a.asap;y.async=S;var x=void 0,O=0,N=1,I=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,r=new this.constructor(function(){});if(this._state){var i=arguments;y.async(function(){c(n._state,r,i[n._state-1],n._detail)})}else f(this,r,e,t);return r},"catch":function(e){return this.then(null,e)}},l.all=E,l.race=T,l.resolve=C,l.reject=k,s.Promise=l}),e("promise/race",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to race.");return new t(function(t,n){for(var r,i=0;i<e.length;i++)r=e[i],r&&"function"==typeof r.then?r.then(t,n):t(r)})}var r=e.isArray;t.race=n}),e("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t}),e("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=this;return new t(function(t){t(e)})}e.resolve=t}),e("promise/utils",["exports"],function(e){"use strict";function t(e){return n(e)||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}var i=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t,e.isFunction=n,e.isArray=r,e.now=i}),t("promise/polyfill").polyfill()}(),function(){"use strict";function e(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var r=E.BlobBuilder||E.MSBlobBuilder||E.MozBlobBuilder||E.WebKitBlobBuilder,i=new r,o=0;o<e.length;o+=1)i.append(e[o]);return i.getBlob(t.type)}}function t(e,t){var n="";if(e&&(n=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var r,o=l;e instanceof ArrayBuffer?(r=e,o+=c):(r=e.buffer,"[object Int8Array]"===n?o+=h:"[object Uint8Array]"===n?o+=d:"[object Uint8ClampedArray]"===n?o+=p:"[object Int16Array]"===n?o+=m:"[object Uint16Array]"===n?o+=g:"[object Int32Array]"===n?o+=_:"[object Uint32Array]"===n?o+=v:"[object Float32Array]"===n?o+=y:"[object Float64Array]"===n?o+=b:t(new Error("Failed to get type for BinaryArray"))),t(o+i(r))}else if("[object Blob]"===n){var s=new FileReader;s.onload=function(){var n=a+e.type+"~"+i(this.result);t(l+f+n)},s.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),t(null,u)}}function n(t){if(t.substring(0,u)!==l)return JSON.parse(t);var n,i=t.substring(w),o=t.substring(u,w);if(o===f&&s.test(i)){var a=i.match(s);n=a[1],i=i.substring(a[0].length)}var E=r(i);switch(o){case c:return E;case f:return e([E],{type:n});case h:return new Int8Array(E);case d:return new Uint8Array(E);case p:return new Uint8ClampedArray(E);case m:return new Int16Array(E);case g:return new Uint16Array(E);case _:return new Int32Array(E);case v:return new Uint32Array(E);case y:return new Float32Array(E);case b:return new Float64Array(E);default:throw new Error("Unkown type: "+o)}}function r(e){var t,n,r,i,a,s=.75*e.length,l=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),f=new Uint8Array(c);for(t=0;t<l;t+=4)n=o.indexOf(e[t]),r=o.indexOf(e[t+1]),i=o.indexOf(e[t+2]),a=o.indexOf(e[t+3]),f[u++]=n<<2|r>>4,f[u++]=(15&r)<<4|i>>2,f[u++]=(3&i)<<6|63&a;return c}function i(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=o[n[t]>>2],r+=o[(3&n[t])<<4|n[t+1]>>4],r+=o[(15&n[t+1])<<2|n[t+2]>>6],r+=o[63&n[t+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="~~local_forage_type~",s=/^~~local_forage_type~([^~]+)~/,l="__lfsc__:",u=l.length,c="arbf",f="blob",h="si08",d="ui08",p="uic8",m="si16",_="si32",g="ur16",v="ui32",y="fl32",b="fl64",w=u+c.length,E=this,T={serialize:t,deserialize:n,stringToBuffer:r,bufferToString:i};"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?module.exports=T:"function"==typeof define&&define.amd?define("localforageSerializer",function(){return T}):this.localforageSerializer=T}.call(window),function(){"use strict";function e(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var r=window.BlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder,i=new r,o=0;o<e.length;o+=1)i.append(e[o]);return i.getBlob(t.type)}}function t(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function n(e){return new v(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.withCredentials=!0,r.responseType="arraybuffer",r.onreadystatechange=function(){if(4===r.readyState)return 200===r.status?t({response:r.response,type:r.getResponseHeader("Content-Type")}):void n({status:r.status,response:r.response})},r.send()})}function r(t){return new v(function(r,i){var o=e([""],{type:"image/png"}),a=t.transaction([w],"readwrite");a.objectStore(w).put(o,"key"),a.oncomplete=function(){var e=t.transaction([w],"readwrite"),o=e.objectStore(w).get("key");o.onerror=i,o.onsuccess=function(e){var t=e.target.result,i=URL.createObjectURL(t);n(i).then(function(e){r(!(!e||"image/png"!==e.type))},function(){r(!1)}).then(function(){URL.revokeObjectURL(i)})}}})["catch"](function(){return!1})}function i(e){return"boolean"==typeof b?v.resolve(b):r(e).then(function(e){return b=e})}function o(e){return new v(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function a(n){var r=t(atob(n.data));return e([r],{type:n.type})}function s(e){return e&&e.__local_forage_encoded_blob}function l(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];return new v(function(e,r){var i=y.open(n.name,n.version);i.onerror=function(){r(i.error)},i.onupgradeneeded=function(e){i.result.createObjectStore(n.storeName),e.oldVersion<=1&&i.result.createObjectStore(w)},i.onsuccess=function(){n.db=i.result,t._dbInfo=n,e()}})}function u(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new v(function(t,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),l=o.get(e);l.onsuccess=function(){var e=l.result;void 0===e&&(e=null),s(e)&&(e=a(e)),t(e)},l.onerror=function(){r(l.error)}})["catch"](r)});return g(r,t),r}function c(e,t){var n=this,r=new v(function(t,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),l=o.openCursor(),u=1;l.onsuccess=function(){var n=l.result;if(n){var r=n.value;s(r)&&(r=a(r));var i=e(r,n.key,u++);void 0!==i?t(i):n["continue"]()}else t()},l.onerror=function(){r(l.error)}})["catch"](r)});return g(r,t),r}function f(e,t,n){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=new v(function(n,a){var s;r.ready().then(function(){return s=r._dbInfo,i(s.db)}).then(function(e){return!e&&t instanceof Blob?o(t):t}).then(function(t){var r=s.db.transaction(s.storeName,"readwrite"),i=r.objectStore(s.storeName);null===t&&(t=void 0);var o=i.put(t,e);r.oncomplete=function(){void 0===t&&(t=null),n(t)},r.onabort=r.onerror=function(){var e=o.error?o.error:o.transaction.error;a(e)}})["catch"](a)});return g(a,n),a}function h(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new v(function(t,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readwrite"),a=o.objectStore(i.storeName),s=a["delete"](e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}})["catch"](r)});return g(r,t),r}function d(e){var t=this,n=new v(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readwrite"),o=i.objectStore(r.storeName),a=o.clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}})["catch"](n)});return g(n,e),n}function p(e){var t=this,n=new v(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}})["catch"](n)});return g(n,e),n}function m(e,t){var n=this,r=new v(function(t,r){return e<0?void t(null):void n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=!1,s=o.openCursor();s.onsuccess=function(){var n=s.result;return n?void(0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e))):void t(null)},s.onerror=function(){r(s.error)}})["catch"](r)});return g(r,t),r}function _(e){var t=this,n=new v(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.openCursor(),a=[];o.onsuccess=function(){var t=o.result;return t?(a.push(t.key),void t["continue"]()):void e(a)},o.onerror=function(){n(o.error)}})["catch"](n)});return g(n,e),n}function g(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var v="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,y=y||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(y){var b,w="local-forage-detect-blob-support",E={_driver:"asyncStorage",_initStorage:l,iterate:c,getItem:u,setItem:f,removeItem:h,clear:d,length:p,key:m,keys:_};"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?module.exports=E:"function"==typeof define&&define.amd?define("asyncStorage",function(){return E}):this.asyncStorage=E}}.call(window),function(){"use strict";function e(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];n.keyPrefix=n.name+"/",t._dbInfo=n;var i=new c(function(e){_===m.DEFINE?require(["localforageSerializer"],e):e(_===m.EXPORT?require("./../utils/serializer"):f.localforageSerializer)});return i.then(function(e){return h=e,c.resolve()})}function t(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=d.length-1;n>=0;n--){var r=d.key(n);0===r.indexOf(e)&&d.removeItem(r)}});return u(n,e),n}function n(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo,r=d.getItem(t.keyPrefix+e);return r&&(r=h.deserialize(r)),r});return u(r,t),r}function r(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo.keyPrefix,r=t.length,i=d.length,o=1,a=0;a<i;a++){var s=d.key(a);if(0===s.indexOf(t)){var l=d.getItem(s);if(l&&(l=h.deserialize(l)),l=e(l,s.substring(r),o++),void 0!==l)return l}}});return u(r,t),r}function i(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=d.key(e)}catch(i){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return u(r,t),r}function o(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=d.length,r=[],i=0;i<n;i++)0===d.key(i).indexOf(e.keyPrefix)&&r.push(d.key(i).substring(e.keyPrefix.length));return r});return u(n,e),n}function a(e){var t=this,n=t.keys().then(function(e){return e.length});return u(n,e),n}function s(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo;d.removeItem(t.keyPrefix+e)});return u(r,t),r}function l(e,t,n){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new c(function(i,o){h.serialize(t,function(t,a){if(a)o(a);else try{var s=r._dbInfo;d.setItem(s.keyPrefix+e,t),i(n)}catch(l){"QuotaExceededError"!==l.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==l.name||o(l),o(l)}})})});return u(i,n),i}function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var c="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,f=this,h=null,d=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;d=this.localStorage}catch(p){return}var m={DEFINE:1,EXPORT:2,WINDOW:3},_=m.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?_=m.EXPORT:"function"==typeof define&&define.amd&&(_=m.DEFINE);var g={_driver:"localStorageWrapper",_initStorage:e,iterate:r,getItem:n,setItem:l,removeItem:s,clear:t,length:a,key:i,keys:o};_===m.EXPORT?module.exports=g:_===m.DEFINE?define("localStorageWrapper",function(){return g}):this.localStorageWrapper=g}.call(window),function(){"use strict";function e(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new c(function(e){m===p.DEFINE?require(["localforageSerializer"],e):e(m===p.EXPORT?require("./../utils/serializer"):f.localforageSerializer)}),o=new c(function(r,i){try{n.db=d(n.name,String(n.version),n.description,n.size)}catch(o){return t.setDriver(t.LOCALSTORAGE).then(function(){return t._initStorage(e)}).then(r)["catch"](i)}n.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,r()},function(e,t){i(t)})})});return i.then(function(e){return h=e,o})}function t(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=h.deserialize(r)),t(r)},function(e,t){r(t)})})})["catch"](r)});return u(r,t),r}function n(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,r){for(var i=r.rows,o=i.length,a=0;a<o;a++){var s=i.item(a),l=s.value;if(l&&(l=h.deserialize(l)),l=e(l,s.key,a+1),void 0!==l)return void t(l)}t()},function(e,t){r(t)})})})["catch"](r)});return u(r,t),r}function r(e,t,n){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new c(function(n,i){r.ready().then(function(){void 0===t&&(t=null);var o=t;h.serialize(t,function(t,a){if(a)i(a);else{var s=r._dbInfo;s.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){n(o)},function(e,t){i(t)})},function(e){e.code===e.QUOTA_ERR&&i(e)})}})})["catch"](i)});return u(i,n),i}function i(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})})["catch"](r)});return u(r,t),r}function o(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})})["catch"](n)});return u(n,e),n}function a(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})})["catch"](n)});return u(n,e),n}function s(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})})["catch"](r)});return u(r,t),r}function l(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})})["catch"](n)});return u(n,e),n}function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var c="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,f=this,h=null,d=this.openDatabase;if(d){var p={DEFINE:1,EXPORT:2,WINDOW:3},m=p.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?m=p.EXPORT:"function"==typeof define&&define.amd&&(m=p.DEFINE);var _={_driver:"webSQLStorage",_initStorage:e,iterate:n,getItem:t,setItem:r,removeItem:i,clear:o,length:a,key:s,keys:l};m===p.DEFINE?define("webSQLStorage",function(){return _}):m===p.EXPORT?module.exports=_:this.webSQLStorage=_}}.call(window),function(){"use strict";function e(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function t(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(d(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function n(e){for(var t in a)if(a.hasOwnProperty(t)&&a[t]===e)return!0;return!1}function r(n){this._config=t({},c,n),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var r=0;r<l.length;r++)e(this,l[r]);this.setDriver(this._config.driver)}var i="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,o={},a={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},s=[a.INDEXEDDB,a.WEBSQL,a.LOCALSTORAGE],l=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],u={DEFINE:1,EXPORT:2,WINDOW:3},c={description:"",driver:s.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},f=u.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?f=u.EXPORT:"function"==typeof define&&define.amd&&(f=u.DEFINE);var h=function(e){var t=t||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB,n={};return n[a.WEBSQL]=!!e.openDatabase,n[a.INDEXEDDB]=!!function(){if("undefined"!=typeof e.openDatabase&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent))return!1;try{return t&&"function"==typeof t.open&&"undefined"!=typeof e.IDBKeyRange}catch(n){return!1}}(),n[a.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"setItem"in e.localStorage&&e.localStorage.setItem}catch(t){return!1}}(),n}(this),d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=this;r.prototype.INDEXEDDB=a.INDEXEDDB,r.prototype.LOCALSTORAGE=a.LOCALSTORAGE,r.prototype.WEBSQL=a.WEBSQL,r.prototype.config=function(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},r.prototype.defineDriver=function(e,t,r){var a=new i(function(t,r){try{var a=e._driver,s=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),u=new Error("Custom driver name already in use: "+e._driver);
if(!e._driver)return void r(s);if(n(e._driver))return void r(u);for(var c=l.concat("_initStorage"),f=0;f<c.length;f++){var d=c[f];if(!d||!e[d]||"function"!=typeof e[d])return void r(s)}var p=i.resolve(!0);"_support"in e&&(p=e._support&&"function"==typeof e._support?e._support():i.resolve(!!e._support)),p.then(function(n){h[a]=n,o[a]=e,t()},r)}catch(m){r(m)}});return a.then(t,r),a},r.prototype.driver=function(){return this._driver||null},r.prototype.ready=function(e){var t=this,n=new i(function(e,n){t._driverSet.then(function(){null===t._ready&&(t._ready=t._initStorage(t._config)),t._ready.then(e,n)})["catch"](n)});return n.then(e,e),n},r.prototype.setDriver=function(e,t,r){function a(){s._config.driver=s.driver()}var s=this;return"string"==typeof e&&(e=[e]),this._driverSet=new i(function(t,r){var a=s._getFirstSupportedDriver(e),l=new Error("No available storage method found.");if(!a)return s._driverSet=i.reject(l),void r(l);if(s._dbInfo=null,s._ready=null,n(a)){var c=new i(function(e){if(f===u.DEFINE)require([a],e);else if(f===u.EXPORT)switch(a){case s.INDEXEDDB:e(require("./drivers/indexeddb"));break;case s.LOCALSTORAGE:e(require("./drivers/localstorage"));break;case s.WEBSQL:e(require("./drivers/websql"))}else e(p[a])});c.then(function(e){s._extend(e),t()})}else o[a]?(s._extend(o[a]),t()):(s._driverSet=i.reject(l),r(l))}),this._driverSet.then(a,a),this._driverSet.then(t,r),this._driverSet},r.prototype.supports=function(e){return!!h[e]},r.prototype._extend=function(e){t(this,e)},r.prototype._getFirstSupportedDriver=function(e){if(e&&d(e))for(var t=0;t<e.length;t++){var n=e[t];if(this.supports(n))return n}return null},r.prototype.createInstance=function(e){return new r(e)};var m=new r;f===u.DEFINE?define("localforage",function(){return m}):f===u.EXPORT?module.exports=m:this.localforage=m}.call(window),function(e){function t(e){e.find=function(e,t,i){var o,a;"number"==typeof t?(o=t,a=n(i)):(o=r,a=n(t));var s=this;return s.keys().then(function(t){if(!t.length)return[];if(!o)return[];var n=[],i=0,a=t.length;return s.iterate(function(t,s){return e(s,t)&&n.push(t),i+=1,i==a?n:o!=r&&n.length==o?n:void 0})}).then(function(e){return a(null,e),e},function(e){throw a(e,null),e})}}function n(e){return e||function(){}}"object"==typeof module&&module.exports?module.exports=t:e.localforageFind=t;var r=-1}(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojs=e()}}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(2),l=r(s),u=e(5),c=r(u),f=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){this.player_.play()},t}(l["default"]);f.prototype.controlText_="Play Video",c["default"].registerComponent("BigPlayButton",f),n["default"]=f},{2:2,5:5}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(3),l=r(s),u=e(5),c=r(u),f=e(86),h=r(f),d=e(88),p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=(0,d.assign)({className:this.buildCSSClass()},t),"button"!==e&&(h["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,d.assign)({tabIndex:0},t),n=(0,d.assign)({role:"button"},n)),n=(0,d.assign)({type:"button","aria-live":"polite"},n);var r=c["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return h["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),c["default"].prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(l["default"]);c["default"].registerComponent("Button",p),n["default"]=p},{3:3,5:5,86:86,88:88}],3:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(82),d=r(h),p=e(83),m=r(p),_=e(86),g=i(_),v=e(96),y=i(v),b=e(88),w=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return s(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,b.assign)({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&g["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=(0,b.assign)({role:"button","aria-live":"polite"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=f.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,t.setAttribute("title",n),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){d.on(y["default"],"keydown",m.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){d.off(y["default"],"keydown",m.bind(this,this.handleKeyPress))},t}(u["default"]);u["default"].registerComponent("ClickableComponent",w),n["default"]=w},{5:5,81:81,82:82,83:83,86:86,88:88,96:96}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(2),l=r(s),u=e(5),c=r(u),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.controlText(r&&r.controlText||a.localize("Close")),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(l["default"]);c["default"].registerComponent("CloseButton",f),n["default"]=f},{2:2,5:5}],5:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e(97),s=i(a),l=e(81),u=r(l),c=e(83),f=r(c),h=e(85),d=r(h),p=e(82),m=r(p),_=e(86),g=i(_),v=e(91),y=i(v),b=e(87),w=i(b),E=function(){function e(t,n,r){if(o(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=(0,w["default"])({},this.options_),n=this.options_=(0,w["default"])(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+d.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),u.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return g["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,w["default"])(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return u.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=t.split("-")[0],o=n[i];return o&&o[e]?o[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=(0,y["default"])(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=(0,y["default"])(t),n||(n={}),n===!0&&(g["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&i.name(),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var l=this.contentEl().children,u=l[r]||null;this.contentEl().insertBefore(i.el(),u)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&!function(){var r=t.options_,i=function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,a=e.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(t.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||(0,y["default"])(t.name));return n&&!a.isTech(n)}).forEach(i)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;return"string"==typeof e||Array.isArray(e)?m.on(this.el_,e,f.bind(this,t)):!function(){var i=e,o=t,a=f.bind(r,n),s=function(){return r.off(i,o,a)};s.guid=a.guid,r.on("dispose",s);var l=function(){return r.off("dispose",s)};l.guid=a.guid,e.nodeName?(m.on(i,o,a),m.on(i,"dispose",l)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",l))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))m.off(this.el_,e,t);else{var r=e,i=t,o=f.bind(this,n);this.off("dispose",o),e.nodeName?(m.off(r,i,o),m.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},e.prototype.one=function(e,t,n){var r=this,i=arguments;return"string"==typeof e||Array.isArray(e)?m.one(this.el_,e,f.bind(this,t)):!function(){var o=e,a=t,s=f.bind(r,n),l=function u(){r.off(o,a,u),s.apply(null,i)};l.guid=s.guid,r.on(o,a,l)}(),this},e.prototype.trigger=function(e,t){return m.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return u.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return u.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return u.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return u.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return u.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return u.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.getAttribute=function(e){return u.getAttribute(this.el_,e)},e.prototype.setAttribute=function(e,t){return u.setAttribute(this.el_,e,t),this},e.prototype.removeAttribute=function(e){return u.removeAttribute(this.el_,e),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return i!==-1?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+(0,y["default"])(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var n=s["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(t=parseFloat(t),0===t){var r="offset"+(0,y["default"])(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY,a=Math.sqrt(r*r+o*o);a>n&&(i=!1)}});var o=function(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(n){if(t=null,i===!0){var o=(new Date).getTime()-e;o<r&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=f.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=f.bind(this,e);var n=s["default"].setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){s["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=f.bind(this,e);var n=s["default"].setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){s["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){if(t)return t=(0,y["default"])(t),e.components_||(e.components_={}),"Player"===t&&e.components_[t]&&!function(){var n=e.components_[t];if(n.players&&Object.keys(n.players).length>0&&Object.keys(n.players).map(function(e){return n.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}(),e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=(0,y["default"])(t),e.components_&&e.components_[t]?e.components_[t]:s["default"]&&s["default"].videojs&&s["default"].videojs[t]?(g["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},g["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);return r},e}();E.registerComponent("Component",E),n["default"]=E},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,97:97}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(36),l=r(s),u=e(5),c=r(u),f=e(7),h=r(f),d=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),r.tracks=n.audioTracks&&n.audioTracks();var a=o(this,e.call(this,n,r));return a.el_.setAttribute("aria-label","Audio Menu"),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new h["default"](this.player_,{track:r,selectable:!0}))}return e},t}(l["default"]);d.prototype.controlText_="Audio Track",c["default"].registerComponent("AudioTrackButton",d),n["default"]=d},{36:36,5:5,7:7}],7:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(48),u=i(l),c=e(5),f=i(c),h=e(83),d=r(h),p=function(e){function t(n,r){o(this,t);var i=r.track,s=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var l=a(this,e.call(this,n,r));return l.track=i,s&&!function(){var e=d.bind(l,l.handleTracksChange);s.addEventListener("change",e),l.on("dispose",function(){s.removeEventListener("change",e)})}(),l}return s(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(u["default"]);f["default"].registerComponent("AudioTrackMenuItem",p),n["default"]=p},{48:48,5:5,83:83}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s);e(12),e(32),e(33),e(35),e(34),e(10),e(18),e(9),e(38),e(40),e(11),e(25),e(27),e(29),e(24),e(6),e(13),e(21);var u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(l["default"]);u.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},l["default"].registerComponent("ControlBar",u),n["default"]=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(2),l=r(s),u=e(5),c=r(u),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.on(n,"fullscreenchange",a.handleFullscreenChange),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(l["default"]);f.prototype.controlText_="Fullscreen",c["default"].registerComponent("FullscreenToggle",f),n["default"]=f},{2:2,5:5}],10:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(u["default"]);u["default"].registerComponent("LiveDisplay",h),n["default"]=h},{5:5,81:81}],11:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(2),u=i(l),c=e(5),f=i(c),h=e(81),d=r(h),p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"volumechange",i.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&i.addClass("vjs-hidden"),i.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),i}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){var t=this.player_.volume(),n=3;0===t||this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);var r=this.player_.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var i=0;i<4;i++)d.removeElClass(this.el_,"vjs-vol-"+i);d.addElClass(this.el_,"vjs-vol-"+n)},t}(u["default"]);p.prototype.controlText_="Mute",f["default"].registerComponent("MuteToggle",p),n["default"]=p},{2:2,5:5,81:81}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(2),l=r(s),u=e(5),c=r(u),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.on(n,"play",a.handlePlay),a.on(n,"pause",a.handlePause),a}return a(t,e),t.prototype.buildCSSClass=function(){
return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(l["default"]);f.prototype.controlText_="Play",c["default"].registerComponent("PlayToggle",f),n["default"]=f},{2:2,5:5}],13:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(47),u=i(l),c=e(49),f=i(c),h=e(14),d=i(h),p=e(5),m=i(p),_=e(81),g=r(_),v=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new f["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new d["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(u["default"]);v.prototype.controlText_="Playback Rate",m["default"].registerComponent("PlaybackRateMenuButton",v),n["default"]=v},{14:14,47:47,49:49,5:5,81:81}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(48),l=r(s),u=e(5),c=r(u),f=function(e){function t(n,r){i(this,t);var a=r.rate,s=parseFloat(a,10);r.label=a,r.selected=1===s;var l=o(this,e.call(this,n,r));return l.label=a,l.rate=s,l.on(n,"ratechange",l.update),l}return a(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(l["default"]);f.prototype.contentElType="button",c["default"].registerComponent("PlaybackRateMenuItem",f),n["default"]=f},{48:48,5:5}],15:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,o=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=o(r,n);for(var a=0;a<t.length;a++){var s=t.start(a),l=t.end(a),u=i[a];u||(u=this.el_.appendChild(f.createEl()),i[a]=u),u.style.left=o(s,r),u.style.width=o(l-s,r)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},t}(u["default"]);u["default"].registerComponent("LoadProgressBar",h),n["default"]=h},{5:5,81:81}],16:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(83),d=r(h),p=e(84),m=i(p),_=e(80),g=i(_),v=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltip=f.createEl("div",{className:"vjs-time-tooltip"}),i.el().appendChild(i.tooltip),i.addClass("vjs-keep-tooltips-inside")),i.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",d.throttle(d.bind(i,i.handleMouseMove),25))}),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-f.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=(0,m["default"])(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(t),i=t-r+1,o=parseFloat((0,g["default"])(this.tooltip,"width")),a=o/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(a-i)+"px"}},t.prototype.calculateDistance=function(e){return f.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,g["default"])(this.player().el(),"width")),n=parseFloat((0,g["default"])(this.tooltip,"width")),r=n/2,i=e;return e<r?i=Math.ceil(r):e>t-r&&(i=Math.floor(t-r)),i},t}(u["default"]);u["default"].registerComponent("MouseTimeDisplay",v),n["default"]=v},{5:5,80:80,81:81,83:83,84:84}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(83),f=r(c),h=e(84),d=i(h),p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(f.bind(i,i.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&i.addClass("vjs-keep-tooltips-inside"),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,d["default"])(t,this.player_.duration()))},t}(u["default"]);u["default"].registerComponent("PlayProgressBar",p),n["default"]=p},{5:5,83:83,84:84}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s);e(19),e(16);var u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(l["default"]);u.prototype.options_={children:["seekBar"]},l["default"].registerComponent("ProgressControl",u),n["default"]=u},{16:16,19:19,5:5}],19:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(57),u=i(l),c=e(5),f=i(c),h=e(83),d=r(h),p=e(84),m=i(p),_=e(80),g=i(_);e(15),e(17),e(20);var v=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateProgress),i.on(n,"ended",i.updateProgress),n.ready(d.bind(i,i.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltipProgressBar=i.addChild("TooltipProgressBar")),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,g["default"])(this.player().el(),"width")),n=parseFloat((0,g["default"])(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(t-n/2)+"px",r.minWidth=Math.ceil(n/2)+"px",r.right="-"+n/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,m["default"])(t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(u["default"]);v.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},v.prototype.playerEvent="timeupdate",f["default"].registerComponent("SeekBar",v),n["default"]=v},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(83),f=r(c),h=e(84),d=i(h),p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(f.bind(i,i.updateDataAttr)),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,d["default"])(t,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},t}(u["default"]);u["default"].registerComponent("TooltipProgressBar",p),n["default"]=p},{5:5,83:83,84:84}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(22),l=r(s),u=e(5),c=r(u),f=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(l["default"]);c["default"].registerComponent("CustomControlSpacer",f),n["default"]=f},{22:22,5:5}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(l["default"]);l["default"].registerComponent("Spacer",u),n["default"]=u},{5:5}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(31),l=r(s),u=e(5),c=r(u),f=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1;var a=o(this,e.call(this,n,r));return a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+r.kind+" settings dialog"),a}return a(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(l["default"]);c["default"].registerComponent("CaptionSettingsMenuItem",f),n["default"]=f},{31:31,5:5}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(30),l=r(s),u=e(5),c=r(u),f=e(23),h=r(f),d=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));return s.el_.setAttribute("aria-label","Captions Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){var n=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(n=1),this.items&&this.items.length>n?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new h["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(l["default"]);d.prototype.kind_="captions",d.prototype.controlText_="Captions",c["default"].registerComponent("CaptionsButton",d),n["default"]=d},{23:23,30:30,5:5}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(30),l=r(s),u=e(5),c=r(u),f=e(26),h=r(f),d=e(91),p=r(d),m=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));return s.el_.setAttribute("aria-label","Chapters Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,p["default"])(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new h["default"](this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(l["default"]);m.prototype.kind_="chapters",m.prototype.controlText_="Chapters",c["default"].registerComponent("ChaptersButton",m),n["default"]=m},{26:26,30:30,5:5,91:91}],26:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(48),u=i(l),c=e(5),f=i(c),h=e(83),d=r(h),p=function(e){function t(n,r){o(this,t);var i=r.track,s=r.cue,l=n.currentTime();r.selectable=!0,r.label=s.text,r.selected=s.startTime<=l&&l<s.endTime;var u=a(this,e.call(this,n,r));return u.track=i,u.cue=s,i.addEventListener("cuechange",d.bind(u,u.update)),u}return s(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(u["default"]);f["default"].registerComponent("ChaptersTrackMenuItem",p),n["default"]=p},{48:48,5:5,83:83}],27:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(30),u=i(l),c=e(5),f=i(c),h=e(83),d=r(h),p=function(e){function t(n,r,i){o(this,t);var s=a(this,e.call(this,n,r,i));s.el_.setAttribute("aria-label","Descriptions Menu");var l=n.textTracks();return l&&!function(){var e=d.bind(s,s.handleTracksChange);l.addEventListener("change",e),s.on("dispose",function(){l.removeEventListener("change",e)})}(),s}return s(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(u["default"]);p.prototype.kind_="descriptions",p.prototype.controlText_="Descriptions",f["default"].registerComponent("DescriptionsButton",p),n["default"]=p},{30:30,5:5,83:83}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(31),l=r(s),u=e(5),c=r(u),f=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" off","default":!1,mode:"disabled"},r.selectable=!0;var a=o(this,e.call(this,n,r));return a.selected(!0),a}return a(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind===this.track.kind&&"showing"===o.mode){n=!1;break}}this.selected(n)},t}(l["default"]);c["default"].registerComponent("OffTextTrackMenuItem",f),n["default"]=f},{31:31,5:5}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(30),l=r(s),u=e(5),c=r(u),f=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));return s.el_.setAttribute("aria-label","Subtitles Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);f.prototype.kind_="subtitles",f.prototype.controlText_="Subtitles",c["default"].registerComponent("SubtitlesButton",f),n["default"]=f},{30:30,5:5}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(36),l=r(s),u=e(5),c=r(u),f=e(31),h=r(f),d=e(28),p=r(d),m=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),r.tracks=n.textTracks(),o(this,e.call(this,n,r))}return a(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.push(new p["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new h["default"](this.player_,{track:r,selectable:!0}))}return e},t}(l["default"]);c["default"].registerComponent("TextTrackButton",m),n["default"]=m},{28:28,31:31,36:36,5:5}],31:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=e(48),c=i(u),f=e(5),h=i(f),d=e(83),p=r(d),m=e(97),_=i(m),g=e(96),v=i(g),y=function(e){function t(n,r){o(this,t);var i=r.track,s=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected=i["default"]||"showing"===i.mode;var u=a(this,e.call(this,n,r));return u.track=i,s&&!function(){var e=p.bind(u,u.handleTracksChange);s.addEventListener("change",e),u.on("dispose",function(){s.removeEventListener("change",e)})}(),s&&void 0===s.onchange&&!function(){var e=void 0;u.on(["tap","click"],function(){if("object"!==l(_["default"].Event))try{e=new _["default"].Event("change")}catch(t){}e||(e=v["default"].createEvent("Event"),e.initEvent("change",!0,!0)),s.dispatchEvent(e)})}(),u}return s(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o===this.track?o.mode="showing":o.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(c["default"]);h["default"].registerComponent("TextTrackMenuItem",y),n["default"]=y},{48:48,5:5,83:83,96:96,97:97}],32:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(84),d=i(h),p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),r=(0,d["default"])(t,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r)},t}(u["default"]);u["default"].registerComponent("CurrentTimeDisplay",p),n["default"]=p},{5:5,81:81,84:84}],33:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(84),d=i(h),p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"durationchange",i.updateContent),i.on(n,"timeupdate",i.updateContent),i.on(n,"loadedmetadata",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var n=this.localize("Duration Time"),r=(0,d["default"])(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r}},t}(u["default"]);u["default"].registerComponent("DurationDisplay",p),n["default"]=p},{5:5,81:81,84:84}],34:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(84),d=i(h),p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i.on(n,"durationchange",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=(0,d["default"])(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+n)}},t}(u["default"]);u["default"].registerComponent("RemainingTimeDisplay",p),n["default"]=p},{5:5,81:81,84:84}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(l["default"]);l["default"].registerComponent("TimeDivider",u),n["default"]=u},{5:5}],36:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(47),u=i(l),c=e(5),f=i(c),h=e(83),d=r(h),p=function(e){function t(n,r){o(this,t);var i=r.tracks,s=a(this,e.call(this,n,r));if(s.items.length<=1&&s.hide(),!i)return a(s);var l=d.bind(s,s.update);return i.addEventListener("removetrack",l),i.addEventListener("addtrack",l),s.player_.on("dispose",function(){i.removeEventListener("removetrack",l),i.removeEventListener("addtrack",l)}),s}return s(t,e),t}(u["default"]);f["default"].registerComponent("TrackButton",p),n["default"]=p},{47:47,5:5,83:83}],37:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(57),u=i(l),c=e(5),f=i(c),h=e(83),d=r(h);e(39);var p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"volumechange",i.updateARIAAttributes),n.ready(d.bind(i,i.updateARIAAttributes)),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t}(u["default"]);p.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},p.prototype.playerEvent="volumechange",f["default"].registerComponent("VolumeBar",p),n["default"]=p},{39:39,5:5,57:57,83:83}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s);e(37);var u=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return n.tech_&&n.tech_.featuresVolumeControl===!1&&a.addClass("vjs-hidden"),a.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),a}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(l["default"]);u.prototype.options_={children:["volumeBar"]},l["default"].registerComponent("VolumeControl",u),n["default"]=u},{37:37,5:5}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(l["default"]);l["default"].registerComponent("VolumeLevel",u),n["default"]=u},{5:5}],40:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(83),u=i(l),c=e(5),f=r(c),h=e(54),d=r(h),p=e(53),m=r(p),_=e(11),g=r(_),v=e(37),y=r(v),b=function(e){function t(n){function r(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical;var s=a(this,e.call(this,n,i));return s.on(n,"volumechange",s.volumeUpdate),s.on(n,"loadstart",s.volumeUpdate),r.call(s),s.on(n,"loadstart",r),s.on(s.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),s.on(s.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),s.on(s.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),s.on(s.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),s}return s(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new d["default"](this.player_,{contentElType:"div"}),t=new y["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(t){g["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],u.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(m["default"]);b.prototype.volumeUpdate=g["default"].prototype.update,b.prototype.controlText_="Mute",f["default"].registerComponent("VolumeMenuButton",b),n["default"]=b},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s),u=e(50),c=r(u),f=e(87),h=r(f),d=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.on(n,"error",a.open),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(c["default"]);d.prototype.options_=(0,h["default"])(c["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",d),n["default"]=d},{5:5,50:50,87:87}],42:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var i=e(82),o=r(i),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.on(this,e,t),this.addEventListener=n},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){o.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.one(this,e,t),this.addEventListener=n},a.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=o.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),o.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,n["default"]=a},{82:82}],43:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e(86),a=r(o),s=e(88),l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};(0,s.isObject)(t)?("function"==typeof t.init&&(a["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),l(n,e);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};n["default"]=u},{86:86,88:88}],44:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var i=e(96),o=r(i),a={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=s[0],u=void 0,c=0;c<s.length;c++)if(s[c][1]in o["default"]){u=s[c];break}if(u)for(var f=0;f<u.length;f++)a[l[f]]=u[f];n["default"]=a},{96:96}],45:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(l["default"]);l["default"].registerComponent("LoadingSpinner",u),n["default"]=u},{5:5}],46:[function(e,t,n){"use strict";function r(e){return e instanceof r?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,i.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,i.assign)(this,e)),void(this.message||(this.message=r.defaultMessages[this.code]||"")))}n.__esModule=!0;var i=e(88);r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var o=0;o<r.errorTypes.length;o++)r[r.errorTypes[o]]=o,r.prototype[r.errorTypes[o]]=o;n["default"]=r},{88:88}],47:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(3),u=i(l),c=e(5),f=i(c),h=e(49),d=i(h),p=e(81),m=r(p),_=e(83),g=r(_),v=e(91),y=i(v),b=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=a(this,e.call(this,n,r));return i.update(),i.enabled_=!0,i.el_.setAttribute("aria-haspopup","true"),i.el_.setAttribute("role","menuitem"),i.on("keydown",i.handleSubmenuKeyPress),i}return s(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new d["default"](this.player_);if(this.options_.title){var t=m.createEl("li",{className:"vjs-menu-title",innerHTML:(0,y["default"])(this.options_.title),tabIndex:-1});e.children_.unshift(t),m.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",g.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(u["default"]);f["default"].registerComponent("MenuButton",b),n["default"]=b},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(3),l=r(s),u=e(5),c=r(u),f=e(88),h=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.selectable=r.selectable,a.selected(r.selected),a.selectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitem"),a}return a(t,e),t.prototype.createEl=function(t,n,r){return e.prototype.createEl.call(this,"li",(0,f.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(l["default"]);c["default"].registerComponent("MenuItem",h),n["default"]=h},{3:3,5:5,88:88}],49:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(83),d=r(h),p=e(82),m=r(p),_=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return s(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(e){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=f.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),m.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(u["default"]);u["default"].registerComponent("Menu",_),n["default"]=_},{5:5,81:81,82:82,83:83}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(81),u=i(l),c=e(83),f=i(c),h=e(5),d=r(h),p="vjs-modal-dialog",m=27,_=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=u.createEl("div",{className:p+"-content"},{role:"document"}),i.descEl_=u.createEl("p",{className:p+"-description vjs-offscreen",id:i.el().getAttribute("aria-describedby")}),u.textContent(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true",
"aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return p+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===m&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",f.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",f.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function n(e){if("boolean"==typeof e){var n=this.closeable_=!!e,t=this.getChild("closeButton");if(n&&!t){var r=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)}!n&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),u.insertContent(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),u.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(d["default"]);_.prototype.options_={temporary:!0},d["default"].registerComponent("ModalDialog",_),n["default"]=_},{5:5,81:81,83:83}],51:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(96),f=i(c),h=e(97),d=i(h),p=e(82),m=r(p),_=e(81),g=r(_),v=e(83),y=r(v),b=e(85),w=r(b),E=e(78),T=r(E),C=e(86),k=i(C),S=e(91),x=i(S),O=e(90),N=e(79),I=e(89),R=r(I),A=e(44),P=i(A),L=e(46),j=i(L),$=e(100),M=i($),D=e(88),F=e(87),B=i(F),H=e(69),V=i(H),z=e(50),U=i(z),W=e(62),q=i(W),X=e(63),G=i(X),Y=e(76),K=i(Y);e(61),e(59),e(55),e(68),e(45),e(1),e(4),e(8),e(41),e(71),e(60);var Q=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],J=function(e){function t(n,r,i){if(o(this,t),n.id=n.id||"vjs_video_"+w.newGUID(),r=(0,D.assign)(t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(g.getElAttributes(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}var u=a(this,e.call(this,null,r,i));if(!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");u.tag=n,u.tagAttributes=n&&g.getElAttributes(n),u.language(u.options_.language),r.languages?!function(){var e={};Object.getOwnPropertyNames(r.languages).forEach(function(t){e[t.toLowerCase()]=r.languages[t]}),u.languages_=e}():u.languages_=t.prototype.options_.languages,u.cache_={},u.poster_=r.poster||"",u.controls_=!!r.controls,n.controls=!1,u.scrubbing_=!1,u.el_=u.createEl();var c=(0,B["default"])(u.options_);return r.plugins&&!function(){var e=r.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):k["default"].error("Unable to find plugin:",t)},u)}(),u.options_.playerOptions=c,u.initChildren(),u.isAudio("audio"===n.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label","audio player"):u.el_.setAttribute("aria-label","video player"),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),T.IS_IOS||u.addClass("vjs-workinghover"),t.players[u.id_]=u,u.userActive(!0),u.reportUserActivity(),u.listenForUserActivity_(),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u}return s(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");n=r?this.el_=t.parentNode:this.el_=e.prototype.createEl.call(this,"div"),t.removeAttribute("width"),t.removeAttribute("height");var i=g.getElAttributes(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?n.className+=" "+i[e]:n.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),d["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=R.createStyleElement("vjs-styles-dimensions");var o=g.$(".vjs-styles-defaults"),a=g.$("head");a.insertBefore(this.styleEl_,o?o.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),l=0;l<s.length;l++){var u=s.item(l);g.addElClass(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),g.insertElFirst(t,n),this.children_.unshift(t),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var r=parseFloat(t);if(isNaN(r))return k["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(d["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,i=void 0,o=void 0,a=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),l=s[1]/s[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,i=void 0!==this.height_?this.height_:r*l,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),R.setTextContent(this.styleEl_,"\n      ."+a+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(q["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=(0,D.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(r.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var i=q["default"].getTech(e);i||(i=u["default"].getComponent(e)),this.tech_=new i(r),this.tech_.ready(y.bind(this,this.handleTechReady_),!0),V["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),Q.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,x["default"])(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=V["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw d["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,k["default"])("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(k["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(n){throw(0,k["default"])(n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?(0,k["default"])("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?((0,k["default"])("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):(0,k["default"])(t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_("buffered");return n&&n.length||(n=(0,O.createTimeRange)(0,0)),n},t.prototype.bufferedPercent=function(){return(0,N.bufferedPercent)(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=P["default"];return this.isFullscreen(!0),e.requestFullscreen?(m.on(f["default"],e.fullscreenchange,y.bind(this,function t(n){this.isFullscreen(f["default"][e.fullscreenElement]),this.isFullscreen()===!1&&m.off(f["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=P["default"];return this.isFullscreen(!1),e.requestFullscreen?f["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=f["default"].documentElement.style.overflow,m.on(f["default"],"keydown",y.bind(this,this.fullWindowOnEscKey)),f["default"].documentElement.style.overflow="hidden",g.addElClass(f["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,m.off(f["default"],"keydown",this.fullWindowOnEscKey),f["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(f["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=(0,x["default"])(r[n]),o=q["default"].getTech(i);if(o||(o=u["default"].getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else k["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(x["default"]).map(function(e){return[e,q["default"].getTech(e)||u["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(k["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=void 0,o=function(e){return function(t,n){return e(n,t)}},a=function(e,n){var r=e[0],i=e[1];if(i.canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return i=this.options_.sourceOrder?r(e,n,o(a)):r(n,e,a),i||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=q["default"].getTech(this.techName_);return t||(t=u["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_((0,x["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new j["default"](e),this.addClass("vjs-error"),k["default"].error("(CODE:"+this.error_.code+" "+j["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=y.bind(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(t){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new K["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new G["default"],this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,n=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=String(e).toLowerCase(),this)},t.prototype.languages=function(){return(0,B["default"])(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=(0,B["default"])(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=(0,B["default"])(r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new U["default"](this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=g.getElAttributes(e),r=n["data-setup"];if(g.hasElClass(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=(0,M["default"])(r||"{}"),o=i[0],a=i[1];o&&k["default"].error(o),(0,D.assign)(n,a)}if((0,D.assign)(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var c=s[l],f=c.nodeName.toLowerCase();"source"===f?t.sources.push(g.getElAttributes(c)):"track"===f&&t.tracks.push(g.getElAttributes(c))}return t},t.prototype.flexNotSupported_=function(){var e=f["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(u["default"]);J.players={};var Z=d["default"].navigator;J.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Z&&(Z.languages&&Z.languages[0]||Z.userLanguage||Z.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){J.prototype[e]=function(){return this.techGet_(e)}}),Q.forEach(function(e){J.prototype["handleTech"+(0,x["default"])(e)+"_"]=function(){return this.trigger(e)}}),u["default"].registerComponent("Player",J),n["default"]=J},{1:1,100:100,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,96:96,97:97}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e(51),o=r(i),a=function(e,t){o["default"].prototype[e]=t};n["default"]=a},{51:51}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(3),l=r(s),u=e(5),c=r(u),f=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var a=o(this,e.call(this,n,r));return a.update(),a}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);c["default"].registerComponent("PopupButton",f),n["default"]=f},{3:3,5:5}],54:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(83),d=r(h),p=e(82),m=r(p),_=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=f.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),m.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(u["default"]);u["default"].registerComponent("Popup",_),n["default"]=_},{5:5,81:81,82:82,83:83}],55:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(3),u=i(l),c=e(5),f=i(c),h=e(83),d=r(h),p=e(81),m=r(p),_=e(78),g=r(_),v=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.update(),n.on("posterchange",d.bind(i,i.update)),i}return s(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=m.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=m.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(u["default"]);f["default"].registerComponent("PosterImage",v),n["default"]=v},{3:3,5:5,78:78,81:81,83:83}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t&&(m=t),d["default"].setTimeout(_,e)}n.__esModule=!0,n.hasLoaded=n.autoSetupTimeout=n.autoSetup=void 0;var a=e(81),s=i(a),l=e(82),u=i(l),c=e(96),f=r(c),h=e(97),d=r(h),p=!1,m=void 0,_=function(){if(s.isReal()){var e=f["default"].getElementsByTagName("video"),t=f["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&t.length>0)for(var a=0,l=t.length;a<l;a++)n.push(t[a]);if(n&&n.length>0)for(var u=0,c=n.length;u<c;u++){var h=n[u];if(!h||!h.getAttribute){o(1);break}if(void 0===h.player){var d=h.getAttribute("data-setup");null!==d&&m(h)}}else p||o(1)}};s.isReal()&&"complete"===f["default"].readyState?p=!0:u.one(d["default"],"load",function(){p=!0});var g=function(){return p};n.autoSetup=_,n.autoSetupTimeout=o,n.hasLoaded=g},{81:81,82:82,96:96,97:97}],57:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(5),u=i(l),c=e(81),f=r(c),h=e(88),d=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on("focus",i.handleFocus),i.on("blur",i.handleBlur),i.on("click",i.handleClick),i.on(n,"controlsvisible",i.update),i.on(n,i.playerEvent,i.update),i}return s(t,e),t.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=(0,h.assign)({tabIndex:0},n),r=(0,h.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),f.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;f.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=f.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(u["default"]);u["default"].registerComponent("Slider",d),n["default"]=d},{5:5,81:81,88:88}],58:[function(e,t,n){"use strict";function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return n!==-1?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,n){var r=e.rtmpSourceHandler.canPlayType(t.type);return r?r:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n,r){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=r},{}],59:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.charAt(0).toUpperCase()+e.slice(1);S["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function u(e){S[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var c=e(62),f=i(c),h=e(81),d=r(h),p=e(92),m=r(p),_=e(90),g=e(58),v=i(g),y=e(5),b=i(y),w=e(97),E=i(w),T=e(88),C=E["default"].navigator,k=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return n.source&&i.ready(function(){this.setSource(n.source)},!0),n.startTime&&i.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),E["default"].videojs=E["default"].videojs||{},E["default"].videojs.Flash=E["default"].videojs.Flash||{},E["default"].videojs.Flash.onReady=t.onReady,E["default"].videojs.Flash.onEvent=t.onEvent,E["default"].videojs.Flash.onError=t.onError,i.on("seeked",function(){this.lastSeekTarget_=void 0}),i}return s(t,e),t.prototype.createEl=function(){var e=this.options_;if(!e.swf){var n="5.1.0";e.swf="//vjs.zencdn.net/swf/"+n+"/video-js.swf"}var r=e.techId,i=(0,T.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),o=(0,T.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),a=(0,T.assign)({id:r,name:r,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,i,o,a),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=m.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function n(){if(0===this.readyState())return NaN;var n=this.el_.vjs_getProperty("duration");return n>=0?n:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?(0,_.createTimeRange)():(0,_.createTimeRange)(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,_.createTimeRange)():(0,_.createTimeRange)(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(f["default"]),S=k.prototype,x="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),O="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),N=0;N<x.length;N++)u(x[N]),l(x[N]);for(var I=0;I<O.length;I++)u(O[I]);k.isSupported=function(){return k.version()[0]>=10},f["default"].withSourceHandlers(k),k.nativeSourceHandler={},k.nativeSourceHandler.canPlayType=function(e){return e in k.formats?"maybe":""},k.nativeSourceHandler.canHandleSource=function(e,t){function n(e){var t=m.getFileExtension(e);return t?"video/"+t:""}var r=void 0;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():n(e.src),k.nativeSourceHandler.canPlayType(r)},k.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},k.nativeSourceHandler.dispose=function(){},k.registerSourceHandler(k.nativeSourceHandler),k.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},k.onReady=function(e){var t=d.getEl(e),n=t&&t.tech;n&&n.el()&&k.checkReady(n)},k.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){k.checkReady(e)},50))},k.onEvent=function(e,t){var n=d.getEl(e).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,r)},1)},k.onError=function(e,t){var n=d.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},k.version=function(){var e="0,0,0";try{e=new E["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{C.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(C.plugins["Shockwave Flash 2.0"]||C.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},k.embed=function(e,t,n,r){var i=k.getEmbedCode(e,t,n,r),o=d.createEl("div",{innerHTML:i}).childNodes[0];return o},k.getEmbedCode=function(e,t,n,r){var i='<object type="application/x-shockwave-flash" ',o="",a="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=e+"="+t[e]+"&amp;"}),n=(0,T.assign)({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+='<param name="'+e+'" value="'+n[e]+'" />'}),r=(0,T.assign)({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){s+=e+'="'+r[e]+'" '}),""+i+s+">"+a+"</object>"},(0,v["default"])(k),b["default"].registerComponent("Flash",k),f["default"].registerTech("Flash",k),n["default"]=k},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,97:97}],60:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=o(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),f=e(62),h=i(f),d=e(5),p=i(d),m=e(81),_=r(m),g=e(92),v=r(g),y=e(83),b=r(y),w=e(86),E=i(w),T=e(102),C=i(T),k=e(78),S=r(k),x=e(96),O=i(x),N=e(97),I=i(N),R=e(88),A=e(87),P=i(A),L=e(91),j=i(L),$=function(e){function t(n,r){a(this,t);var i=s(this,e.call(this,n,r)),o=n.source,l=!1;if(o&&(i.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var u=i.el_.childNodes,f=u.length,h=[];f--;){var d=u[f],p=d.nodeName.toLowerCase();"track"===p&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(d),i.remoteTextTracks().addTrack_(d.track),l||i.el_.hasAttribute("crossorigin")||!v.isCrossOrigin(d.src)||(l=!0)):h.push(d))}for(var m=0;m<h.length;m++)i.el_.removeChild(h[m])}var _=["audio","video"];return _.forEach(function(e){var t=i.el()[e+"Tracks"],n=i[e+"Tracks"](),r=(0,j["default"])(e);i["featuresNative"+r+"Tracks"]&&t&&t.addEventListener&&(i["handle"+r+"TrackChange_"]=function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},i["handle"+r+"TrackAdd_"]=function(e){return n.addTrack(e.track)},i["handle"+r+"TrackRemove_"]=function(e){return n.removeTrack(e.track)},t.addEventListener("change",i["handle"+r+"TrackChange_"]),t.addEventListener("addtrack",i["handle"+r+"TrackAdd_"]),t.addEventListener("removetrack",i["handle"+r+"TrackRemove_"]),i["removeOld"+r+"Tracks_"]=function(e){return i.removeOldTracks_(n,t)},i.on("loadstart",i["removeOld"+r+"Tracks_"]))}),i.featuresNativeTextTracks&&(l&&E["default"].warn((0,C["default"])(c)),i.handleTextTrackChange_=b.bind(i,i.handleTextTrackChange),i.handleTextTrackAdd_=b.bind(i,i.handleTextTrackAdd),i.handleTextTrackRemove_=b.bind(i,i.handleTextTrackRemove),i.proxyNativeTextTracks_()),(S.TOUCH_ENABLED||S.IS_IPHONE||S.IS_NATIVE_ANDROID)&&n.nativeControlsForTouch===!0&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return l(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=(0,j["default"])(e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=O["default"].createElement("video");var r=this.options_.tag&&_.getElAttributes(this.options_.tag),i=(0,P["default"])({},r);S.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete i.controls,_.setElAttributes(e,(0,R.assign)(i,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],l={};"undefined"!=typeof this.options_[s]&&(l[s]=this.options_[s]),_.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",r),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}),{v:void 0}}();if("object"===("undefined"==typeof n?"undefined":u(n)))return n.v}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<t.length;a++)if(t[a]===i){o=!0;break}o||n.push(i)}for(var s=0;s<n.length;s++){var l=n[s];e.removeTrack_(l)}}},t.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(t,n)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){(0,E["default"])(t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&S.IS_ANDROID&&S.IS_CHROME&&0===this.el_.currentTime){var t=function(){var t=function n(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",n))};return e.on("timeupdate",t),{v:NaN}}();if("object"===("undefined"==typeof t?"undefined":u(t)))return t.v}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=I["default"].navigator&&I["default"].navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=O["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t}(h["default"]);if(_.isReal()){$.TEST_VID=O["default"].createElement("video");var M=O["default"].createElement("track");M.kind="captions",M.srclang="en",M.label="English",$.TEST_VID.appendChild(M)}$.isSupported=function(){try{$.TEST_VID.volume=.5}catch(e){return!1}return!(!$.TEST_VID||!$.TEST_VID.canPlayType)},$.canControlVolume=function(){try{var e=$.TEST_VID.volume;return $.TEST_VID.volume=e/2+.1,e!==$.TEST_VID.volume}catch(t){return!1}},$.canControlPlaybackRate=function(){if(S.IS_ANDROID&&S.IS_CHROME)return!1;try{var e=$.TEST_VID.playbackRate;return $.TEST_VID.playbackRate=e/2+.1,e!==$.TEST_VID.playbackRate}catch(t){return!1}},$.supportsNativeTextTracks=function(){return S.IS_ANY_SAFARI},$.supportsNativeVideoTracks=function(){return!(!$.TEST_VID||!$.TEST_VID.videoTracks)},$.supportsNativeAudioTracks=function(){return!(!$.TEST_VID||!$.TEST_VID.audioTracks)},$.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],$.prototype.featuresVolumeControl=$.canControlVolume(),$.prototype.featuresPlaybackRate=$.canControlPlaybackRate(),$.prototype.movingMediaElementInDOM=!S.IS_IOS,$.prototype.featuresFullscreenResize=!0,$.prototype.featuresProgressEvents=!0,$.prototype.featuresTimeupdateEvents=!0,$.prototype.featuresNativeTextTracks=$.supportsNativeTextTracks(),$.prototype.featuresNativeVideoTracks=$.supportsNativeVideoTracks(),$.prototype.featuresNativeAudioTracks=$.supportsNativeAudioTracks();var D=$.TEST_VID&&$.TEST_VID.constructor.prototype.canPlayType,F=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,B=/^video\/mp4/i;$.patchCanPlayType=function(){S.ANDROID_VERSION>=4&&!S.IS_FIREFOX?$.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&F.test(e)?"maybe":D.call(this,e)}:S.IS_OLD_ANDROID&&($.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&B.test(e)?"maybe":D.call(this,e)})},$.unpatchCanPlayType=function(){var e=$.TEST_VID.constructor.prototype.canPlayType;return $.TEST_VID.constructor.prototype.canPlayType=D,e},$.patchCanPlayType(),$.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},$.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){$.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){$.prototype["set"+(0,j["default"])(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){$.prototype[e]=function(){return this.el_[e]()}}),h["default"].withSourceHandlers($),$.nativeSourceHandler={},$.nativeSourceHandler.canPlayType=function(e){try{return $.TEST_VID.canPlayType(e)}catch(t){return""}},$.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return $.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=v.getFileExtension(e.src);return $.nativeSourceHandler.canPlayType("video/"+n)}return""},$.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},$.nativeSourceHandler.dispose=function(){},$.registerSourceHandler($.nativeSourceHandler),p["default"].registerComponent("Html5",$),h["default"].registerTech("Html5",$),n["default"]=$},{102:102,5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,96:96,97:97}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(5),l=r(s),u=e(62),c=r(u),f=e(91),h=r(f),d=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var u=0,f=r.playerOptions.techOrder;u<f.length;u++){var d=(0,h["default"])(f[u]),p=c["default"].getTech(d);if(d||(p=l["default"].getComponent(d)),p&&p.isSupported()){n.loadTech_(d);break}}return s}return a(t,e),t}(l["default"]);l["default"].registerComponent("MediaLoader",d),n["default"]=d},{5:5,62:62,91:91}],62:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new y["default"](i);return o.addTrack_(a),a}n.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=e(5),f=i(c),h=e(66),d=i(h),p=e(65),m=i(p),_=e(87),g=i(_),v=e(72),y=i(v),b=e(70),w=i(b),E=e(76),T=i(E),C=e(63),k=i(C),S=e(83),x=r(S),O=e(86),N=i(O),I=e(90),R=e(79),A=e(46),P=i(A),L=e(97),j=i(L),$=e(96),M=i($),D=e(88),F=function(t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(this,n),e.reportTouchActivity=!1;var i=a(this,t.call(this,null,e,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),i.textTracks_=e.textTracks,i.videoTracks_=e.videoTracks,i.audioTracks_=e.audioTracks,i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){e["native"+t+"Tracks"]===!1&&(i["featuresNative"+t+"Tracks"]=!1)}),e.nativeCaptions===!1&&(i.featuresNativeTextTracks=!1),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new w["default"],i.initTextTrackListeners(),i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return s(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(x.bind(this,function(){var e=this.bufferedPercent();
this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(e){this.duration_=this.duration()},n.prototype.buffered=function(){return(0,I.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,R.bufferedPercent)(this.buffered(),this.duration_)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},n.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.prototype.reset=function(){},n.prototype.error=function(e){return void 0!==e&&(this.error_=new P["default"](e),this.trigger("error")),this.error_},n.prototype.played=function(){return this.hasStarted_?(0,I.createTimeRange)(0,0):(0,I.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var e=x.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",x.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},n.prototype.initTrackListeners=function(){var e=this,t=["video","audio"];t.forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},n.prototype.addWebVttScript_=function(){var t=this;if(!j["default"].WebVTT&&null!==this.el().parentNode&&void 0!==this.el().parentNode){var n=function(){var n=e(103);if(!t.options_["vtt.js"]&&(0,D.isPlain)(n)&&Object.keys(n).length>0)return Object.keys(n).forEach(function(e){j["default"][e]=n[e]}),t.trigger("vttjsloaded"),{v:void 0};var r=M["default"].createElement("script");r.src=t.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",r.onload=function(){t.trigger("vttjsloaded")},r.onerror=function(){t.trigger("vttjserror")},t.on("dispose",function(){r.onload=null,r.onerror=null}),j["default"].WebVTT=!0,t.el().parentNode.appendChild(r)}();if("object"===("undefined"==typeof n?"undefined":u(n)))return n.v}},n.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){this.remoteTextTracks().on("addtrack",function(t){e.textTracks().addTrack_(t.track)}),this.remoteTextTracks().on("removetrack",function(t){e.textTracks().removeTrack_(t.track)}),this.on("ready",this.addWebVttScript_);var n=function(){return e.trigger("texttrackchange")},r=function(){n();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",n),"showing"===r.mode&&r.addEventListener("cuechange",n)}};r(),t.addEventListener("change",r),this.on("dispose",function(){t.removeEventListener("change",r)})}},n.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new T["default"],this.videoTracks_},n.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new k["default"],this.audioTracks_},n.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new w["default"],this.textTracks_},n.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new w["default"],this.remoteTextTracks_},n.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new m["default"],this.remoteTextTrackEls_},n.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return l(this,e,t,n)},n.prototype.createRemoteTextTrack=function(e){var t=(0,g["default"])(e,{tech:this});return new d["default"](t)},n.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this.createRemoteTextTrack(e);return t!==!0&&t!==!1&&(N["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),t!==!0&&this.autoRemoteTextTracks_.addTrack_(n.track),n},n.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},n.prototype.setPoster=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(e){return e.prototype instanceof n||e instanceof n||e===n},n.registerTech=function(e,t){if(n.techs_||(n.techs_={}),!n.isTech(t))throw new Error("Tech "+e+" must be a Tech");return n.techs_[e]=t,t},n.getTech=function(e){return n.techs_&&n.techs_[e]?n.techs_[e]:j["default"]&&j["default"].videojs&&j["default"].videojs[e]?(N["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),j["default"].videojs[e]):void 0},n}(f["default"]);F.prototype.textTracks_,F.prototype.audioTracks_,F.prototype.videoTracks_,F.prototype.featuresVolumeControl=!0,F.prototype.featuresFullscreenResize=!1,F.prototype.featuresPlaybackRate=!1,F.prototype.featuresProgressEvents=!1,F.prototype.featuresTimeupdateEvents=!1,F.prototype.featuresNativeTextTracks=!1,F.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=void 0,o=0;o<r.length;o++)if(i=r[o].canHandleSource(t,n))return r[o];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:N["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},f["default"].registerComponent("Tech",F),f["default"].registerComponent("MediaTechController",F),F.registerTech("Tech",F),n["default"]=F},{103:103,46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,88:88,90:90,96:96,97:97}],63:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(74),u=i(l),c=e(78),f=r(c),h=e(96),d=i(h),p=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var s=void 0,l=i.length-1;l>=0;l--)if(i[l].enabled){p(i,i[l]);break}if(f.IS_IE8){s=d["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(s[c]=u["default"].prototype[c]);for(var h in t.prototype)"constructor"!==h&&(s[h]=t.prototype[h])}return s=n=a(this,e.call(this,i,s)),s.changing_=!1,r=s,a(n,r)}return s(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,p(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(u["default"]);n["default"]=m},{74:74,78:78,96:96}],64:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(73),u=e(75),c=i(u),f=e(87),h=i(f),d=e(78),p=r(d),m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var s=(0,h["default"])(i,{kind:l.AudioTrackKind[i.kind]||""}),u=n=a(this,e.call(this,s)),c=!1;if(p.IS_IE8)for(var f in t.prototype)"constructor"!==f&&(u[f]=t.prototype[f]);return Object.defineProperty(u,"enabled",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.loaded_=!0,r=u,a(n,r)}return s(t,e),t}(c["default"]);n["default"]=m},{73:73,75:75,78:78,87:87}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e(78),s=i(a),l=e(96),u=r(l),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,a=t.length;i<a;i++)n.addTrackElement_(t[i]);if(s.IS_IE8)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n["default"]=c},{78:78,96:96}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(78),u=i(l),c=e(96),f=r(c),h=e(42),d=r(h),p=e(72),m=r(p),_=0,g=1,v=2,y=3,b=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var r=a(this,e.call(this)),i=void 0,s=r;if(u.IS_IE8){s=f["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l])}var c=new m["default"](n);if(s.kind=c.kind,s.src=c.src,s.srclang=c.language,s.label=c.label,s["default"]=c["default"],Object.defineProperty(s,"readyState",{get:function(){return i}}),Object.defineProperty(s,"track",{get:function(){return c}}),i=_,c.addEventListener("loadeddata",function(){i=v,s.trigger({type:"load",target:s})}),u.IS_IE8){var h;return h=s,a(r,h)}return r}return s(t,e),t}(d["default"]);b.prototype.allowedEvents_={load:"load"},b.NONE=_,b.LOADING=g,b.LOADED=v,b.ERROR=y,n["default"]=b},{42:42,72:72,78:78,96:96}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e(78),s=i(a),l=e(96),u=r(l),c=function(){function e(t){o(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),s.IS_IE8)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();n["default"]=c},{78:78,96:96}],68:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function u(e,t,n){try{e.style[t]=n}catch(r){return}}n.__esModule=!0;var c=e(5),f=i(c),h=e(83),d=r(h),p=e(97),m=i(p),_="#222",g="#ccc",v={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},y=function(e){function t(n,r,i){o(this,t);var s=a(this,e.call(this,n,r,i));return n.on("loadstart",d.bind(s,s.toggleDisplay)),n.on("texttrackchange",d.bind(s,s.updateDisplay)),n.ready(d.bind(s,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",d.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);var r={captions:1,subtitles:1},i=this.player_.textTracks(),o=void 0,a=void 0;if(i){for(var s=0;s<i.length;s++){var l=i[s];l["default"]&&("descriptions"!==l.kind||o?l.kind in r&&!a&&(a=l):o=l)}a?a.mode="showing":o&&(o.mode="showing")}})),s}return s(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof m["default"].WebVTT&&m["default"].WebVTT.processCues(m["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},t.prototype.updateForTrack=function(e){if("function"==typeof m["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);m["default"].WebVTT.processCues(m["default"],n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&u(a.firstChild,"color",l(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&u(a.firstChild,"backgroundColor",l(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?u(a,"backgroundColor",l(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+_+", 2px 2px 4px "+_+", 2px 2px 5px "+_:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+_+", 2px 2px "+_+", 3px 3px "+_:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+g+", 0 1px "+g+", -1px -1px "+_+", 0 -1px "+_:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+_+", 0 0 4px "+_+", 0 0 4px "+_+", 0 0 4px "+_)),t.fontPercent&&1!==t.fontPercent){var s=m["default"].parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=v[t.fontFamily])}}}},t}(f["default"]);f["default"].registerComponent("TextTrackDisplay",y),n["default"]=y},{5:5,83:83,97:97}],69:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},i=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(r))},o=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:i,jsonToTextTracks:o,trackToJson_:r}},{}],70:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(74),u=i(l),c=e(83),f=r(c),h=e(78),d=r(h),p=e(96),m=i(p),_=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);var s=void 0;if(d.IS_IE8){s=m["default"].createElement("custom");for(var l in u["default"].prototype)"constructor"!==l&&(s[l]=u["default"].prototype[l]);for(var c in t.prototype)"constructor"!==c&&(s[c]=t.prototype[c])}return s=n=a(this,e.call(this,i,s)),r=s,a(n,r)}return s(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",f.bind(this,function(){this.trigger("change")}))},t}(u["default"]);n["default"]=_},{74:74,78:78,83:83,96:96}],71:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function u(e,t){var n=e.options[e.options.selectedIndex].value;return l(n,t)}function c(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(l(e.options[r].value,n)===t){e.selectedIndex=r;break}}n.__esModule=!0;var f=e(97),h=i(f),d=e(5),p=i(d),m=e(81),_=e(83),g=r(_),v=e(88),y=r(v),b=e(86),w=i(b),E="vjs-text-track-settings",T=["#000","Black"],C=["#00F","Blue"],k=["#0FF","Cyan"],S=["#0F0","Green"],x=["#F0F","Magenta"],O=["#F00","Red"],N=["#FFF","White"],I=["#FF0","Yellow"],R=["1","Opaque"],A=["0.5","Semi-Transparent"],P=["0","Transparent"],L={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[T,N,O,S,C,I,x,k]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[R,A,P]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[N,T,O,S,C,I,x,k]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[R,A]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[P,A,R]}};L.windowColor.options=L.backgroundColor.options;var j=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.setDefaults(),i.hide(),i.updateDisplay=g.bind(i,i.updateDisplay),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.hide()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),y.each(L,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return s(t,e),t.prototype.createElSelect_=function(e){var t=this,n=L[e],r=n.id.replace("%s",this.id_);return[(0,m.createEl)("label",{className:"vjs-label",textContent:n.label},{"for":r}),(0,m.createEl)("select",{id:r},void 0,n.options.map(function(e){return(0,m.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},t.prototype.createElFgColor_=function(){var e=(0,m.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),n=(0,m.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,m.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElBgColor_=function(){var e=(0,m.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),n=(0,m.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,m.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElWinColor_=function(){var e=(0,m.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),n=(0,m.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,m.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElColors_=function(){return(0,m.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var e=(0,m.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=(0,m.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),n=(0,m.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,m.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[e,t,n])},t.prototype.createElControls_=function(){var e=(0,m.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,m.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,m.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[e,t])},t.prototype.createEl=function(){var e=(0,m.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,m.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,m.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=(0,m.createEl)("div",void 0,{role:"document"},[t,n,e]);return(0,m.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":n.id},r)},t.prototype.getValues=function(){var e=this;return y.reduce(L,function(t,n,r){var i=u(e.$(n.selector),n.parser);return void 0!==i&&(t[r]=i),t},{})},t.prototype.setValues=function(e){var t=this;y.each(L,function(n,r){c(t.$(n.selector),e[r],n.parser)})},t.prototype.setDefaults=function(){var e=this;y.each(L,function(t){var n=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=n})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(h["default"].localStorage.getItem(E))}catch(t){w["default"].warn(t)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?h["default"].localStorage.setItem(E,JSON.stringify(e)):h["default"].localStorage.removeItem(E)}catch(t){w["default"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(p["default"]);p["default"].registerComponent("TextTrackSettings",j),n["default"]=j},{5:5,81:81,83:83,86:86,88:88,97:97}],72:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);
}n.__esModule=!0;var l=e(67),u=i(l),c=e(83),f=r(c),h=e(73),d=e(86),p=i(d),m=e(97),_=i(m),g=e(75),v=i(g),y=e(92),b=e(109),w=i(b),E=e(87),T=i(E),C=e(78),k=r(C),S=function(e,t){var n=new _["default"].WebVTT.Parser(_["default"],_["default"].vttjs,_["default"].WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(_["default"].console&&_["default"].console.groupCollapsed&&_["default"].console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return p["default"].error(e)}),_["default"].console&&_["default"].console.groupEnd&&_["default"].console.groupEnd()),n.flush()},x=function(e,t){var n={uri:e},r=(0,y.isCrossOrigin)(e);r&&(n.cors=r),(0,w["default"])(n,f.bind(this,function(e,n,r){return e?p["default"].error(e,n):(t.loaded_=!0,void("function"!=typeof _["default"].WebVTT?t.tech_&&!function(){var e=function(){return S(r,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){p["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():S(r,t)))}))},O=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,t),!i.tech)throw new Error("A tech was not provided.");var s=(0,T["default"])(i,{kind:h.TextTrackKind[i.kind]||"subtitles",language:i.language||i.srclang||""}),l=h.TextTrackMode[s.mode]||"disabled",c=s["default"];"metadata"!==s.kind&&"chapters"!==s.kind||(l="hidden");var d=n=a(this,e.call(this,s));if(d.tech_=s.tech,k.IS_IE8)for(var p in t.prototype)"constructor"!==p&&(d[p]=t.prototype[p]);d.cues_=[],d.activeCues_=[];var m=new u["default"](d.cues_),_=new u["default"](d.activeCues_),g=!1,v=f.bind(d,function(){this.activeCues,g&&(this.trigger("cuechange"),g=!1)});return"disabled"!==l&&d.tech_.on("timeupdate",v),Object.defineProperty(d,"default",{get:function(){return c},set:function(){}}),Object.defineProperty(d,"mode",{get:function(){return l},set:function(e){h.TextTrackMode[e]&&(l=e,"showing"===l&&this.tech_.on("timeupdate",v),this.trigger("modechange"))}}),Object.defineProperty(d,"cues",{get:function(){return this.loaded_?m:null},set:function(){}}),Object.defineProperty(d,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return _;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(g=!1,t.length!==this.activeCues_.length)g=!0;else for(var o=0;o<t.length;o++)this.activeCues_.indexOf(t[o])===-1&&(g=!0);return this.activeCues_=t,_.setCues_(this.activeCues_),_},set:function(){}}),s.src?(d.src=s.src,x(s.src,d)):d.loaded_=!0,r=d,a(n,r)}return s(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;n<r;n++){var i=this.cues_[n];i===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(v["default"]);O.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=O},{109:109,67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,97:97}],73:[function(e,t,n){"use strict";n.__esModule=!0;n.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},n.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},n.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},n.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(42),u=i(l),c=e(78),f=r(c),h=e(96),d=i(h),p=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,t);var s=a(this,e.call(this));if(!i&&(i=s,f.IS_IE8)){i=d["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l])}i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var u=0;u<r.length;u++)i.addTrack_(r[u]);return n=i,a(s,n)}return s(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(u["default"]);p.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var m in p.prototype.allowedEvents_)p.prototype["on"+m]=null;n["default"]=p},{42:42,78:78,96:96}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(78),u=i(l),c=e(96),f=r(c),h=e(85),d=i(h),p=e(42),m=r(p),_=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var i=a(this,e.call(this)),s=i;if(u.IS_IE8){s=f["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l])}var c={id:r.id||"vjs_track_"+d.newGUID(),kind:r.kind||"",label:r.label||"",language:r.language||""},h=function(e){Object.defineProperty(s,e,{get:function(){return c[e]},set:function(){}})};for(var p in c)h(p);return n=s,a(i,n)}return s(t,e),t}(m["default"]);n["default"]=_},{42:42,78:78,85:85,96:96}],76:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(74),u=i(l),c=e(78),f=r(c),h=e(96),d=i(h),p=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var s=void 0,l=i.length-1;l>=0;l--)if(i[l].selected){p(i,i[l]);break}if(f.IS_IE8){s=d["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(s[c]=u["default"].prototype[c]);for(var h in t.prototype)"constructor"!==h&&(s[h]=t.prototype[h])}return s=n=a(this,e.call(this,i,s)),s.changing_=!1,Object.defineProperty(s,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r=s,a(n,r)}return s(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,p(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(u["default"]);n["default"]=m},{74:74,78:78,96:96}],77:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e(73),u=e(75),c=i(u),f=e(87),h=i(f),d=e(78),p=r(d),m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var s=(0,h["default"])(i,{kind:l.VideoTrackKind[i.kind]||""}),u=n=a(this,e.call(this,s)),c=!1;if(p.IS_IE8)for(var f in t.prototype)"constructor"!==f&&(u[f]=t.prototype[f]);return Object.defineProperty(u,"selected",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),r=u,a(n,r)}return s(t,e),t}(c["default"]);n["default"]=m},{73:73,75:75,78:78,87:87}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0,n.BACKGROUND_SIZE_SUPPORTED=n.TOUCH_ENABLED=n.IS_ANY_SAFARI=n.IS_SAFARI=n.IE_VERSION=n.IS_IE8=n.IS_CHROME=n.IS_EDGE=n.IS_FIREFOX=n.IS_NATIVE_ANDROID=n.IS_OLD_ANDROID=n.ANDROID_VERSION=n.IS_ANDROID=n.IOS_VERSION=n.IS_IOS=n.IS_IPOD=n.IS_IPHONE=n.IS_IPAD=void 0;var o=e(81),a=i(o),s=e(97),l=r(s),u=l["default"].navigator&&l["default"].navigator.userAgent||"",c=/AppleWebKit\/([\d.]+)/i.exec(u),f=c?parseFloat(c.pop()):null,h=n.IS_IPAD=/iPad/i.test(u),d=n.IS_IPHONE=/iPhone/i.test(u)&&!h,p=n.IS_IPOD=/iPod/i.test(u),m=n.IS_IOS=d||h||p,_=(n.IOS_VERSION=function(){var e=u.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),n.IS_ANDROID=/Android/i.test(u)),g=n.ANDROID_VERSION=function(){var e=u.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t?t:null}(),v=(n.IS_OLD_ANDROID=_&&/webkit/i.test(u)&&g<2.3,n.IS_NATIVE_ANDROID=_&&g<5&&f<537,n.IS_FIREFOX=/Firefox/i.test(u),n.IS_EDGE=/Edge/i.test(u)),y=n.IS_CHROME=!v&&/Chrome/i.test(u),b=(n.IS_IE8=/MSIE\s8\.0/.test(u),n.IE_VERSION=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(u)),n.IS_SAFARI=/Safari/i.test(u)&&!y&&!_&&!v);n.IS_ANY_SAFARI=b||m,n.TOUCH_ENABLED=a.isReal()&&("ontouchstart"in l["default"]||l["default"].DocumentTouch&&l["default"].document instanceof l["default"].DocumentTouch),n.BACKGROUND_SIZE_SUPPORTED=a.isReal()&&"backgroundSize"in l["default"].document.createElement("video").style},{81:81,97:97}],79:[function(e,t,n){"use strict";function r(e,t){var n=0,r=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=(0,i.createTimeRange)(0,0));for(var a=0;a<e.length;a++)r=e.start(a),o=e.end(a),o>t&&(o=t),n+=o-r;return n/t}n.__esModule=!0,n.bufferedPercent=r;var i=e(90)},{90:90}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!e||!t)return"";if("function"==typeof a["default"].getComputedStyle){var n=a["default"].getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}n.__esModule=!0,n["default"]=i;var o=e(97),a=r(o)},{97:97}],81:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function a(e){return"string"==typeof e&&/\S/.test(e)}function s(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function l(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function u(){return F["default"]===H["default"].document&&"undefined"!=typeof F["default"].createElement}function c(e){return(0,G.isObject)(e)&&1===e.nodeType}function f(e){return function(t,n){if(!a(t))return F["default"][e](null);a(n)&&(n=F["default"].querySelector(n));var r=c(n)?n:F["default"];return r[e]&&r[e](t)}}function h(e){return 0===e.indexOf("#")&&(e=e.slice(1)),F["default"].getElementById(e)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=F["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(W["default"].warn((0,X["default"])(M,e,n)),i.setAttribute(e,n)):"textContent"===e?p(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&j(i,r),i}function p(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function m(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function _(e){var t=e[K];return t||(t=e[K]=z.newGUID()),Y[t]||(Y[t]={}),Y[t]}function g(e){var t=e[K];return!!t&&!!Object.getOwnPropertyNames(Y[t]).length}function v(e){var t=e[K];if(t){delete Y[t];try{delete e[K]}catch(n){e.removeAttribute?e.removeAttribute(K):e[K]=null}}}function y(e,t){return s(t),e.classList?e.classList.contains(t):l(t).test(e.className)}function b(e,t){return e.classList?e.classList.add(t):y(e,t)||(e.className=(e.className+" "+t).trim()),e}function w(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function E(e,t,n){var r=y(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?b(e,t):w(e,t),e}function T(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"==typeof r||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function C(e){var t={},n=",autoplay,controls,loop,muted,default,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,a=r[i].value;"boolean"!=typeof e[o]&&n.indexOf(","+o+",")===-1||(a=null!==a),t[o]=a}return t}function k(e,t){return e.getAttribute(t)}function S(e,t,n){e.setAttribute(t,n)}function x(e,t){e.removeAttribute(t)}function O(){F["default"].body.focus(),F["default"].onselectstart=function(){return!1}}function N(){F["default"].onselectstart=function(){return!0}}function I(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=F["default"].documentElement,r=F["default"].body,i=n.clientLeft||r.clientLeft||0,o=H["default"].pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,l=H["default"].pageYOffset||r.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function R(e,t){var n={},r=I(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(u-s)/i)),n}function A(e){return(0,G.isObject)(e)&&3===e.nodeType}function P(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function L(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),c(e)||A(e)?e:"string"==typeof e&&/\S/.test(e)?F["default"].createTextNode(e):void 0}).filter(function(e){return e})}function j(e,t){return L(t).forEach(function(t){return e.appendChild(t)}),e}function $(e,t){return j(P(e),t)}n.__esModule=!0,n.$$=n.$=void 0;var M=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);n.isReal=u,n.isEl=c,n.getEl=h,n.createEl=d,n.textContent=p,n.insertElFirst=m,n.getElData=_,n.hasElData=g,n.removeElData=v,n.hasElClass=y,n.addElClass=b,n.removeElClass=w,n.toggleElClass=E,n.setElAttributes=T,n.getElAttributes=C,n.getAttribute=k,n.setAttribute=S,n.removeAttribute=x,n.blockTextSelection=O,n.unblockTextSelection=N,n.findElPosition=I,n.getPointerPosition=R,n.isTextNode=A,n.emptyEl=P,n.normalizeContent=L,n.appendContent=j,n.insertContent=$;var D=e(96),F=i(D),B=e(97),H=i(B),V=e(85),z=r(V),U=e(86),W=i(U),q=e(102),X=i(q),G=e(88),Y={},K="vdata"+(new Date).getTime();n.$=f("querySelector"),n.$$=f("querySelectorAll")},{102:102,85:85,86:86,88:88,96:96,97:97}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){var n=d.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&d.removeElData(e)}function a(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function s(e){function t(){return!0}function n(){return!1}return e&&e.isPropagationStopped||!function(){var r=e||y["default"].event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||w["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=w["default"].documentElement,a=w["default"].body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}(),e}function l(e,t,n){if(Array.isArray(t))return a(l,e,t,n);var r=d.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=m.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=s(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,l=o.length;a<l&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(u){g["default"].error(u)}}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function u(e,t,n){if(d.hasElData(e)){var r=d.getElData(e);if(r.handlers){if(Array.isArray(t))return a(u,e,t,n);var i=function(t){r.handlers[t]=[],o(e,t)};if(t){var s=r.handlers[t];if(s){if(!n)return void i(t);if(n.guid)for(var l=0;l<s.length;l++)s[l].guid===n.guid&&s.splice(l--,1);o(e,t)}}else for(var c in r.handlers)i(c)}}}function c(e,t,n){var r=d.hasElData(e)?d.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=s(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&t.bubbles===!0)c.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=d.getElData(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function f(e,t,n){if(Array.isArray(t))return a(f,e,t,n);var r=function i(){u(e,t,i),n.apply(this,arguments)};r.guid=n.guid=n.guid||m.newGUID(),l(e,t,r)}n.__esModule=!0,n.fixEvent=s,n.on=l,n.off=u,n.trigger=c,n.one=f;var h=e(81),d=i(h),p=e(85),m=i(p),_=e(86),g=r(_),v=e(97),y=r(v),b=e(96),w=r(b)},{81:81,85:85,86:86,96:96,97:97}],83:[function(e,t,n){"use strict";n.__esModule=!0,n.throttle=n.bind=void 0;var r=e(85);n.bind=function(e,t,n){t.guid||(t.guid=(0,r.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},n.throttle=function(e,t){var n=Date.now(),r=function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)};return r}},{85:85}],84:[function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n}n.__esModule=!0,n["default"]=r},{}],85:[function(e,t,n){"use strict";function r(){return i++}n.__esModule=!0,n.newGUID=r;var i=1},{}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.logByType=void 0;var i=e(97),o=r(i),a=e(78),s=e(88),l=void 0,u=n.logByType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!a.IE_VERSION&&a.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),l.history.push(t),t.unshift("VIDEOJS:");var r=o["default"].console&&o["default"].console[e];r&&(n&&(t=t.map(function(e){if((0,s.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),r.apply?r[Array.isArray(t)?"apply":"call"](o["default"].console,t):r(t))};l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u("log",t)},l.history=[],l.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u("error",t)},l.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u("warn",t)},n["default"]=l},{78:78,88:88,97:97}],87:[function(e,t,n){"use strict";function r(){for(var e={},t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){t&&(0,i.each)(t,function(t,n){return(0,i.isPlain)(t)?((0,i.isPlain)(e[n])||(e[n]={}),void(e[n]=r(e[n],t))):void(e[n]=t)})}),e}n.__esModule=!0,n["default"]=r;var i=e(88)},{88:88}],88:[function(e,t,n){"use strict";function r(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object.keys(e).reduce(function(n,r){return t(n,e[r],r)},n)}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&r(t,function(t,n){e[n]=t})}),e)}function a(e){return!!e&&"object"===("undefined"==typeof e?"undefined":l(e))}function s(e){return a(e)&&"[object Object]"===u.call(e)&&e.constructor===Object}n.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.each=r,n.reduce=i,n.assign=o,n.isObject=a,n.isPlain=s;var u=Object.prototype.toString},{}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.setTextContent=n.createStyleElement=void 0;var i=e(96),o=r(i);n.createStyleElement=function(e){var t=o["default"].createElement("style");return t.className=e,t},n.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{96:96}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}function o(e,t,n,r){return void 0===r&&(u["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),i(e,r,n.length-1),n[r][t]}function a(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function s(e,t){return Array.isArray(e)?a(e):void 0===e||void 0===t?a():a([[e,t]])}n.__esModule=!0,n.createTimeRange=void 0,n.createTimeRanges=s;var l=e(86),u=r(l);n.createTimeRange=s},{86:86}],91:[function(e,t,n){"use strict";function r(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=r},{}],92:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.isCrossOrigin=n.getFileExtension=n.getAbsoluteURL=n.parseUrl=void 0;var i=e(96),o=r(i),a=e(97),s=r(a),l=n.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=o["default"].createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=o["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),o["default"].body.appendChild(i));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),r&&o["default"].body.removeChild(i),a};n.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=o["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},n.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},n.isCrossOrigin=function(e){var t=s["default"].location,n=l(e),r=":"===n.protocol?t.protocol:n.protocol,i=r+n.host!==t.protocol+t.host;return i}},{96:96,97:97}],93:[function(t,n,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),a.getPlayers()[e])return t&&B["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&a.getPlayers()[e].ready(n),a.getPlayers()[e];r=V.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||T["default"].players[r.playerId])return r.player||T["default"].players[r.playerId];t=t||{},a.hooks("beforesetup").forEach(function(e){var n=e(r,(0,x["default"])(t));return!(0,X.isObject)(n)||Array.isArray(n)?void B["default"].error("please return an object in beforesetup hooks"):void(t=(0,x["default"])(t,n))});var i=g["default"].getComponent("Player"),o=new i(r,t,n);return a.hooks("setup").forEach(function(e){return e(o)}),o}r.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=t(97),u=o(l),c=t(96),f=o(c),h=t(56),d=i(h),p=t(89),m=i(p),_=t(5),g=o(_),v=t(42),y=o(v),b=t(82),w=i(b),E=t(51),T=o(E),C=t(52),k=o(C),S=t(87),x=o(S),O=t(83),N=i(O),I=t(72),R=o(I),A=t(64),P=o(A),L=t(77),j=o(L),$=t(90),M=t(84),D=o(M),F=t(86),B=o(F),H=t(81),V=i(H),z=t(78),U=i(z),W=t(92),q=i(W),X=t(88),G=t(80),Y=o(G),K=t(43),Q=o(K),J=t(109),Z=o(J),ee=t(62),te=o(ee);if("undefined"==typeof HTMLVideoElement&&V.isReal()&&(f["default"].createElement("video"),f["default"].createElement("audio"),f["default"].createElement("track")),a.hooks_={},a.hooks=function(e,t){return a.hooks_[e]=a.hooks_[e]||[],t&&(a.hooks_[e]=a.hooks_[e].concat(t)),a.hooks_[e]},a.hook=function(e,t){a.hooks(e,t)},a.removeHook=function(e,t){var n=a.hooks(e).indexOf(t);return!(n<=-1)&&(a.hooks_[e]=a.hooks_[e].slice(),a.hooks_[e].splice(n,1),!0)},u["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0&&V.isReal()){var ne=V.$(".vjs-styles-defaults");if(!ne){ne=m.createStyleElement("vjs-styles-defaults");var re=V.$("head");re&&re.insertBefore(ne,re.firstChild),m.setTextContent(ne,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}d.autoSetupTimeout(1,a),a.VERSION="5.16.0",a.options=T["default"].prototype.options_,a.getPlayers=function(){return T["default"].players},a.players=T["default"].players,a.getComponent=g["default"].getComponent,a.registerComponent=function(e,t){te["default"].isTech(t)&&B["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g["default"].registerComponent.call(g["default"],e,t)},a.getTech=te["default"].getTech,a.registerTech=te["default"].registerTech,a.browser=U,a.TOUCH_ENABLED=U.TOUCH_ENABLED,a.extend=Q["default"],a.mergeOptions=x["default"],a.bind=N.bind,a.plugin=k["default"],a.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),a.options.languages=(0,x["default"])(a.options.languages,(n={},n[e]=t,n)),a.options.languages[e]},a.log=B["default"],a.createTimeRange=a.createTimeRanges=$.createTimeRanges,a.formatTime=D["default"],a.parseUrl=q.parseUrl,a.isCrossOrigin=q.isCrossOrigin,a.EventTarget=y["default"],a.on=w.on,a.one=w.one,a.off=w.off,a.trigger=w.trigger,a.xhr=Z["default"],a.TextTrack=R["default"],a.AudioTrack=P["default"],a.VideoTrack=j["default"],a.isEl=V.isEl,a.isTextNode=V.isTextNode,a.createEl=V.createEl,a.hasClass=V.hasElClass,a.addClass=V.addElClass,a.removeClass=V.removeElClass,a.toggleClass=V.toggleElClass,a.setAttributes=V.setElAttributes,a.getAttributes=V.getElAttributes,a.emptyEl=V.emptyEl,a.appendContent=V.appendContent,a.insertContent=V.insertContent,a.computedStyle=Y["default"],"function"==typeof e&&e.amd?e("videojs",[],function(){return a;
}):"object"===("undefined"==typeof r?"undefined":s(r))&&"object"===("undefined"==typeof n?"undefined":s(n))&&(n.exports=a),r["default"]=a},{109:109,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,96:96,97:97}],94:[function(e,t,n){},{}],95:[function(e,t,n){function r(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===l.call(e)?i(e,t,n):"string"==typeof e?o(e,t,n):a(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)u.call(e,r)&&t.call(n,e[r],r,e)}function o(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)u.call(e,r)&&t.call(n,e[r],r,e)}var s=e(98);t.exports=r;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},{98:98}],96:[function(e,t,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e(94);if("undefined"!=typeof document)t.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{94:94}],97:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],98:[function(e,t,n){function r(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=r;var i=Object.prototype.toString},{}],99:[function(e,t,n){var r=e(101),i=e(95),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));"undefined"==typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{101:101,95:95}],100:[function(e,t,n){function r(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}t.exports=r},{}],101:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=r,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],102:[function(e,t,n){function r(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=r(e[n])+(arguments[n+1]||"");return t}},{}],103:[function(e,t,n){t.exports={WebVTT:e(104).WebVTT,VTTCue:e(105).VTTCue,VTTRegion:e(107).VTTRegion}},{104:104,105:105,107:107}],104:[function(e,t,n){!function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=p(null)}function i(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}function o(e,o,a){function s(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function l(e,t){var n=new r;i(e,function(e,t){switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];n.integer(e,o),n.percent(e,o)?n.set("snapToLines",!1):null,n.alt(e,o,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function u(){e=e.replace(/^\s+/,"")}var c=e;if(u(),o.startTime=s(),u(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);e=e.substr(3),u(),o.endTime=s(),u(),l(e,o)}function a(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return m[e]}function o(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],i);return e}function a(e,t){return!v[t.localName]||v[t.localName]===e.localName}function s(t,n){var r=_[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=g[t];return o&&n&&(i[o]=n.trim()),i}for(var l,u=e.document.createElement("div"),c=u,f=[];null!==(l=r());)if("<"!==l[0])c.appendChild(e.document.createTextNode(o(l)));else{if("/"===l[1]){f.length&&f[f.length-1]===l.substr(2).replace(">","")&&(f.pop(),c=c.parentNode);continue}var h,d=n(l.substr(1,l.length-2));if(d){h=e.document.createProcessingInstruction("timestamp",d),c.appendChild(h);continue}var p=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(h=s(p[1],p[3]),!h)continue;if(!a(c,h))continue;p[2]&&(h.className=p[2].substr(1).replace("."," ")),f.push(p[1]),c.appendChild(h),c=h}return u}function s(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=n(i);)for(var a=0;a<o.length;a++){r=o.charCodeAt(a);for(var s=0;s<y.length;s++)if(y[s]===r)return"rtl"}return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return++r*-1}function u(){}function c(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),u.call(this),this.cue=t,this.cueDiv=a(e,t.text);var l={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(l.direction=s(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var c=0;switch(t.positionAlign){case"start":c=t.position;break;case"middle":c=t.position-t.size/2;break;case"end":c=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(c,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(c,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function f(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function h(e,t,n,r){function i(e,t){for(var i,o=new f(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(i=new f(e),a=l),e=new f(o)}return i||o}var o=new f(t),a=t.cue,s=l(a),u=[];if(a.snapToLines){var c;switch(a.vertical){case"":u=["+y","-y"],c="height";break;case"rl":u=["+x","-x"],c="width";break;case"lr":u=["-x","+x"],c="width"}var h=o.lineHeight,d=h*Math.round(s),p=n[c]+h,m=u[0];Math.abs(d)>p&&(d=d<0?-1:1,d*=Math.ceil(p/h)*h),s<0&&(d+=""===a.vertical?n.height:n.width,u=u.reverse()),o.move(m,d)}else{var _=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=_/2;break;case"end":s-=_}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],o=new f(t)}var g=i(o,u);t.move(g.toCSSCompatValues(n))}function d(){}var p=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=p(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},_={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},g={v:"title",lang:"lang"},v={rt:"ruby"},y=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];u.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},u.prototype.formatStyle=function(e,t){return 0===e?0:e+t},c.prototype=p(u.prototype),c.prototype.constructor=c,f.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},f.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},f.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},f.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},f.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},f.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},f.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},f.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i},d.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},d.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null};var b=.05,w="sans-serif",E="1.5%";d.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=E,n.appendChild(i),r(t)){var o=[],a=f.getSimpleBoxPosition(i),s=Math.round(a.height*b*100)/100,l={font:s+"px "+w};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new c(e,r,l),i.appendChild(n.div),h(e,n,a,o),r.displayState=n.div,o.push(f.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)},d.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},d.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=l.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,l.buffer=e.substr(t),n}function a(e){var t=new r;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new r;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),l.onregion&&l.onregion(n),l.regionList.push({id:t.get("id"),region:n})}}function s(e){i(e,function(e,t){switch(e){case"Region":a(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;u=n();var c=u.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new t(t.Errors.BadSignature);l.state="HEADER"}for(var f=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(f?f=!1:u=n(),l.state){case"HEADER":/:/.test(u)?s(u):u||(l.state="ID");continue;case"NOTE":u||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){l.state="NOTE";break}if(!u)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",u.indexOf("-->")===-1){l.cue.id=u;continue}case"CUE":try{o(u,l.cue,l.regionList)}catch(h){l.reportOrThrowError(h),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var d=u.indexOf("-->")!==-1;if(!u||d&&(f=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=u;continue;case"BADCUE":u||(l.state="ID");continue}}}catch(h){l.reportOrThrowError(h),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=d}(this,this.vttjs||{})},{}],105:[function(e,t,n){"undefined"!=typeof t&&t.exports&&(this.VTTCue=this.VTTCue||e(106).VTTCue),function(e){e.VTTCue.prototype.toJSON=function(){var e={},t=this;return Object.keys(this).forEach(function(n){"getCueAsHTML"!==n&&"hasBeenReset"!==n&&"displayState"!==n&&(e[n]=t[n])}),e},e.VTTCue.create=function(t){if(!t.hasOwnProperty("startTime")||!t.hasOwnProperty("endTime")||!t.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var n=new e.VTTCue(t.startTime,t.endTime,t.text);for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTCue.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},{106:106}],106:[function(e,t,n){!function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){if("string"!=typeof e)return!1;var t=l[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t,o){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",f=!1,h=e,d=t,p=o,m=null,_="",g=!0,v="auto",y="start",b=50,w="middle",E=50,T="middle";if(Object.defineProperty(s,"id",i({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return f},set:function(e){f=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return _},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return v},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}var a="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o,t.VTTCue=o}(this,this.vttjs||{})},{}],107:[function(e,t,n){"undefined"!=typeof t&&t.exports&&(this.VTTRegion=e(108).VTTRegion),function(e){e.VTTRegion.create=function(t){var n=new e.VTTRegion;for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTRegion.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},{108:108}],108:[function(e,t,n){!function(e,t){function n(e){if("string"!=typeof e)return!1;var t=o[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){return"number"==typeof e&&e>=0&&e<=100}function i(){var e=100,t=3,i=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a;
},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var o={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{})},{}],109:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)t(e[n])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,n){var r=e;return f(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=d(t,{uri:e}),r.callback=n,r}function a(e,t,n){return t=o(e,t,n),s(t)}function s(e){function t(){4===f.readyState&&o()}function n(){var e=void 0;if(e=f.response?f.response:f.responseText||l(f),w)try{e=JSON.parse(e)}catch(t){}return e}function r(e){return clearTimeout(m),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,u(e,E)}function o(){if(!p){var t,r="file:"===c.location.protocol;clearTimeout(m),t=e.useXDR&&void 0===f.status||r&&0===f.status?200:1223===f.status?204:f.status;var i=E,o=null;return 0!==t?(i={body:n(),statusCode:t,method:g,headers:{},url:_,rawRequest:f},f.getAllResponseHeaders&&(i.headers=h(f.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),u(o,i,i.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var s=!1,u=function(t,n,r){s||(s=!0,e.callback(t,n,r))},f=e.xhr||null;f||(f=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var d,p,m,_=f.url=e.uri||e.url,g=f.method=e.method||"GET",v=e.body||e.data,y=f.headers=e.headers||{},b=!!e.sync,w=!1,E={body:void 0,headers:{},statusCode:0,method:g,url:_,rawRequest:f};if("json"in e&&e.json!==!1&&(w=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(e.json===!0?v:e.json))),f.onreadystatechange=t,f.onload=o,f.onerror=r,f.onprogress=function(){},f.onabort=function(){p=!0},f.ontimeout=r,f.open(g,_,!b,e.username,e.password),b||(f.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(m=setTimeout(function(){if(!p){p=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),f.setRequestHeader)for(d in y)y.hasOwnProperty(d)&&f.setRequestHeader(d,y[d]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(v||null),f}function l(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function u(){}var c=e(97),f=e(98),h=e(99),d=e(110);t.exports=a,a.XMLHttpRequest=c.XMLHttpRequest||u,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:c.XDomainRequest,r(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,n,r){return n=o(t,n,r),n.method=e.toUpperCase(),s(n)}})},{110:110,97:97,98:98,99:99}],110:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var i=Object.prototype.hasOwnProperty},{}]},{},[93])(93)}),function(){if(Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),!Element.prototype.addEventListener){var e=[],t=function(t,n){var r=this,i=function(e){e.target=e.srcElement,e.currentTarget=r,n.handleEvent?n.handleEvent(e):n.call(r,e)};if("DOMContentLoaded"==t){var o=function(e){"complete"==document.readyState&&i(e)};if(document.attachEvent("onreadystatechange",o),e.push({object:this,type:t,listener:n,wrapper:o}),"complete"==document.readyState){var a=new Event;a.srcElement=window,o(a)}}else this.attachEvent("on"+t,i),e.push({object:this,type:t,listener:n,wrapper:i})},n=function(t,n){for(var r=0;r<e.length;){var i=e[r];if(i.object==this&&i.type==t&&i.listener==n){"DOMContentLoaded"==t?this.detachEvent("onreadystatechange",i.wrapper):this.detachEvent("on"+t,i.wrapper),e.splice(r,1);break}++r}};Element.prototype.addEventListener=t,Element.prototype.removeEventListener=n,HTMLDocument&&(HTMLDocument.prototype.addEventListener=t,HTMLDocument.prototype.removeEventListener=n),Window&&(Window.prototype.addEventListener=t,Window.prototype.removeEventListener=n)}}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&!function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var wysihtml5={version:"0.4.17",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46};!function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==v||!(n!=g||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=g||!e[t])}function n(e,t){return typeof e[t]!=y}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}function i(e){return e&&C(e,T)&&S(e,E)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(t){typeof console!=y&&e(console,"log")&&console.log(t)}function s(e,t){O&&t?alert(e):a(e)}function l(e){I.initialized=!0,I.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,I.config.alertOnFail)}function u(e){s("Rangy warning: "+e,I.config.alertOnWarn)}function c(e){return e.message||e.description||String(e)}function f(){if(O&&!I.initialized){var t,n=!1,r=!1;e(document,"createRange")&&(t=document.createRange(),C(t,w)&&S(t,b)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),i(t)&&(r=!0)),!n&&!r)return void l("Neither Range nor TextRange are available");I.initialized=!0,I.features={implementsDomRange:n,implementsTextRange:r};var u,f;for(var h in x)(u=x[h])instanceof d&&u.init(u,I);for(var p=0,m=P.length;p<m;++p)try{P[p](I)}catch(_){f="Rangy init listener threw an exception. Continuing. Detail: "+c(_),a(f)}}}function h(e){e=e||window,f();for(var t=0,n=L.length;t<n;++t)L[t](e)}function d(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function p(e,t,n){var r=new d(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(I,t),t.supported=!0}catch(r){var i="Module '"+e+"' failed to load: "+c(r);a(i),r.stack&&a(r.stack)}}});return x[e]=r,r}function m(){}function _(){}var g="object",v="function",y="undefined",b=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],w=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],E=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],T=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],C=r(e),k=r(t),S=r(n),x={},O=typeof window!=y&&typeof document!=y,N={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:C,areHostObjects:k,areHostProperties:S,isTextRange:i,getBody:o},I={version:"1.3.0-alpha.20140921",initialized:!1,isBrowser:O,supported:!0,util:N,features:{},modules:x,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==y||rangyAutoInitialize}};I.fail=l,I.warn=u;var R;({}).hasOwnProperty?(N.extend=R=function(e,t,n){var r,i;for(var o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&R(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},N.createOptions=function(e,t){var n={};return R(n,t),e&&R(n,e),n}):l("hasOwnProperty not supported"),O||l("Rangy can only run in a browser"),function(){var e;if(O){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(r){}}e||(e=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t}),N.toArray=e}();var A;O&&(e(document,"addEventListener")?A=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?A=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),N.addListener=A);var P=[];I.init=f,I.addInitListener=function(e){I.initialized?e(I):P.push(e)};var L=[];I.addShimListener=function(e){L.push(e)},O&&(I.shim=I.createMissingNativeApi=h),d.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(t=n[r],e=x[t],!(e&&e instanceof d))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){I.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){I.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},I.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=p(e,n,t);I.initialized&&I.supported&&r.init()},I.createCoreModule=function(e,t,n){p(e,t,n)},I.RangePrototype=m,I.rangePrototype=new m,I.selectionPrototype=new _,I.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==N||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function r(e){var t=e.parentNode;return 1==t.nodeType?t:null}function i(e){for(var t=0;e=e.previousSibling;)++t;return t}function o(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(P(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function l(e,t){return s(e,t,!0)}function u(e,t,n){for(var r,i=n?e:e.parentNode;i;){if(r=i.parentNode,r===t)return i;i=r}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function f(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function h(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function d(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),h(r,e),n)for(var o,a=0;o=n[a++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>i(e)&&++o.offset;return r}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=N)return e.ownerDocument;if(typeof e.document!=N)return e.document;if(e.parentNode)return p(e.parentNode);throw t.createError("getDocument: no document found for node")}function m(e){var n=p(e);if(typeof n.defaultView!=N)return n.defaultView;if(typeof n.parentWindow!=N)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function _(e){if(typeof e.contentDocument!=N)return e.contentDocument;if(typeof e.contentWindow!=N)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function g(e){if(typeof e.contentWindow!=N)return e.contentWindow;if(typeof e.contentDocument!=N)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function v(e){return e&&I.isHostMethod(e,"setTimeout")&&I.isHostObject(e,"document")}function y(e,t,n){var r;if(e?I.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?_(e):p(e):v(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r}function b(e){for(var t;t=e.parentNode;)e=t;return e}function w(e,n,r,o){var s,l,c,f,h;if(e==r)return n===o?0:n<o?-1:1;if(s=u(r,e,!0))return n<=i(s)?-1:1;if(s=u(e,r,!0))return i(s)<o?-1:1;if(l=a(e,r),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(c=e===l?l:u(e,l,!0),f=r===l?l:u(r,l,!0),c===f)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=l.firstChild;h;){if(h===c)return-1;if(h===f)return 1;h=h.nextSibling}}function E(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function T(e){if(!e)return"[No node]";if(L&&E(e))return"[Broken node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+i(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function C(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function k(e){this.root=e,this._next=e}function S(e){return new k(e)}function x(e,t){this.node=e,this.offset=t}function O(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var N="undefined",I=e.util;I.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),I.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var R=document.createElement("div");I.areHostMethods(R,["insertBefore","appendChild","cloneNode"]||!I.areHostObjects(R,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),I.isHostProperty(R,"innerHTML")||t.fail("Element is missing innerHTML property");var A=document.createTextNode("test");I.areHostMethods(A,["splitText","deleteData","insertData","appendData","cloneNode"]||!I.areHostObjects(R,["previousSibling","nextSibling","childNodes","parentNode"])||!I.areHostProperties(A,["data"]))||t.fail("Incomplete Text Node implementation");var P=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},L=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br>",L=E(n),e.features.crashyTextNodes=L}();var j;typeof window.getComputedStyle!=N?j=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=N?j=function(e,t){return e.currentStyle[t]}:t.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+T(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},O.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},O.prototype.toString=function(){return this.message},e.dom={arrayContains:P,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:f,insertAfter:h,splitDataNode:d,getDocument:p,getWindow:m,getIframeWindow:g,getIframeDocument:_,getBody:I.getBody,isWindow:v,getContentDocument:y,getRootContainer:b,comparePoints:w,isBrokenNode:E,inspectNode:T,getComputedStyleProperty:j,fragmentFromNodeChildren:C,createIterator:S,DomPosition:x},e.DOMException=O}),I.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(H(e,t.startContainer)||H(e,t.endContainer))}function r(e){return e.document||V(e.startContainer)}function i(e){return new M(e.parentNode,B(e))}function o(e){return new M(e.parentNode,B(e)+1)}function a(e,t,n){var r=11==e.nodeType?e.firstChild:e;return F(t)?n==t.length?j.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:U(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function s(e,t,n){if(k(e),k(t),r(t)!=r(e))throw new D("WRONG_DOCUMENT_ERR");var i=z(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=z(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?i<=0&&o>=0:i<0&&o>0}function l(e){for(var t,n,i,o=r(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(i=e.getSubtreeIterator(),n.appendChild(l(i)),i.detach()),10==n.nodeType)throw new D("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function u(e,t,n){var r,i;n=n||{stop:!1};for(var o,a;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),u(a,t,n),a.detach(),n.stop)return}else for(r=j.createIterator(o);i=r.next();)if(t(i)===!1)return void(n.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach()):e.remove()}function f(e){for(var t,n,i=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(f(n)),n.detach()):e.remove(),10==t.nodeType)throw new D("HIERARCHY_REQUEST_ERR");i.appendChild(t)}return i}function h(e,t,n){var r,i=!(!t||!t.length),o=!!n;i&&(r=new RegExp("^("+t.join("|")+")$"));var a=[];return u(new p(e,(!1)),function(t){if((!i||r.test(t.nodeType))&&(!o||n(t))){var s=e.startContainer;if(t!=s||!F(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&F(l)&&0==e.endOffset||a.push(t)}}}),a}function d(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+j.inspectNode(e.startContainer)+":"+e.startOffset+", "+j.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&F(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||F(this.sc)?W(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||F(this.ec)?W(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){return function(t,n){for(var r,i=n?t:t.parentNode;i;){if(r=i.nodeType,X(e,r))return i;i=i.parentNode}return null}}function _(e,t){if(re(e,t))throw new D("INVALID_NODE_TYPE_ERR")}function g(e,t){if(!X(t,e.nodeType))throw new D("INVALID_NODE_TYPE_ERR")}function v(e,t){if(t<0||t>(F(e)?e.length:e.childNodes.length))throw new D("INDEX_SIZE_ERR")}function y(e,t){if(te(e,!0)!==te(t,!0))throw new D("WRONG_DOCUMENT_ERR")}function b(e){if(ne(e,!0))throw new D("NO_MODIFICATION_ALLOWED_ERR")}function w(e,t){if(!e)throw new D(t)}function E(e){return Y&&j.isBrokenNode(e)||!X(Q,e.nodeType)&&!te(e,!0)}function T(e,t){return t<=(F(e)?e.length:e.childNodes.length)}function C(e){return!!e.startContainer&&!!e.endContainer&&!E(e.startContainer)&&!E(e.endContainer)&&T(e.startContainer,e.startOffset)&&T(e.endContainer,e.endOffset)}function k(e){if(!C(e))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function S(e,t){k(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n===i;F(i)&&o>0&&o<i.length&&U(i,o,t),F(n)&&r>0&&r<n.length&&(n=U(n,r,t),a?(o-=r,i=n):i==n.parentNode&&o>=B(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function x(e){k(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function O(e){e.START_TO_START=ue,e.START_TO_END=ce,e.END_TO_END=fe,e.END_TO_START=he,e.NODE_BEFORE=de,e.NODE_AFTER=pe,e.NODE_BEFORE_AND_AFTER=me,e.NODE_INSIDE=_e}function N(e){O(e),O(e.prototype)}function I(e,t){return function(){k(this);var n,r,i=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,l=new p(this,(!0));i!==s&&(n=W(i,s,!0),r=o(n),i=r.node,a=r.offset),u(l,b),l.reset();var c=e(l);return l.detach(),t(this,i,a,i,a),c}}function R(t,r){function a(e,t){return function(n){g(n,K),g(G(n),Q);var r=(e?i:o)(n);(t?s:l)(this,r.node,r.offset)}}function s(e,t,n){var i=e.endContainer,o=e.endOffset;t===e.startContainer&&n===e.startOffset||(G(t)==G(i)&&1!=z(t,n,i,o)||(i=t,o=n),r(e,t,n,i,o))}function l(e,t,n){var i=e.startContainer,o=e.startOffset;t===e.endContainer&&n===e.endOffset||(G(t)==G(i)&&z(t,n,i,o)!=-1||(i=t,o=n),r(e,i,o,t,n))}var u=function(){};u.prototype=e.rangePrototype,t.prototype=new u,$.extend(t.prototype,{setStart:function(e,t){_(e,!0),v(e,t),s(this,e,t)},setEnd:function(e,t){_(e,!0),v(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:i=e[2],o=e[3]}r(this,t,n,i,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){k(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){_(e,!0),r(this,e,0,e,q(e))},selectNode:function(e){_(e,!1),g(e,K);var t=i(e),n=o(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:I(f,r),deleteContents:I(c,r),canSurroundContents:function(){k(this),b(this.startContainer),b(this.endContainer);var e=new p(this,(!0)),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){S(this)},splitBoundariesPreservingPositions:function(e){S(this,e)},normalizeBoundaries:function(){k(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,i=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,i=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},a=function(r){var o=r.previousSibling;if(o&&o.nodeType==r.nodeType){e=r;var a=r.length;if(t=o.length,r.insertData(0,o.data),o.parentNode.removeChild(o),e==n)i+=t,n=e;else if(n==r.parentNode){var s=B(r);i==s?(n=r,i=a):i>s&&i--}}},s=!0;if(F(n))n.length==i&&o(n);else{if(i>0){var l=n.childNodes[i-1];l&&F(l)&&o(l)}s=!this.collapsed}if(s){if(F(e))0==t&&a(e);else if(t<e.childNodes.length){var u=e.childNodes[t];u&&F(u)&&a(u)}}else e=n,t=i;r(this,e,t,n,i)},collapseToPoint:function(e,t){_(e,!0),v(e,t),this.setStartAndEnd(e,t)}}),N(t)}function A(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:j.getCommonAncestor(e.startContainer,e.endContainer)}function P(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=j.getDocument(t),A(e)}function L(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,A(this)}var j=e.dom,$=e.util,M=j.DomPosition,D=e.DOMException,F=j.isCharacterDataNode,B=j.getNodeIndex,H=j.isOrIsAncestorOf,V=j.getDocument,z=j.comparePoints,U=j.splitDataNode,W=j.getClosestAncestorIn,q=j.getNodeLength,X=j.arrayContains,G=j.getRootContainer,Y=e.features.crashyTextNodes;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,F(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!F(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return n(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new L(r(this.range));var t=this._current,n=t,i=0,o=t,a=q(t);H(t,this.sc)&&(n=this.sc,i=this.so),H(t,this.ec)&&(o=this.ec,a=this.eo),P(e,n,i,o,a)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var K=[1,3,4,5,7,8,10],Q=[2,9,11],J=[5,6,10,12],Z=[1,3,4,5,7,8,10,11],ee=[1,3,4,5,7,8],te=m([9,11]),ne=m(J),re=m([6,10,12]),ie=document.createElement("style"),oe=!1;try{ie.innerHTML="<b>x</b>",oe=3==ie.firstChild.nodeType}catch(ae){}e.features.htmlParsingConforms=oe;var se=oe?function(e){var t=this.startContainer,n=V(t);if(!t)throw new D("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:F(t)&&(r=j.parentElement(t)),r=null===r||"HTML"==r.nodeName&&j.isHtmlNamespace(V(r).documentElement)&&j.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=e,j.fragmentFromNodeChildren(r)}:function(e){var t=r(this),n=t.createElement("body");return n.innerHTML=e,j.fragmentFromNodeChildren(n)},le=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ue=0,ce=1,fe=2,he=3,de=0,pe=1,me=2,_e=3;$.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){k(this),y(this.startContainer,t.startContainer);var n,r,i,o,a=e==he||e==ue?"start":"end",s=e==ce||e==ue?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=t[s+"Container"],o=t[s+"Offset"],z(n,r,i,o)},insertNode:function(e){if(k(this),g(e,Z),b(this.startContainer),H(e,this.startContainer))throw new D("HIERARCHY_REQUEST_ERR");var t=a(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){k(this);var e,t;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&F(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=r(this).createDocumentFragment(),t.appendChild(e),t;var n=new p(this,(!0));return e=l(n),n.detach(),e},canSurroundContents:function(){k(this),b(this.startContainer),b(this.endContainer);var e=new p(this,(!0)),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(g(e,ee),!this.canSurroundContents())throw new D("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);a(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){k(this);for(var e,t=new L(r(this)),n=le.length;n--;)e=le[n],t[e]=this[e];return t},toString:function(){k(this);var e=this.startContainer;if(e===this.endContainer&&F(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,(!0));return u(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){k(this);var t=e.parentNode,n=B(e);if(!t)throw new D("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return r<0?i>0?me:de:i>0?pe:_e},comparePoint:function(e,t){return k(this),w(e,"HIERARCHY_REQUEST_ERR"),y(e,this.startContainer),z(e,t,this.startContainer,this.startOffset)<0?-1:z(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return x(this)},intersectsNode:function(e,t){if(k(this),w(e,"NOT_FOUND_ERR"),V(e)!==r(this))return!1;var n=e.parentNode,i=B(e);w(n,"NOT_FOUND_ERR");var o=z(n,i,this.endContainer,this.endOffset),a=z(n,i+1,this.startContainer,this.startOffset);return t?o<=0&&a>=0:o<0&&a>0},isPointInRange:function(e,t){return k(this),w(e,"HIERARCHY_REQUEST_ERR"),y(e,this.startContainer),z(e,t,this.startContainer,this.startOffset)>=0&&z(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return s(this,e,!1)},intersectsOrTouchesRange:function(e){return s(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=z(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=z(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return t==-1&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return z(e.startContainer,e.startOffset,this.startContainer,this.startOffset)==-1&&t.setStart(e.startContainer,e.startOffset),1==z(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new D("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==_e},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,q(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return k(this),h(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=r(this),i=e.createRange(n);t=t||j.getBody(n),i.selectNodeContents(t);var o=this.intersection(i),a=0,s=0;return o&&(i.setEnd(o.startContainer,o.startOffset),a=i.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,o,a,s=[t],l=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),l=!0),l&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),u=!0),n=i;else for(a=r.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return L.rangesEqual(this,e)},isValid:function(){return C(this)},inspect:function(){return d(this)},detach:function(){}}),R(L,P),$.extend(L,{rangeProperties:le,RangeIterator:p,copyComparisonConstants:N,createPrototypeRange:R,inspect:d,toHtml:x,getRangeDocument:r,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=L}),I.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,i=e.dom,o=e.util,a=i.DomPosition,s=e.DomRange,l=i.getBody,u=i.getContentDocument,c=i.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function r(e){for(var t,n=h.length;n--;)t=h[n],e[t]=e.nativeRange[t];
e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(r,i),e.setStart(t,n))}var c,f,h=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,r(this)},s.createPrototypeRange(n,a),c=n.prototype,c.selectNode=function(e){this.nativeRange.selectNode(e),r(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(e){this.nativeRange.surroundContents(e),r(this)},c.collapse=function(e){this.nativeRange.collapse(e),r(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){r(this)},c.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");l(document).appendChild(d);var p=document.createRange();p.setStart(d,0),p.setEnd(d,0);try{p.setStart(d,1),c.setStart=function(e,t){this.nativeRange.setStart(e,t),r(this)},c.setEnd=function(e,t){this.nativeRange.setEnd(e,t),r(this)},f=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(m){c.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}r(this)},c.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}r(this)},f=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(i){this.nativeRange[t](n),this.nativeRange[e](n)}r(this)}}}c.setStartBefore=f("setStartBefore","setEndBefore"),c.setStartAfter=f("setStartAfter","setEndAfter"),c.setEndBefore=f("setEndBefore","setStartBefore"),c.setEndAfter=f("setEndAfter","setStartAfter"),c.selectNodeContents=function(e){this.setStartAndEnd(e,0,i.getNodeLength(e))},p.selectNodeContents(d),p.setEnd(d,3);var _=document.createRange();_.selectNodeContents(d),_.setEnd(d,4),_.setStart(d,2),p.compareBoundaryPoints(p.START_TO_END,_)==-1&&1==p.compareBoundaryPoints(p.END_TO_START,_)?c.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:c.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var g=document.createElement("div");g.innerHTML="123";var v=g.firstChild,y=l(document);y.appendChild(g),p.setStart(v,1),p.setEnd(v,2),p.deleteContents(),"13"==v.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},c.extractContents=function(){var e=this.nativeRange.extractContents();return r(this),e}),y.removeChild(g),y=null,o.isHostMethod(p,"createContextualFragment")&&(c.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(d),c.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var f=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();n=e.duplicate(),n.collapse(!1);var o=n.parentElement(),a=r==o?r:i.getCommonAncestor(r,o);return a==t?a:i.getCommonAncestor(t,a)},h=function(e){return 0==e.compareEndPoints("StartToEnd",e)},d=function(e,t,n,r,o){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(i.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var u=new a(l.parentNode,i.getNodeIndex(l));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var f=i.getDocument(l).createElement("span");f.parentNode&&f.parentNode.removeChild(f);for(var h,d,p,m,_,g=n?"StartToStart":"StartToEnd",v=o&&o.containerElement==l?o.nodeIndex:0,y=l.childNodes.length,b=y,w=b;;){if(w==y?l.appendChild(f):l.insertBefore(f,l.childNodes[w]),s.moveToElementText(f),h=s.compareEndPoints(g,e),0==h||v==b)break;if(h==-1){if(b==v+1)break;v=w}else b=b==v+1?v:w;w=Math.floor((v+b)/2),l.removeChild(f)}if(_=f.nextSibling,h==-1&&_&&c(_)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var E;if(/[\r\n]/.test(_.data)){var T=s.duplicate(),C=T.text.replace(/\r\n/g,"\r").length;for(E=T.moveStart("character",C);(h=T.compareEndPoints("StartToEnd",T))==-1;)E++,T.moveStart("character",1)}else E=s.text.length;m=new a(_,E)}else d=(r||!n)&&f.previousSibling,p=(r||n)&&f.nextSibling,m=p&&c(p)?new a(p,0):d&&c(d)?new a(d,d.data.length):new a(l,i.getNodeIndex(f));return f.parentNode.removeChild(f),{boundaryPosition:m,nodeInfo:{nodeIndex:w,containerElement:l}}},p=function(e,t){var n,r,o,a,s=e.offset,u=i.getDocument(e.node),f=l(u).createTextRange(),h=c(e.node);return h?(n=e.node,r=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,r=e.node),o=u.createElement("span"),o.innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),f.moveToElementText(o),f.collapse(!t),r.removeChild(o),h&&f[t?"moveStart":"moveEnd"]("character",s),f};r=function(e){this.textRange=e,this.refresh()},r.prototype=new s(document),r.prototype.refresh=function(){var e,t,n,r=f(this.textRange);h(this.textRange)?t=e=d(this.textRange,r,!0,!0).boundaryPosition:(n=d(this.textRange,r,!0,!1),e=n.boundaryPosition,t=d(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var m=function(e){if(e.collapsed)return p(new a(e.startContainer,e.startOffset),!0);var t=p(new a(e.startContainer,e.startOffset),!0),n=p(new a(e.endContainer,e.endOffset),!1),r=l(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=m,r.prototype.toTextRange=function(){return m(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var _=function(e){return e("return this;")()}(Function);"undefined"==typeof _.Range&&(_.Range=r),e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=u(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=u(e,t,"createRangyRange"),new s(e)},e.createIframeRange=function(n){return t.deprecationNotice("createIframeRange()","createRange(iframeEl)"),e.createRange(n)},e.createIframeRangyRange=function(n){return t.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),e.createRangyRange(n)},e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),I.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function r(e,n){if(e){if(O.isWindow(e))return e;if(e instanceof g)return e.win;var r=O.getContentDocument(e,t,n);return O.getWindow(r)}return window}function i(e){return r(e,"getWinSelection").getSelection()}function o(e){return r(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==O.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function u(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function c(t){var n;return t instanceof R?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof A?n=t.nativeRange:j.implementsDomRange&&t instanceof O.getWindow(t.startContainer).Range&&(n=t),n}function f(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!O.isAncestorOf(e[0],e[t]))return!1;return!0}function h(e){var n=e.getNodes();if(!f(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function d(e){return!!e&&"undefined"!=typeof e.text}function p(e,t){var n=new A(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function m(t){if(t._ranges.length=0,"None"==t.docSelection.type)u(t);else{var n=t.docSelection.createRange();if(d(n))p(t,n);else{t.rangeCount=n.length;for(var r,i=M(n.item(0)),o=0;o<t.rangeCount;++o)r=e.createRange(i),r.selectNode(n.item(o)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function _(e,n){for(var r=e.docSelection.createRange(),i=h(n),o=M(r.item(0)),a=D(o).createControlRange(),s=0,l=r.length;s<l;++s)a.add(r.item(s));try{a.add(i)}catch(u){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),m(e)}function g(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function v(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function y(e,t){for(var n,r,i=te.length;i--;)if(n=te[i],r=n.selection,"deleteAll"==t)v(r);else if(n.win==e)return"delete"==t?(te.splice(i,1),!0):r;return"deleteAll"==t&&(te.length=0),null}function b(e,n){for(var r,i=M(n[0].startContainer),o=D(i).createControlRange(),a=0,s=n.length;a<s;++a){r=h(n[a]);try{o.add(r)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),m(e)}function w(e,t){if(e.win.document!=M(t))throw new P("WRONG_DOCUMENT_ERR")}function E(t){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0),i["set"+(t?"Start":"End")](n,r)):(i=e.createRange(this.win.document),i.setStartAndEnd(n,r)),this.setSingleRange(i,this.isBackward())}}function T(e){var t=[],n=new L(e.anchorNode,e.anchorOffset),r=new L(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=R.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}e.config.checkSelectionRanges=!0;var C,k,S="boolean",x="number",O=e.dom,N=e.util,I=N.isHostMethod,R=e.DomRange,A=e.WrappedRange,P=e.DOMException,L=O.DomPosition,j=e.features,$="Control",M=O.getDocument,D=O.getBody,F=R.rangesEqual,B=I(window,"getSelection"),H=N.isHostObject(document,"selection");j.implementsWinGetSelection=B,j.implementsDocSelection=H;var V=H&&(!B||e.config.preferTextRange);V?(C=o,e.isSelectionValid=function(e){var t=r(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||M(n.createRange().parentElement())==t}):B?(C=i,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=C;var z=C(),U=e.createNativeRange(document),W=D(document),q=N.areHostProperties(z,["anchorNode","focusNode","anchorOffset","focusOffset"]);j.selectionHasAnchorAndFocus=q;var X=I(z,"extend");j.selectionHasExtend=X;var G=typeof z.rangeCount==x;j.selectionHasRangeCount=G;var Y=!1,K=!0,Q=X?function(t,n){var r=R.getRangeDocument(n),i=e.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),t.addRange(c(i)),t.extend(n.startContainer,n.startOffset)}:null;N.areHostMethods(z,["addRange","getRangeAt","removeAllRanges"])&&typeof z.rangeCount==x&&j.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,i=[],o=a(t),s=0;s<n;++s)i[s]=t.getRangeAt(s);var l=D(document),u=l.appendChild(document.createElement("div"));u.contentEditable="false";var c=u.appendChild(document.createTextNode("")),f=document.createRange();if(f.setStart(c,1),f.collapse(!0),t.addRange(f),K=1==t.rangeCount,t.removeAllRanges(),!r){var h=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(h&&parseInt(h[1])>=36)Y=!1;else{var d=f.cloneRange();f.setStart(c,0),d.setEnd(c,3),d.setStart(c,2),t.addRange(f),t.addRange(d),Y=2==t.rangeCount}}for(l.removeChild(u),t.removeAllRanges(),s=0;s<n;++s)0==s&&o?Q?Q(t,i[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[s])):t.addRange(i[s])}}(),j.selectionSupportsMultipleRanges=Y,j.collapsedNonEditableSelectionsSupported=K;var J,Z=!1;W&&I(W,"createControlRange")&&(J=W.createControlRange(),N.areHostProperties(J,["item","add"])&&(Z=!0)),j.implementsControlRange=Z,k=q?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var ee;I(z,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:q&&(ee=function(t){var n=M(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),g.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof g)return e.refresh(),e;e=r(e,"getNativeSelection");var t=y(e),n=C(e),i=H?o(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new g(n,i,e),te.push({win:e,selection:t})),t};e.getSelection=ne,e.getIframeSelection=function(n){return t.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),e.getSelection(O.getIframeWindow(n))};var re=g.prototype;if(!V&&q&&N.areHostMethods(z,["removeAllRanges","addRange"])){re.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var ie=function(e,t){Q(e.nativeSelection,t),e.refresh()};G?re.addRange=function(t,r){if(Z&&H&&this.docSelection.type==$)_(this,t);else if(n(r)&&X)ie(this,t);else{var i;Y?i=this.rangeCount:(this.removeAllRanges(),i=0);var o=c(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(a){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var l=ee(this.nativeSelection,this.rangeCount-1);l&&!F(l,t)&&(t=new A(l))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=k(this)}else this.refresh()}}:re.addRange=function(e,t){n(t)&&X?ie(this,e):(this.nativeSelection.addRange(c(e)),this.refresh())},re.setRanges=function(e){if(Z&&H&&e.length>1)b(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(I(z,"empty")&&I(U,"select")&&Z&&V))return t.fail("No means of selecting a Range or TextRange was found"),!1;re.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=M(this.anchorNode);else if(this.docSelection.type==$){var t=this.docSelection.createRange();t.length&&(e=M(t.item(0)))}if(e){var n=D(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(r){}u(this)},re.addRange=function(t){this.docSelection.type==$?_(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},re.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?b(this,e):t&&this.addRange(e[0])}}re.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new P("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var oe;if(V)oe=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=D(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==$?m(t):d(n)?p(t,n):u(t)};else if(I(z,"getRangeAt")&&typeof z.rangeCount==x)oe=function(t){if(Z&&H&&t.docSelection.type==$)m(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;n<r;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=k(t)}else u(t)};else{if(!q||typeof z.isCollapsed!=S||typeof U.collapsed!=S||!j.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;oe=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=k(e)):u(e)}}re.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(oe(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!F(t[i],this._ranges[i]))return!0;return!1}};var ae=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)F(t,n[r])||e.addRange(n[r]);e.rangeCount||u(e)};Z&&H?re.removeRange=function(e){if(this.docSelection.type==$){for(var t,n=this.docSelection.createRange(),r=h(e),i=M(n.item(0)),o=D(i).createControlRange(),a=!1,s=0,l=n.length;s<l;++s)t=n.item(s),t!==r||a?o.add(n.item(s)):a=!0;o.select(),m(this)}else ae(this,e)}:re.removeRange=function(e){ae(this,e)};var se;!V&&q&&j.implementsDomRange?(se=a,re.isBackward=function(){return se(this)}):se=re.isBackward=function(){return!1},re.isBackwards=re.isBackward,re.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},re.collapse=function(t,n){w(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},re.collapseToStart=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},re.collapseToEnd=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},re.selectAllChildren=function(t){w(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},re.deleteFromDocument=function(){if(Z&&H&&this.docSelection.type==$){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},re.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},re.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},re.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},re.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t))}),n},re.setStart=E(!0),re.setEnd=E(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},re.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},re.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},re.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},re.moveToBookmark=function(t){for(var n,r,i=[],o=0;n=t.rangeBookmarks[o++];)r=e.createRange(this.win),r.moveToBookmark(n),i.push(r);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},re.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(R.toHtml(t))}),e.join("")},j.implementsTextRange&&(re.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(d(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),re.getName=function(){return"WrappedSelection"},re.inspect=function(){return T(this)},re.detach=function(){y(this.win,"delete"),v(this)},g.detachAll=function(){y(null,"deleteAll")},g.inspect=T,g.isDirectionBackward=n,e.Selection=g,e.selectionPrototype=re,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var j=!1,$=function(e){j||(j=!0,!I.initialized&&I.config.autoInitialize&&f())};return O&&("complete"==document.readyState?$():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",$,!1),A(window,"load",$))),I},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function r(e,t){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=p.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=i.createElement("span"),n.id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(m)),o.insertNode(n),n}function i(e,r,i,o){var a=n(i,e);a?(r[o?"setStartBefore":"setEndBefore"](a),a.parentNode.removeChild(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var i,o,a=e.DomRange.getRangeDocument(t),s=t.toString();return t.collapsed?(o=r(t,!1),{document:a,markerId:o.id,collapsed:!0}):(o=r(t,!1),i=r(t,!0),{document:a,startMarkerId:i.id,endMarkerId:o.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(r,o){var a=r.document;"undefined"==typeof o&&(o=!0);var s=e.createRange(a);if(r.collapsed){var l=n(r.markerId,a);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(l.parentNode.removeChild(l),s.collapseToPoint(u,u.length)):(s.collapseBefore(l),l.parentNode.removeChild(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else i(a,s,r.startMarkerId,!0),i(a,s,r.endMarkerId,!1);return o&&s.normalizeBoundaries(),s}function l(t,r){var i,s,l=[];t=t.slice(0),t.sort(o);for(var u=0,c=t.length;u<c;++u)l[u]=a(t[u],r);for(u=c-1;u>=0;--u)i=t[u],s=e.DomRange.getRangeDocument(i),i.collapsed?i.collapseAfter(n(l[u].markerId,s)):(i.setEndBefore(n(l[u].endMarkerId,s)),i.setStartAfter(n(l[u].startMarkerId,s)));return l}function u(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=e.getSelection(n),i=r.getAllRanges(),o=1==i.length&&r.isBackward(),a=l(i,o);return o?r.setSingleRange(i[0],"backward"):r.setRanges(i),{win:n,rangeInfos:a,restored:!1}}function c(e){for(var t=[],n=e.length,r=n-1;r>=0;r--)t[r]=s(e[r],!0);return t}function f(t,n){if(!t.restored){var r=t.rangeInfos,i=e.getSelection(t.win),o=c(r),a=r.length;1==a&&n&&e.features.selectionHasExtend&&r[0].backward?(i.removeAllRanges(),i.addRange(o[0],!0)):i.setRanges(o),t.restored=!0}}function h(e,t){var r=n(t,e);r&&r.parentNode.removeChild(r)}function d(e){for(var t,n=e.rangeInfos,r=0,i=n.length;r<i;++r)t=n[r],t.collapsed?h(e.doc,t.markerId):(h(e.doc,t.startMarkerId),h(e.doc,t.endMarkerId))}var p=e.dom,m="\ufeff";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:f,removeMarkerElement:h,removeMarkers:d})})},this);var Base=function(){};Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=!0;var r=new this;n.call(r,e),r.base=function(){},delete Base._prototyping;var i=r.constructor,o=r.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],r)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=r,o.toString=this.toString,o.valueOf=function(e){return"object"==e?o:i.valueOf()},n.call(o,t),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(e,t){if(arguments.length>1){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var r=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=r.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:r},t.toString=Base.toString}this[e]=t}else if(e){var i=Base.prototype.extend;Base._prototyping||"function"==typeof this||(i=this.extend||i);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)e[l]!=o[l]&&i.call(this,l,e[l]);for(var l in e)o[l]||i.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var r in e)void 0===this.prototype[r]&&t.call(n,e[r],r,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function t(e){return+(e.match(/android (\d+)/)||[void 0,0])[1]}function n(e,t){var n,r=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(r=parseFloat(RegExp.$1)),r!==-1&&(!e||(t?"<"===t?e<r:">"===t?e>r:"<="===t?e<=r:">="===t?e>=r:void 0:e===r))}var r=navigator.userAgent,i=document.createElement("div"),o=r.indexOf("Gecko")!==-1&&r.indexOf("KHTML")===-1,a=r.indexOf("AppleWebKit/")!==-1,s=r.indexOf("Chrome/")!==-1,l=r.indexOf("Opera/")!==-1;return{USER_AGENT:r,supported:function(){var n=this.USER_AGENT.toLowerCase(),r="contentEditable"in i,o=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,a=document.querySelector&&document.querySelectorAll,s=this.isIos()&&e(n)<5||this.isAndroid()&&t(n)<4||n.indexOf("opera mobi")!==-1||n.indexOf("hpwos/")!==-1;return r&&o&&a&&!s},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return this.USER_AGENT.indexOf("Android")!==-1},supportsSandboxedIframes:function(){return n()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return n()},hasCurrentStyleProperty:function(){return"currentStyle"in i},insertsLineBreaksOnReturn:function(){return o},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in i||function(){return i.setAttribute("on"+e,"return;"),"function"==typeof i["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:function(){var e={formatBlock:n(10,"<="),insertUnorderedList:n(),insertOrderedList:n()},t={insertHTML:o};return function(n,r){var i=e[r];if(!i){try{return n.queryCommandSupported(r)}catch(o){}try{return n.queryCommandEnabled(r)}catch(a){return!!t[r]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return o||l||a},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return o||n()||l},autoScrollsToCaret:function(){return!a},autoClosesUnclosedTags:function(){var e,t,n=i.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return String(document.getElementsByClassName).indexOf("[native code]")!==-1},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(e){var t=r.match(/Chrome\/(\d+)/)||[void 0,0];return t[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return n(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return n()},hasProblemsSettingCaretAfterImg:function(){return n()},hasUndoInContextMenu:function(){return o||s||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return n()},createsNestedInvalidMarkupAfterPaste:function(){return a},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModenPaste:function(){return!("clipboardData"in window)}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(Array.isArray(t)){for(var n=t.length;n--;)if(wysihtml5.lang.array(e).indexOf(t[n])!==-1)return!0;return!1}return wysihtml5.lang.array(e).indexOf(t)!==-1},indexOf:function(t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},without:function(t){t=wysihtml5.lang.array(t);for(var n=[],r=0,i=e.length;r<i;r++)t.contains(e[r])||n.push(e[r]);return n},get:function(){for(var t=0,n=e.length,r=[];t<n;t++)r.push(e[t]);return r},map:function(t,n){if(Array.prototype.map)return e.map(t,n);for(var r=e.length>>>0,i=new Array(r),o=0;o<r;o++)i[o]=t.call(n,e[o],o,e);return i},unique:function(){for(var t=[],n=e.length,r=0;r<n;)wysihtml5.lang.array(t).contains(e[r])||t.push(e[r]),r++;return t}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var n,r,i=0;if(e){for(n=this.events[e]||[],r=[];i<n.length;i++)n[i]!==t&&t&&r.push(n[i]);this.events[e]=r}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],r=0;r<n.length;r++)n[r].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var n in t)e[n]=t[n];return this},get:function(){return e},clone:function(t){var n,r={};if(null===e||!wysihtml5.lang.object(e).isPlainObject())return e;for(n in e)e.hasOwnProperty(n)&&(t?r[n]=wysihtml5.lang.object(e[n]).clone(t):r[n]=e[n]);return r},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(e)},isPlainObject:function(){return"[object Object]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/,n=/[&<>\t"]/g,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)i=this.replace("#{"+t+"}").by(e[t]);return i},replace:function(e){return{by:function(t){return i.split(e).join(t)}}},escapeHTML:function(e,t){var o=i.replace(n,function(e){return r[e]});return e&&(o=o.replace(/(?:\r\n|\r|\n)/g,"<br />")),t&&(o=o.replace(/  /gi,"&nbsp; ")),o}}}}(),function(e){function t(e,t){return o(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),a(e,t))}function n(e){return e.replace(l,function(e,t){var n=(t.match(u)||[])[1]||"",r=f[n];t=t.replace(u,""),t.split(r).length>t.split(n).length&&(t+=n,n="");var i=t,o=t;return t.length>c&&(o=o.substr(0,c)+"..."),"www."===i.substr(0,4)&&(i="http://"+i),'<a href="'+i+'">'+o+"</a>"+n})}function r(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),
t}function i(t){var i=t.parentNode,o=e.lang.string(t.data).escapeHTML(),a=r(i.ownerDocument);for(a.innerHTML="<span></span>"+n(o),a.removeChild(a.firstChild);a.firstChild;)i.insertBefore(a.firstChild,t);i.removeChild(t)}function o(t,n){for(var r;t.parentNode;){if(t=t.parentNode,r=t.nodeName,t.className&&e.lang.array(t.className.split(" ")).contains(n))return!0;if(s.contains(r))return!0;if("body"===r)return!1}return!1}function a(t,n){if(!(s.contains(t.nodeName)||t.className&&e.lang.array(t.className.split(" ")).contains(n))){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return void i(t);for(var r=e.lang.array(t.childNodes).get(),o=r.length,u=0;u<o;u++)a(r[u],n);return t}}var s=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,u=/([^\w\/\-](,?))$/i,c=100,f={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.dom;t.addClass=function(e,n){var r=e.classList;return r?r.add(n):void(t.hasClass(e,n)||(e.className+=" "+n))},t.removeClass=function(e,t){var n=e.classList;return n?n.remove(t):void(e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))},t.hasClass=function(e,t){var n=e.classList;if(n)return n.contains(t);var r=e.className;return r.length>0&&(r==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(r))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var n=e.createElement("li");return t.appendChild(n),n}function t(e,t){return e.createElement(t)}function n(n,r,i){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var o,a,s,l,u,c,f,h,d,p=n.ownerDocument,m=t(p,r),_=n.querySelectorAll("br"),g=_.length;for(d=0;d<g;d++)for(l=_[d];(u=l.parentNode)&&u!==n&&u.lastChild===l;){if("block"===wysihtml5.dom.getStyle("display").from(u)){u.removeChild(l);break}wysihtml5.dom.insert(l).after(l.parentNode)}for(o=wysihtml5.lang.array(n.childNodes).get(),a=o.length,d=0;d<a;d++)h=h||e(p,m),s=o[d],c="block"===wysihtml5.dom.getStyle("display").from(s),f="BR"===s.nodeName,!c||i&&wysihtml5.dom.hasClass(s,i)?f?h=h.firstChild?null:h:h.appendChild(s):(h=h.firstChild?e(p,m):h,h.appendChild(s),h=null);return 0===o.length&&e(p,m),n.parentNode.replaceChild(m,n),m}return n}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(n){for(var r,i=0,o=e.length;i<o;i++)r=e[i],"undefined"!=typeof t[r]&&""!==t[r]&&(n[r]=t[r]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(t){return!!r(t)&&parseInt(e.getStyle("width").from(t),10)<t.offsetWidth},r=function(n){for(var r=0,i=t.length;r<i;r++)if("border-box"===e.getStyle(t[r]).from(n))return t[r]};e.copyStyles=function(r){return{from:function(i){n(i)&&(r=wysihtml5.lang.array(r).without(t));for(var o,a="",s=r.length,l=0;l<s;l++)o=r[l],a+=o+":"+e.getStyle(o).from(i)+";";return{to:function(t){return e.setStyles(a).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,n,r,i){return e.dom.observe(t,r,function(r){for(var o=r.target,a=e.lang.array(t.querySelectorAll(n));o&&o!==t;){if(a.contains(o)){i.call(o,r);break}o=o.parentNode}})}}(wysihtml5),function(e){e.dom.domNode=function(t){var n=[e.ELEMENT_NODE,e.TEXT_NODE],r=function(t){return t.nodeType===e.TEXT_NODE&&/^\s*$/g.test(t.data)};return{prev:function(i){var o=t.previousSibling,a=i&&i.nodeTypes?i.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||i&&i.ignoreBlankTexts&&r(o)?e.dom.domNode(o).prev(i):o:null},next:function(i){var o=t.nextSibling,a=i&&i.nodeTypes?i.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||i&&i.ignoreBlankTexts&&r(o)?e.dom.domNode(o).next(i):o:null},lastLeafNode:function(n){var r;if(1!==t.nodeType)return t;if(r=t.lastChild,!r)return t;if(n&&n.leafClasses)for(var i=n.leafClasses.length;i--;)if(e.dom.hasClass(t,n.leafClasses[i]))return t;return e.dom.domNode(r).lastLeafNode(n)}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(r){}return t.body.removeChild(n),n},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,r=n.length;t<r;t++)e.createElement(n[t]);e._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,r){r=r||document;var i;return"object"==typeof n&&n.nodeType?(i=r.createElement("div"),i.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(r)?(i=r.createElement("div"),i.innerHTML=n):(t(r),i=e(n,r)),i}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return!t||!t.length||("string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e))}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function n(e,t,n){var r=(e.className||"").match(n)||[];return t?r[r.length-1]===t:!!r.length}function r(e,t,n){var r=(e.getAttribute("style")||"").match(n)||[];return t?r[r.length-1]===t:!!r.length}return function(i,o,a,s){var l=o.cssStyle||o.styleRegExp,u=o.className||o.classRegExp;for(a=a||50,u&&!o.classRegExp&&(o.classRegExp=new RegExp(o.className));a--&&i&&"BODY"!==i.nodeName&&(!s||i!==s);){if(t(i)&&(!o.nodeName||e(i.nodeName,o.nodeName))&&(!l||r(i,o.cssStyle,o.styleRegExp))&&(!u||n(i,o.className,o.classRegExp)))return i;i=i.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(n,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(r){if(r.nodeType===wysihtml5.ELEMENT_NODE){var i=r.ownerDocument,o=t[n]||e(n),a=r.style,s=r.currentStyle,l=a[o];if(l)return l;if(s)try{return s[o]}catch(u){}var c,f,h=i.defaultView||i.parentWindow,d=("height"===n||"width"===n)&&"TEXTAREA"===r.nodeName;return h.getComputedStyle?(d&&(c=a.overflow,a.overflow="hidden"),f=h.getComputedStyle(r,null).getPropertyValue(n),d&&(a.overflow=c||""),f):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var n=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||n.push(e):n=n.concat(wysihtml5.dom.getTextNodes(e,t));return n},wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;return function(n,r){var i=e(n)+":"+r,o=t[i];return o||(o=t[i]=n.getElementsByTagName(r)),o.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=r++)}var n={},r=1;e.dom.hasElementWithClassName=function(r,i){if(!e.browser.supportsNativeGetElementsByClassName())return!!r.querySelector("."+i);var o=t(r)+":"+i,a=n[o];return a||(a=n[o]=r.getElementsByClassName(i)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e));var r=t.querySelector("head link");if(r)return void r.parentNode.insertBefore(n,r);var i=t.querySelector("head");i&&i.appendChild(n)}}},function(e){e.dom.lineBreaks=function(t){function n(e){return"BR"===e.nodeName}function r(t){return!!n(t)||"block"===e.dom.getStyle("display").from(t)}return{add:function(n){var i=t.ownerDocument,o=e.dom.domNode(t).next({ignoreBlankTexts:!0}),a=e.dom.domNode(t).prev({ignoreBlankTexts:!0});o&&!r(o)&&e.dom.insert(i.createElement("br")).after(t),a&&!r(a)&&e.dom.insert(i.createElement("br")).before(t)},remove:function(r){var i=e.dom.domNode(t).next({ignoreBlankTexts:!0}),o=e.dom.domNode(t).prev({ignoreBlankTexts:!0});i&&n(i)&&i.parentNode.removeChild(i),o&&n(o)&&o.parentNode.removeChild(o)}}}}(wysihtml5),wysihtml5.dom.observe=function(e,t,n){t="string"==typeof t?[t]:t;for(var r,i,o=0,a=t.length;o<a;o++)i=t[o],e.addEventListener?e.addEventListener(i,n,!1):(r=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+i,r));return{stop:function(){for(var i,o=0,a=t.length;o<a;o++)i=t[o],e.removeEventListener?e.removeEventListener(i,n,!1):e.detachEvent("on"+i,r)}}},wysihtml5.dom.parse=function(e,t){function n(e,t){wysihtml5.lang.object(y).merge(v).merge(t.rules).get();var n,o,a,s=t.context||e.ownerDocument||document,l=s.createDocumentFragment(),u="string"==typeof e,c=!1;for(t.clearInternals===!0&&(c=!0),n=u?wysihtml5.dom.getAsDom(e,s):e,y.selectors&&i(n,y.selectors);n.firstChild;)a=n.firstChild,o=r(a,t.cleanUp,c,t.uneditableClass),o&&l.appendChild(o),a!==o&&n.removeChild(a);if(t.unjoinNbsps)for(var f=wysihtml5.dom.getTextNodes(l),h=f.length;h--;)f[h].nodeValue=f[h].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return n.innerHTML="",n.appendChild(l),u?wysihtml5.quirks.getCorrectInnerHTML(n):n}function r(e,t,n,i){var o,a,s,l,u=e.nodeType,c=e.childNodes,f=c.length,h=m[u],d=0;if(i&&1===u&&wysihtml5.dom.hasClass(e,i))return e;if(a=h&&h(e,n),!a){if(a===!1){for(o=e.ownerDocument.createDocumentFragment(),d=f;d--;)c[d]&&(s=r(c[d],t,n,i),s&&(c[d]===s&&d--,o.insertBefore(s,o.firstChild)));return l=wysihtml5.dom.getStyle("display").from(e),""===l&&(l=wysihtml5.lang.array(b).contains(e.tagName)?"block":""),wysihtml5.lang.array(["block","flex","table"]).contains(l)&&o.appendChild(e.ownerDocument.createElement("br")),wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(e.nodeName.toLowerCase())&&e.parentNode.lastChild!==e&&(e.nextSibling&&3===e.nextSibling.nodeType&&/^\s/.test(e.nextSibling.nodeValue)||o.appendChild(e.ownerDocument.createTextNode(" "))),o.normalize&&o.normalize(),o}return null}for(d=0;d<f;d++)c[d]&&(s=r(c[d],t,n,i),s&&(c[d]===s&&d--,a.appendChild(s)));if(t&&a.nodeName.toLowerCase()===_&&(!a.childNodes.length||/^\s*$/gi.test(a.innerHTML)&&(n||"_wysihtml5-temp-placeholder"!==e.className&&"rangySelectionBoundary"!==e.className)||!a.attributes.length)){for(o=a.ownerDocument.createDocumentFragment();a.firstChild;)o.appendChild(a.firstChild);return o.normalize&&o.normalize(),o}return a.normalize&&a.normalize(),a}function i(e,t){var n,r,i;for(n in t)if(t.hasOwnProperty(n)){wysihtml5.lang.object(t[n]).isFunction()?r=t[n]:"string"==typeof t[n]&&k[t[n]]&&(r=k[t[n]]),i=e.querySelectorAll(n);for(var o=i.length;o--;)r(i[o])}}function o(e,t){var n,r,i,o=y.tags,s=e.nodeName.toLowerCase(),u=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(u&&"HTML"!=u&&(s=u+":"+s),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(s="div")),s in o){if(n=o[s],!n||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!e.firstChild)return null;n={rename_tag:_}}if(n.one_of_type&&!a(e,y,n.one_of_type,t)){if(!n.remove_action)return null;if("unwrap"===n.remove_action)return!1;if("rename"!==n.remove_action)return null;i=n.remove_action_rename_to||_}return r=e.ownerDocument.createElement(i||n.rename_tag||s),h(e,r,n,t),l(e,r,n),e=null,r.normalize&&r.normalize(),r}function a(e,t,n,r){var i,o;if("SPAN"===e.nodeName&&!r&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(o in n)if(n.hasOwnProperty(o)&&t.type_definitions&&t.type_definitions[o]&&(i=t.type_definitions[o],s(e,i)))return!0;return!1}function s(e,t){var n,r,i,o,a,s=e.getAttribute("class"),l=e.getAttribute("style");if(t.methods)for(var u in t.methods)if(t.methods.hasOwnProperty(u)&&C[u]&&C[u](e))return!0;if(s&&t.classes){s=s.replace(/^\s+/g,"").replace(/\s+$/g,"").split(g),n=s.length;for(var c=0;c<n;c++)if(t.classes[s[c]])return!0}if(l&&t.styles){l=l.split(";");for(r in t.styles)if(t.styles.hasOwnProperty(r))for(var f=l.length;f--;)if(a=l[f].split(":"),a[0].replace(/\s/g,"").toLowerCase()===r&&(t.styles[r]===!0||1===t.styles[r]||wysihtml5.lang.array(t.styles[r]).contains(a[1].replace(/\s/g,"").toLowerCase())))return!0}if(t.attrs)for(i in t.attrs)if(t.attrs.hasOwnProperty(i)&&(o=wysihtml5.dom.getAttribute(e,i),"string"==typeof o&&o.search(t.attrs[i])>-1))return!0;return!1}function l(e,t,n){var r,i;if(n&&n.keep_styles)for(r in n.keep_styles)if(n.keep_styles.hasOwnProperty(r)){if(i="float"===r?e.style.styleFloat||e.style.cssFloat:e.style[r],n.keep_styles[r]instanceof RegExp&&!n.keep_styles[r].test(i))continue;"float"===r?t.style[e.style.styleFloat?"styleFloat":"cssFloat"]=i:e.style[r]&&(t.style[r]=i)}}function u(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&0===r.indexOf(e)&&n.push(r);return n}function c(e,t,n,r){var i,o=w[n];return!(!o||!(t||"alt"===e&&"IMG"==r)||(i=o(t),"string"!=typeof i))&&i}function f(e,t){var n,r,i,o=wysihtml5.lang.object(y.attributes||{}).clone(),a=wysihtml5.lang.object(o).merge(wysihtml5.lang.object(t||{}).clone()).get(),s={},l=wysihtml5.dom.getAttributes(e);for(n in a)if(/\*$/.test(n)){i=u(n.slice(0,-1),l);for(var f=0,h=i.length;f<h;f++)r=c(i[f],l[i[f]],a[n],e.nodeName),r!==!1&&(s[i[f]]=r)}else r=c(n,l[n],a[n],e.nodeName),r!==!1&&(s[n]=r);return s}function h(e,t,n,r){var i,o,a,s,l,u={},c=n.set_class,h=n.add_class,d=n.add_style,p=n.set_attributes,m=y.classes,_=0,v=[],b=[],w=[],C=[];if(p&&(u=wysihtml5.lang.object(p).clone()),u=wysihtml5.lang.object(u).merge(f(e,n.check_attributes)).get(),c&&v.push(c),h)for(s in h)l=T[h[s]],l&&(a=l(wysihtml5.dom.getAttribute(e,s)),"string"==typeof a&&v.push(a));if(d)for(s in d)l=E[d[s]],l&&(newStyle=l(wysihtml5.dom.getAttribute(e,s)),"string"==typeof newStyle&&b.push(newStyle));if("string"==typeof m&&"any"===m&&e.getAttribute("class"))if(y.classes_blacklist){for(C=e.getAttribute("class"),C&&(v=v.concat(C.split(g))),i=v.length;_<i;_++)o=v[_],y.classes_blacklist[o]||w.push(o);w.length&&(u["class"]=wysihtml5.lang.array(w).unique().join(" "))}else u["class"]=e.getAttribute("class");else{for(r||(m["_wysihtml5-temp-placeholder"]=1,m._rangySelectionBoundary=1,m["wysiwyg-tmp-selected-cell"]=1),C=e.getAttribute("class"),C&&(v=v.concat(C.split(g))),i=v.length;_<i;_++)o=v[_],m[o]&&w.push(o);w.length&&(u["class"]=wysihtml5.lang.array(w).unique().join(" "))}u["class"]&&r&&(u["class"]=u["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(u["class"])&&delete u["class"]),b.length&&(u.style=wysihtml5.lang.array(b).unique().join(" "));for(s in u)try{t.setAttribute(s,u[s])}catch(k){}u.src&&("undefined"!=typeof u.width&&t.setAttribute("width",u.width),"undefined"!=typeof u.height&&t.setAttribute("height",u.height))}function d(e){var t=e.nextSibling;if(!t||t.nodeType!==wysihtml5.TEXT_NODE){var n=e.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");return e.ownerDocument.createTextNode(n)}t.data=e.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+t.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")}function p(e){if(y.comments)return e.ownerDocument.createComment(e.nodeValue)}var m={1:o,3:d,8:p},_="span",g=/\s+/,v={tags:{},classes:{}},y={},b=["ADDRESS","BLOCKQUOTE","CENTER","DIR","DIV","DL","FIELDSET","FORM","H1","H2","H3","H4","H5","H6","ISINDEX","MENU","NOFRAMES","NOSCRIPT","OL","P","PRE","TABLE","UL"],w={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),href:function(){var e=/^(#|\/|https?:\/\/|mailto:)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}(),any:function(){return function(e){return e}}()},E={align_text:function(){var e={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(t){return e[String(t).toLowerCase()]}}()},T={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()},C={has_visible_contet:function(){var e,t=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(n){if(e=(n.innerText||n.textContent).replace(/\s/g,""),e&&e.length>0)return!0;for(var r=t.length;r--;)if(n.querySelector(t[r]))return!0;return!!(n.offsetWidth&&n.offsetWidth>0&&n.offsetHeight&&n.offsetHeight>0)}}()},k={unwrap:function(e){wysihtml5.dom.unwrap(e)},remove:function(e){e.parentNode.removeChild(e)}};return n(e,t)},wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),r=n.length,i=0;i<r;i++)t=n[i],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,r=e.ownerDocument.createElement(t);n=e.firstChild;)r.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(r),e.parentNode.replaceChild(r,e),r},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function n(e){return"BR"===e.nodeName}function r(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function i(e,i){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var o,a,s,l,u,c,f=e.ownerDocument,h=f.createDocumentFragment(),d=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(i)for(!d||t(d)||n(d)||r(h);c=e.firstElementChild||e.firstChild;){for(a=c.lastChild;o=c.firstChild;)s=o===a,l=s&&!t(o)&&!n(o),h.appendChild(o),l&&r(h);c.parentNode.removeChild(c)}else for(;c=e.firstElementChild||e.firstChild;){if(c.querySelector&&c.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;o=c.firstChild;)h.appendChild(o);else{for(u=f.createElement("p");o=c.firstChild;)u.appendChild(o);h.appendChild(u)}c.parentNode.removeChild(c)}e.parentNode.replaceChild(h,e)}}e.resolveList=i}(wysihtml5.dom),function(e){var t=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],r=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],i=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,r=t.createElement("iframe");return r.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(r),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(r.src="javascript:'<html></html>'"),r.onload=function(){r.onreadystatechange=r.onload=null,n._onLoadIframe(r)},r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&(r.onreadystatechange=r.onload=null,n._onLoadIframe(r))},r},_onLoadIframe:function(o){if(e.dom.contains(t.documentElement,o)){var a=this,s=o.contentWindow,l=o.contentWindow.document,u=t.characterSet||t.charset||"utf-8",c=this._getHtml({charset:u,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},s.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){var f,h;for(f=0,h=n.length;f<h;f++)this._unset(s,n[f]);for(f=0,h=r.length;f<h;f++)this._unset(s,r[f],e.EMPTY_FUNCTION);for(f=0,h=i.length;f<h;f++)this._unset(l,i[f]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(t){var n,r=t.stylesheets,i="",o=0;if(r="string"==typeof r?[r]:r)for(n=r.length;o<n;o++)i+='<link rel="stylesheet" href="'+r[o]+'">';return t.stylesheets=i,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,n,r,i){try{t[n]=r}catch(o){}try{t.__defineGetter__(n,function(){return r})}catch(o){}if(i)try{t.__defineSetter__(n,function(){})}catch(o){}if(!e.browser.crashesWhenDefineProperty(n))try{var a={get:function(){return r}};i&&(a.set=function(){}),Object.defineProperty(t,n,a)}catch(o){}}})}(wysihtml5),function(e){var t=document;e.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(t,n,r){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),r?this.element=this._bindElement(r):this.element=this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var n=this;if(!t){var r=this._getHtml();e.innerHTML=r}this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(e){return""}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(n){for(var r in t)n.setAttribute(e[r]||r,t[r])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var n=t.style;if("string"==typeof e)return void(n.cssText+=";"+e);for(var r in e)"float"===r?(n.cssFloat=e[r],n.styleFloat=e[r]):n[r]=e[r]}}},function(e){e.simulatePlaceholder=function(t,n,r){var i="placeholder",o=function(){var t=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),t&&setTimeout(function(){var e=n.selection.getSelection();e.focusNode&&e.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,e.removeClass(n.element,i)},a=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(r),e.addClass(n.element,i))};t.on("set_placeholder",a).on("unset_placeholder",o).on("focus:composer",o).on("paste:composer",o).on("blur:composer",a),a()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();t=t.toLowerCase();var r=e.nodeName;if("IMG"==r&&"src"==t&&wysihtml5.dom.isLoadedImage(e)===!0)return e.src;if(n&&"outerHTML"in e){var i=e.outerHTML.toLowerCase(),o=i.indexOf(" "+t+"=")!=-1;return o?e.getAttribute(t):null}return e.getAttribute(t)},wysihtml5.dom.getAttributes=function(e){var t,n=!wysihtml5.browser.supportsGetAttributeCorrectly(),r=e.nodeName,i=[];for(t in e.attributes)(e.attributes.hasOwnProperty&&e.attributes.hasOwnProperty(t)||!e.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e.attributes,t))&&e.attributes[t].specified&&("IMG"==r&&"src"==e.attributes[t].name.toLowerCase()&&wysihtml5.dom.isLoadedImage(e)===!0?i.src=e.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(e.attributes[t].name.toLowerCase())&&n?1!==e.attributes[t].value&&(i[e.attributes[t].name]=e.attributes[t].value):i[e.attributes[t].name]=e.attributes[t].value);return i},wysihtml5.dom.isLoadedImage=function(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}},function(e){function t(e,t){for(var n,r=[],i=0,o=e.length;i<o;i++)if(n=e[i].querySelectorAll(t))for(var a=n.length;a--;r.unshift(n[a]));return r}function n(e){e.parentNode.removeChild(e)}function r(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function i(e,t){for(var n=e.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!t||t==n.tagName.toLowerCase())return n;return null}var o=e.dom,a=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},s=function(e,t){e?(this.cell=e,this.table=o.getParentElement(e,{nodeName:["TABLE"]})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])};s.prototype={addSpannedCellToMap:function(e,t,n,r,i,o){for(var s=[],l=n+(o?parseInt(o,10)-1:0),u=r+(i?parseInt(i,10)-1:0),c=n;c<=l;c++){"undefined"==typeof t[c]&&(t[c]=[]);for(var f=r;f<=u;f++)t[c][f]=new a(e),t[c][f].isColspan=i&&parseInt(i,10)>1,t[c][f].isRowspan=o&&parseInt(o,10)>1,t[c][f].firstCol=f==r,t[c][f].lastCol=f==u,t[c][f].firstRow=c==n,t[c][f].lastRow=c==l,t[c][f].isReal=f==r&&c==n,t[c][f].spanCollection=s,s.push(t[c][f])}},setCellAsModified:function(e){if(e.modified=!0,e.spanCollection.length>0)for(var t=0,n=e.spanCollection.length;t<n;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,t,n,r,i,s,l,u,c=[],f=this.getTableRows();for(e=0;e<f.length;e++)for(t=f[e],n=this.getRowCells(t),s=0,"undefined"==typeof c[e]&&(c[e]=[]),r=0;r<n.length;r++){for(i=n[r];"undefined"!=typeof c[e][s];)s++;l=o.getAttribute(i,"colspan"),u=o.getAttribute(i,"rowspan"),l||u?(this.addSpannedCellToMap(i,c,e,s,l,u),s+=l?parseInt(l,10):1):(c[e][s]=new a(i),s++)}return this.map=c,c},getRowCells:function(n){var r=this.table.querySelectorAll("table"),i=r?t(r,"th, td"):[],o=n.querySelectorAll("th, td"),a=i.length>0?e.lang.array(o).without(i):o;return a},getTableRows:function(){var n=this.table.querySelectorAll("table"),r=n?t(n,"tr"):[],i=this.table.querySelectorAll("tr"),o=r.length>0?e.lang.array(i).without(r):i;return o},getMapIndex:function(e){for(var t=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,r=0;r<t;r++)for(var i=0;i<n;i++)if(this.map[r][i].el===e)return{row:r,col:i};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var r=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=r}if(null!=this.idx_start&&null!=this.idx_end)for(var i=this.idx_start.row,o=this.idx_end.row;i<=o;i++)for(var a=this.idx_start.col,s=this.idx_end.col;a<=s;a++)t.push(this.map[i][a].el);return t},orderSelectionEnds:function(e){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,n){for(var r,i=this.table.ownerDocument,o=i.createDocumentFragment(),a=0;a<t;a++){if(r=i.createElement(e),n)for(var s in n)n.hasOwnProperty(s)&&r.setAttribute(s,n[s]);r.appendChild(document.createTextNode("")),o.appendChild(r)}return o},correctColIndexForUnreals:function(e,t){for(var n=this.map[t],r=-1,i=0;i<e;i++)n[i].isReal&&r++;return r},getLastNewCellOnRow:function(e,t){for(var n,r,i=this.getRowCells(e),o=0,a=i.length;o<a;o++)if(n=i[o],r=this.getMapIndex(n),r===!1||"undefined"!=typeof t&&r.row!=t)return n;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return(!e||0==e.length)&&(n(this.table),!0)},splitRowToCells:function(e){if(e.isColspan){var t=parseInt(o.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase();if(t>1){var i=this.createCells(n,t-1);r(e.el,i)}e.el.removeAttribute("colspan")}},getRealRowEl:function(e,t){var n=null,r=null;t=t||this.idx;for(var i=0,a=this.map[t.row].length;i<a;i++)if(r=this.map[t.row][i],r.isReal&&(n=o.getParentElement(r.el,{nodeName:["TR"]})))return n;return null===n&&e&&(n=o.getParentElement(this.map[t.row][t.col].el,{nodeName:["TR"]})||null),n},injectRowAt:function(e,t,n,i,a){var s=this.getRealRowEl(!1,{row:e,col:t}),l=this.createCells(i,n);if(s){var u=this.correctColIndexForUnreals(t,e);u>=0?r(this.getRowCells(s)[u],l):s.insertBefore(l,s.firstChild)}else{var c=this.table.ownerDocument.createElement("tr");c.appendChild(l),r(o.getParentElement(a.el,{nodeName:["TR"]}),c)}},canMerge:function(e){if(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var r=this.idx_start.row,i=this.idx_end.row;r<=i;r++)for(var o=this.idx_start.col,a=this.idx_end.col;o<=a;o++)if(this.map[r][o].isColspan||this.map[r][o].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var n=parseInt(o.getAttribute(e.el,t),10)-1;n>=1?e.el.setAttribute(t,n):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,r,i,a,s,l;if(this.setTableMap(),this.map){for(r=0,
i=this.map.length;r<i;r++){for(e=this.map[r],l=!0,a=0,s=e.length;a<s;a++)if(t=e[a],!(o.getAttribute(t.el,"rowspan")&&parseInt(o.getAttribute(t.el,"rowspan"),10)>1&&t.firstRow!==!0)){l=!1;break}if(l)for(a=0;a<s;a++)this.decreaseCellSpan(e[a],"rowspan")}var u=this.getTableRows();for(r=0,i=u.length;r<i;r++)e=u[r],0==e.childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&n(e)}},fillMissingCells:function(){var e=0,t=0,n=null;if(this.setTableMap(),this.map){e=this.map.length;for(var i=0;i<e;i++)this.map[i].length>t&&(t=this.map[i].length);for(var o=0;o<e;o++)for(var s=0;s<t;s++)this.map[o]&&!this.map[o][s]&&s>0&&(this.map[o][s]=new a(this.createCells("td",1)),n=this.map[o][s-1],n&&n.el&&n.el.parent&&r(this.map[o][s-1].el,this.map[o][s].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var e=this.map[this.idx.row][this.idx.col],t=o.getAttribute(e.el,"colspan")?parseInt(o.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase();if(e.isRowspan){var r=parseInt(o.getAttribute(e.el,"rowspan"),10);if(r>1)for(var i=1,a=r-1;i<=a;i++)this.injectRowAt(this.idx.row+i,this.idx.col,t,n,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){if(this.rectify())if(this.canMerge(e)){for(var t=this.idx_end.row-this.idx_start.row+1,r=this.idx_end.col-this.idx_start.col+1,i=this.idx_start.row,o=this.idx_end.row;i<=o;i++)for(var a=this.idx_start.col,s=this.idx_end.col;a<=s;a++)i==this.idx_start.row&&a==this.idx_start.col?(t>1&&this.map[i][a].el.setAttribute("rowspan",t),r>1&&this.map[i][a].el.setAttribute("colspan",r)):(/^\s*<br\/?>\s*$/.test(this.map[i][a].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[i][a].el.innerHTML),n(this.map[i][a].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(e){var t=this.getMapIndex(e.el),n=t.row+1,i={row:n,col:t.col};if(n<this.map.length){var a=this.getRealRowEl(!1,i);if(null!==a){var s=this.correctColIndexForUnreals(i.col,i.row);if(s>=0)r(this.getRowCells(a)[s],e.el);else{var l=this.getLastNewCellOnRow(a,n);null!==l?r(l,e.el):a.insertBefore(e.el,a.firstChild)}parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")}}},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):n(e.el):parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var t=this.map[this.idx.row],n=0,r=t.length;n<r;n++)t[n].isReal&&e.push(t[n].el);return e},getColumnElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var t=0,n=this.map.length;t<n;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&e.push(this.map[t][this.idx.col].el);return e},removeRow:function(){var e=o.getParentElement(this.cell,{nodeName:["TR"]});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var t=this.map[this.idx.row],r=0,i=t.length;r<i;r++)t[r].modified||(this.setCellAsModified(t[r]),this.removeRowCell(t[r]));n(e)}},removeColCell:function(e){e.isColspan?parseInt(o.getAttribute(e.el,"colspan"),10)>2?e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&n(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var e=0,t=this.map.length;e<t;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&o.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(o.getAttribute(this.cell,"rowspan"),10)-1),this.idx!==!1){for(var n=this.map[this.idx.row],i=t.createElement("tr"),a=0,s=n.length;a<s;a++)n[a].modified||(this.setCellAsModified(n[a]),this.addRowCell(n[a],i,e));switch(e){case"below":r(this.getRealRowEl(!0),i);break;case"above":var l=o.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});l&&l.parentNode.insertBefore(i,l)}}},addRowCell:function(e,t,n){var r=e.isColspan?{colspan:o.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,r)):"above"!=n&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,r)):c.isRowspan&&e.el.attr("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&("below"!=e&&"above"!=e||this.addRow(e),"before"!=e&&"after"!=e||this.addColumn(e))},addColCell:function(e,t,n){var i,a=e.el.tagName.toLowerCase();switch(n){case"before":i=!e.isColspan||e.firstCol;break;case"after":i=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(i){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(a,1),e.el);break;case"after":r(e.el,this.createCells(a,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,n)}else e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&o.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(o.getAttribute(this.cell,"colspan"),10)-1),this.idx!==!1)for(var r=0,i=this.map.length;r<i;r++)t=this.map[r],t[this.idx.col]&&(n=t[this.idx.col],n.modified||(this.setCellAsModified(n),this.addColCell(n,r,e)))},handleCellAddWithRowspan:function(e,t,n){for(var a,s,l,u=parseInt(o.getAttribute(this.cell,"rowspan"),10)-1,c=o.getParentElement(e.el,{nodeName:["TR"]}),f=e.el.tagName.toLowerCase(),h=this.table.ownerDocument,d=0;d<u;d++)if(a=this.correctColIndexForUnreals(this.idx.col,t+d),c=i(c,"tr"))if(a>0)switch(n){case"before":s=this.getRowCells(c),a>0&&this.map[t+d][this.idx.col].el!=s[a]&&a==s.length-1?r(s[a],this.createCells(f,1)):s[a].parentNode.insertBefore(this.createCells(f,1),s[a]);break;case"after":r(this.getRowCells(c)[a],this.createCells(f,1))}else c.insertBefore(this.createCells(f,1),c.firstChild);else l=h.createElement("tr"),l.appendChild(this.createCells(f,1)),this.table.appendChild(l)}},o.table={getCellsBetween:function(e,t){var n=new s(e);return n.getMapElsTo(t)},addCells:function(e,t){var n=new s(e);n.add(t)},removeCells:function(e,t){var n=new s(e);n.remove(t)},mergeCellsBetween:function(e,t){var n=new s(e);n.merge(t)},unmergeCell:function(e){var t=new s(e);t.unmerge()},orderSelectionEnds:function(e,t){var n=new s(e);return n.orderSelectionEnds(t)},indexOf:function(e){var t=new s(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){var n=new s(null,e);return n.getElementAtIndex(t)},findRowByCell:function(e){var t=new s(e);return t.getRowElementsByCell()},findColumnByCell:function(e){var t=new s(e);return t.getColumnElementsByCell()},canMerge:function(e,t){var n=new s(e);return n.canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var n,r=[];e.nodeType&&(e=[e]);for(var i=0,o=e.length;i<o;i++)if(n=e[i].querySelectorAll(t))for(var a=n.length;a--;r.unshift(n[a]));return r},wysihtml5.dom.compareDocumentPosition=function(){var e=document.documentElement;return e.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var n,r;if(n=9===e.nodeType?e:e.ownerDocument,r=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(n!==r)return 1;if(2===e.nodeType&&e.childNodes&&wysihtml5.lang.array(e.childNodes).indexOf(t)!==-1)return 20;if(2===t.nodeType&&t.childNodes&&wysihtml5.lang.array(t.childNodes).indexOf(e)!==-1)return 10;for(var i=e,o=[],a=null;i;){if(i==t)return 10;o.push(i),i=i.parentNode}for(i=t,a=null;i;){if(i==e)return 20;var s=wysihtml5.lang.array(o).indexOf(i);if(s!==-1){var l=o[s],u=wysihtml5.lang.array(l.childNodes).indexOf(o[s-1]),c=wysihtml5.lang.array(l.childNodes).indexOf(a);return u>c?2:4}a=i,i=i.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.dom.getPastedHtml=function(e){var t;return e.clipboardData&&(wysihtml5.lang.array(e.clipboardData.types).contains("text/html")?t=e.clipboardData.getData("text/html"):wysihtml5.lang.array(e.clipboardData.types).contains("text/plain")&&(t=wysihtml5.lang.string(e.clipboardData.getData("text/plain")).escapeHTML(!0,!0))),t},wysihtml5.dom.getPastedHtmlWithDiv=function(e,t){var n=e.selection.getBookmark(),r=e.element.ownerDocument,i=r.createElement("DIV");r.body.appendChild(i),i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.setAttribute("contenteditable","true"),i.focus(),setTimeout(function(){e.selection.setBookmark(n),t(i.innerHTML),i.parentNode.removeChild(i)},0)},wysihtml5.quirks.cleanPastedHTML=function(){var e=function(e){var t=wysihtml5.lang.string(e).trim(),n=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return new RegExp("^((?!^"+n+"$).)*$","i")},t=function(t,n){var r,i,o=wysihtml5.lang.object(t).clone(!0);for(r in o.tags)if(o.tags.hasOwnProperty(r)&&o.tags[r].keep_styles)for(i in o.tags[r].keep_styles)o.tags[r].keep_styles.hasOwnProperty(i)&&n[i]&&(o.tags[r].keep_styles[i]=e(n[i]));return o},n=function(e,t){var n;if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].condition||(n=e[r].set),e[r].condition&&e[r].condition.test(t))return e[r].set;return n};return function(e,r){var i,o={color:wysihtml5.dom.getStyle("color").from(r.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(r.referenceNode)},a=t(n(r.rules,e)||{},o);return i=wysihtml5.dom.parse(e,{rules:a,cleanUp:!0,context:r.referenceNode.ownerDocument,uneditableClass:r.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=t&&"<p>&nbsp;</p><p>&nbsp;</p>"!=t||(e.innerHTML="")},0)};return function(t){wysihtml5.dom.observe(t.element,["cut","keydown"],e)}}(),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(n){var r=n.innerHTML;if(r.indexOf(t)===-1)return r;var i,o,a,s,l=n.querySelectorAll("[href*='~'], [src*='~']");for(s=0,a=l.length;s<a;s++)i=l[s].href||l[s].src,o=e.lang.string(i).replace("~").by(t),r=e.lang.string(r).replace(o).by(i);return r}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(n){e.dom.addClass(n,t),e.dom.removeClass(n,t);try{var r=n.ownerDocument;r.execCommand("italic",!1,null),r.execCommand("italic",!1,null)}catch(i){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(e,t){function n(){return c.observe(e,"mousedown",function(e){var t=wysihtml5.dom.getParentElement(e.target,{nodeName:["TD","TH"]});t&&r(t)}),f}function r(n){f.start=n,f.end=n,f.cells=[n],f.table=c.getParentElement(f.start,{nodeName:["TABLE"]}),f.table&&(i(),c.addClass(n,h),d=c.observe(e,"mousemove",a),p=c.observe(e,"mouseup",s),t.fire("tableselectstart").fire("tableselectstart:composer"))}function i(){if(e){var t=e.querySelectorAll("."+h);if(t.length>0)for(var n=0;n<t.length;n++)c.removeClass(t[n],h)}}function o(e){for(var t=0;t<e.length;t++)c.addClass(e[t],h)}function a(e){var n,r=null,a=c.getParentElement(e.target,{nodeName:["TD","TH"]});a&&f.table&&f.start&&(r=c.getParentElement(a,{nodeName:["TABLE"]}),r&&r===f.table&&(i(),n=f.end,f.end=a,f.cells=c.table.getCellsBetween(f.start,a),f.cells.length>1&&t.composer.selection.deselect(),o(f.cells),f.end!==n&&t.fire("tableselectchange").fire("tableselectchange:composer")))}function s(e){d.stop(),p.stop(),t.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){l()},0)}function l(){var n=c.observe(e.ownerDocument,"click",function(e){n.stop(),c.getParentElement(e.target,{nodeName:["TABLE"]})!=f.table&&(i(),f.table=null,f.start=null,f.end=null,t.fire("tableunselect").fire("tableunselect:composer"))})}function u(e,n){f.start=e,f.end=n,f.table=c.getParentElement(f.start,{nodeName:["TABLE"]}),selectedCells=c.table.getCellsBetween(f.start,f.end),o(selectedCells),l(),t.fire("tableselect").fire("tableselect:composer")}var c=wysihtml5.dom,f={table:null,start:null,end:null,cells:null,select:u},h="wysiwyg-tmp-selected-cell",d=null,p=null;return n()},function(e){var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,r=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,i=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,o=function(e){return new RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};e.quirks.styleParser={parseColor:function(a,s){var l,u,c=o(s),f=a.match(c),h=10;if(f){for(var d=f.length;d--;)f[d]=e.lang.string(f[d].split(":")[1]).trim();if(l=f[f.length-1],t.test(l))u=l.match(t);else if(n.test(l))u=l.match(n);else if(r.test(l))u=l.match(r),h=16;else if(i.test(l))return u=l.match(i),u.shift(),u.push(1),e.lang.array(u).map(function(e,t){return t<3?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)});if(u)return u.shift(),u[3]||u.push(1),e.lang.array(u).map(function(e,t){return t<3?parseInt(e,h):parseFloat(e)})}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(t){var n=t.match(o("font-size"));return!!n&&e.lang.string(n[n.length-1].split(":")[1]).trim()}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}function n(e,t){for(var n=0;t!==e;)if(n++,t=t.parentNode,!t)throw new Error("not a descendant of ancestor!");return n}function r(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,r=n(t,e.startContainer),i=n(t,e.endContainer);!e.canSurroundContents();)r>i?(e.setStartBefore(e.startContainer),r=n(t,e.startContainer)):(e.setEndAfter(e.endContainer),i=n(t,e.endContainer))}var i=e.dom;e.Selection=Base.extend({constructor:function(e,t,n){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=n||!1},getBookmark:function(){var e=this.getRange();return e&&r(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},creteTemporaryCaretSpaceAfter:function(t){var n=this.doc.createElement("span"),r=this.doc.createTextNode(e.INVISIBLE_SPACE),i=function(t){var r;this.contain.removeEventListener("mouseup",i),this.contain.removeEventListener("keydown",a),this.contain.removeEventListener("touchstart",i),this.contain.removeEventListener("focus",i),this.contain.removeEventListener("blur",i),this.contain.removeEventListener("paste",o),this.contain.removeEventListener("drop",o),this.contain.removeEventListener("beforepaste",o),n&&n.parentNode&&(n.innerHTML=n.innerHTML.replace(e.INVISIBLE_SPACE_REG_EXP,""),/[^\s]+/.test(n.innerHTML)?(r=n.lastChild,e.dom.unwrap(n),this.setAfter(r)):n.parentNode.removeChild(n))}.bind(this),o=function(e){n&&n.parentNode&&setTimeout(i,0)},a=function(e){8===e.which||91===e.which||17===e.which||86===e.which&&(e.ctrlKey||e.metaKey)||i()};return n.style.position="absolute",n.style.display="block",n.style.minWidth="1px",n.style.zIndex="99999",n.appendChild(r),t.parentNode.insertBefore(n,t.nextSibling),this.setBefore(r),this.contain.addEventListener("mouseup",i),this.contain.addEventListener("keydown",a),this.contain.addEventListener("touchstart",i),this.contain.addEventListener("focus",i),this.contain.addEventListener("blur",i),this.contain.addEventListener("paste",o),this.contain.addEventListener("drop",o),this.contain.addEventListener("beforepaste",o),n},setAfter:function(e){var t,n=rangy.createRange(this.doc),r=this.doc.documentElement.scrollTop||this.doc.body.scrollTop||this.doc.defaultView.pageYOffset,i=this.doc.documentElement.scrollLeft||this.doc.body.scrollLeft||this.doc.defaultView.pageXOffset;return n.setStartAfter(e),n.setEndAfter(e),this.composer.element.focus(),this.doc.defaultView.scrollTo(i,r),t=this.setSelection(n),t||this.creteTemporaryCaretSpaceAfter(e),t},selectNode:function(t,n){var r=rangy.createRange(this.doc),o=t.nodeType===e.ELEMENT_NODE,a="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,s=o?t.innerHTML:t.data,l=""===s||s===e.INVISIBLE_SPACE,u=i.getStyle("display").from(t),c="block"===u||"list-item"===u;if(l&&o&&a&&!n)try{t.innerHTML=e.INVISIBLE_SPACE}catch(f){}a?r.selectNodeContents(t):r.selectNode(t),a&&l&&o?r.collapse(c):a&&l&&(r.setStartAfter(t),r.setEndAfter(t)),this.setSelection(r)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange(),n&&n.length)?n.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var e=this.getRange();r(e),this.setSelection(e)},getSelectedOwnNodes:function(e){for(var t=this.getOwnRanges(),n=[],r=0,i=t.length;r<i;r++)n.push(t[r].commonAncestorContainer||this.doc.body);return n},findNodesInSelection:function(t){for(var n,r=this.getOwnRanges(),i=[],o=0,a=r.length;o<a;o++)n=r[o].getNodes([1],function(n){return e.lang.array(t).contains(n.nodeName)}),i=i.concat(n);return i},containsUneditable:function(){for(var e=this.getOwnUneditables(),t=this.getSelection(),n=0,r=e.length;n<r;n++)if(t.containsNode(e[n]))return!0;return!1},deleteContents:function(){var t,n,r,i,o=this.getRange();if(this.unselectableClass){(t=e.dom.getParentElement(o.startContainer,{className:this.unselectableClass},!1,this.contain))&&o.setStartBefore(t),(n=e.dom.getParentElement(o.endContainer,{className:this.unselectableClass},!1,this.contain))&&o.setEndAfter(n),r=o.getNodes([1],function(t){return e.dom.hasClass(t,this.unselectableClass)}.bind(this));for(var a=r.length;a--;)try{i=new CustomEvent("wysihtml5:uneditable:delete"),r[a].dispatchEvent(i)}catch(s){}}o.deleteContents(),this.setSelection(o)},getPreviousNode:function(t,n){var r;if(!t){var i=this.getSelection();t=i.anchorNode}if(t===this.contain)return!1;var o,a=t.previousSibling;return a!==this.contain&&(a&&3!==a.nodeType&&1!==a.nodeType?a=this.getPreviousNode(a,n):a&&3===a.nodeType&&/^\s*$/.test(a.textContent)?a=this.getPreviousNode(a,n):n&&a&&1===a.nodeType?(r=e.dom.getStyle("display").from(a),e.lang.array(["BR","HR","IMG"]).contains(a.nodeName)||e.lang.array(["block","inline-block","flex","list-item","table"]).contains(r)||!/^[\s]*$/.test(a.innerHTML)||(a=this.getPreviousNode(a,n))):a||t===this.contain||(o=t.parentNode,o!==this.contain&&(a=this.getPreviousNode(o,n))),a!==this.contain&&a)},getSelectionParentsByTag:function(t){for(var n,r=this.getSelectedOwnNodes(),i=[],o=0,a=r.length;o<a;o++)n=r[o].nodeName&&"LI"===r[o].nodeName?r[o]:e.dom.getParentElement(r[o],{nodeName:["LI"]},!1,this.contain),n&&i.push(n);return i.length?i:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,n=e.startOffset,r=rangy.createRange(this.doc);return r.selectNodeContents(t),r.setStart(t,n),r}},caretIsLastInSelection:function(){var e=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),t=e.textContent;return/^\s*$/.test(t)},caretIsFirstInSelection:function(){var t=rangy.createRange(this.doc),n=this.getSelection(),r=this.getRange(),i=r.startContainer;if(i)return i.nodeType===e.TEXT_NODE?this.isCollapsed()&&i.nodeType===e.TEXT_NODE&&/^\s*$/.test(i.data.substr(0,r.startOffset)):(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===n.anchorNode||t.endContainer===n.anchorNode)&&t.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(t){var n=this.getSelection(),r=n.anchorNode,i=n.anchorOffset;return t&&r?0===i&&(r.nodeName&&r.nodeName===t.toUpperCase()||e.dom.getParentElement(r.parentNode,{nodeName:t},1)):r?0===i&&!this.getPreviousNode(r,!0):void 0},caretIsBeforeUneditable:function(){var t,n,r,i=this.getSelection(),o=i.anchorNode,a=i.anchorOffset,s=[];if(o)if(0===a){var l=this.getPreviousNode(o,!0),u=l?e.dom.domNode(l).lastLeafNode(!!this.unselectableClass&&{leafClasses:[this.unselectableClass]}):null;if(u)for(var c=this.getOwnUneditables(),f=0,h=c.length;f<h;f++)if(u===c[f])return c[f]}else{if(t=i.getRangeAt(0),t.setStart(t.startContainer,t.startOffset-1),t){n=t.getNodes([1,3]);for(var d=0,p=n.length;d<p;d++)n[d].parentNode&&n[d].parentNode===o&&s.push(n[d])}if(r=s.length>0?s[s.length-1]:null,r&&1===r.nodeType&&e.dom.hasClass(r,this.unselectableClass))return r}return!1},executeAndRestoreRangy:function(e,t){var n=this.doc.defaultView||this.doc.parentWindow,r=rangy.saveSelection(n);if(r)try{e()}catch(i){setTimeout(function(){throw i},0)}else e();rangy.restoreSelection(r)},executeAndRestore:function(t,n){var r,o,a,s,l,u,c,f,h=this.doc.body,d=n&&h.scrollTop,p=n&&h.scrollLeft,m="_wysihtml5-temp-placeholder",_='<span class="'+m+'">'+e.INVISIBLE_SPACE+"</span>",g=this.getRange(!0);if(!g)return void t(h,h);g.collapsed||(c=g.cloneRange(),u=c.createContextualFragment(_),c.collapse(!1),c.insertNode(u),c.detach()),l=g.createContextualFragment(_),g.insertNode(l),u&&(r=this.contain.querySelectorAll("."+m),g.setStartBefore(r[0]),g.setEndAfter(r[r.length-1])),this.setSelection(g);try{t(g.startContainer,g.endContainer)}catch(v){setTimeout(function(){throw v},0)}if(r=this.contain.querySelectorAll("."+m),r&&r.length){f=rangy.createRange(this.doc),a=r[0].nextSibling,r.length>1&&(s=r[r.length-1].previousSibling),s&&a?(f.setStartBefore(a),f.setEndAfter(s)):(o=this.doc.createTextNode(e.INVISIBLE_SPACE),i.insert(o).after(r[0]),f.setStartBefore(o),f.setEndAfter(o)),this.setSelection(f);for(var y=r.length;y--;)r[y].parentNode.removeChild(r[y])}else this.contain.focus();n&&(h.scrollTop=d,h.scrollLeft=p);try{r.parentNode.removeChild(r)}catch(b){}},set:function(e,t){var n=rangy.createRange(this.doc);n.setStart(e,t||0),this.setSelection(n)},insertHTML:function(e){var t,n=(rangy.createRange(this.doc),this.doc.createElement("DIV")),r=this.doc.createDocumentFragment();for(n.innerHTML=e,t=n.lastChild;n.firstChild;)r.appendChild(n.firstChild);this.insertNode(r),t&&this.setAfter(t)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,n=this.getOwnRanges(),r=[];if(0==n.length)return r;for(var i=n.length;i--;){t=this.doc.createElement(e.nodeName),r.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{n[i].surroundContents(t),this.selectNode(t)}catch(o){t.appendChild(n[i].extractContents()),n[i].insertNode(t)}}return r},deblockAndSurround:function(t){var n,r,i,o=this.doc.createElement("div"),a=rangy.createRange(this.doc);if(o.className=t.className,this.composer.commands.exec("formatBlock",t.nodeName,t.className),n=this.contain.querySelectorAll("."+t.className),n[0])for(n[0].parentNode.insertBefore(o,n[0]),a.setStartBefore(n[0]),a.setEndAfter(n[n.length-1]),r=a.extractContents();r.firstChild;)if(i=r.firstChild,1==i.nodeType&&e.dom.hasClass(i,t.className)){for(;i.firstChild;)o.appendChild(i.firstChild);"BR"!==i.nodeName&&o.appendChild(this.doc.createElement("br")),r.removeChild(i)}else o.appendChild(i);else o=null;return o},scrollIntoView:function(){var n,r=this.doc,i=5,o=r.documentElement.scrollHeight>r.documentElement.offsetHeight,a=r._wysihtml5ScrollIntoViewElement=r._wysihtml5ScrollIntoViewElement||function(){var t=r.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();o&&(this.insertNode(a),n=t(a),a.parentNode.removeChild(a),n>=r.body.scrollTop+r.documentElement.offsetHeight-i&&(r.body.scrollTop=n))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("move","left","lineboundary"),t.modify("extend","right","lineboundary")},toLineBoundary:function(t,n){if(n="undefined"!=typeof n&&n,e.browser.supportsSelectionModify()){var r=this.doc.defaultView,i=r.getSelection();i.modify("extend",t,"lineboundary"),n&&("left"===t?i.collapseToStart():"right"===t&&i.collapseToEnd())}},_selectLine_MSIE:function(){var e,t,n,r,i,o=this.doc.selection.createRange(),a=o.boundingTop,s=this.doc.body.scrollWidth;if(o.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,r=-10;r<s;r+=2)try{o.moveToPoint(r,a);break}catch(l){}for(e=a,t=this.doc.selection.createRange(),i=s;i>=0;i--)try{t.moveToPoint(i,e);break}catch(u){}o.setEndPoint("EndToEnd",t),o.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},fixRangeOverflow:function(e){if(this.contain&&this.contain.firstChild&&e){var t=e.compareNode(this.contain);if(2!==t)1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(e)){var n=e.endContainer.previousElementSibling;n&&e.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=i.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),n=t&&t.rangeCount&&t.getRangeAt(0);return e!==!0&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var t=i.query(this.contain,"."+this.unselectableClass),n=i.query(t,"."+this.unselectableClass);return e.lang.array(t).without(n)},getOwnRanges:function(){var e,t=[],n=this.getRange();if(n&&t.push(n),this.unselectableClass&&this.contain&&n){var r,i=this.getOwnUneditables();if(i.length>0)for(var o=0,a=i.length;o<a;o++){e=[];for(var s=0,l=t.length;s<l;s++){if(t[s])switch(t[s].compareNode(i[o])){case 2:break;case 3:r=t[s].cloneRange(),r.setEndBefore(i[o]),e.push(r),r=t[s].cloneRange(),r.setStartAfter(i[o]),e.push(r);break;default:e.push(t[s])}t=e}}}return t},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.getSelection(t);return n.setSingleRange(e),n&&n.anchorNode&&n.focusNode?n:null},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(t){var n=this.getRange(),r=n.commonAncestorContainer,i=n.startContainer,o=n.endContainer;if(r.nodeType===e.TEXT_NODE&&(r=r.parentNode),i.nodeType===e.TEXT_NODE&&!/^\s*$/.test(i.data.substr(n.startOffset)))return!1;if(o.nodeType===e.TEXT_NODE&&!/^\s*$/.test(o.data.substr(n.endOffset)))return!1;for(;i&&i!==r;){if(i.nodeType!==e.TEXT_NODE&&!e.dom.contains(r,i))return!1;if(e.dom.domNode(i).prev({ignoreBlankTexts:!0}))return!1;i=i.parentNode}for(;o&&o!==r;){if(o.nodeType!==e.TEXT_NODE&&!e.dom.contains(r,o))return!1;if(e.dom.domNode(o).next({ignoreBlankTexts:!0}))return!1;o=o.parentNode}return!!e.lang.array(t).contains(r.nodeName)&&r},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(e,t){function n(e,t,n){if(!e.className)return!1;var r=e.className.match(n)||[];return r[r.length-1]===t}function r(e,t){if(!e.getAttribute||!e.getAttribute("style"))return!1;e.getAttribute("style").match(t);return!!e.getAttribute("style").match(t)}function i(e,t,n){e.getAttribute("style")?(s(e,n),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function o(e,t,n){e.className?(a(e,n),e.className+=" "+t):e.className=t}function a(e,t){e.className&&(e.className=e.className.replace(t,""))}function s(e,t){var n,r=[];if(e.getAttribute("style")){n=e.getAttribute("style").split(";");for(var i=n.length;i--;)n[i].match(t)||/^\s*$/.test(n[i])||r.push(n[i]);r.length?e.setAttribute("style",r.join(";")):e.removeAttribute("style")}}function l(e,t){var n=[],r=t.split(";"),i=e.getAttribute("style");if(i){i=i.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var o=r.length;o-- >0;)/^\s*$/.test(r[o])||n.push(new RegExp("(^|\\s|;)"+r[o].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var a=0,s=n.length;a<s;a++)if(i.match(n[a]))return n[a]}return!1}function u(n,r,i,o){return i?l(n,i):o?e.dom.hasClass(n,o):t.dom.arrayContains(r,n.tagName.toLowerCase())}function c(e,t,n,r){for(var i=e.length;i--;)if(!u(e[i],t,n,r))return!1;return!!e.length}function f(e,t,n){var r=l(e,t);return r?(s(e,r),"remove"):(i(e,t,n),"change")}function h(e,t){return e.className.replace(b," ")==t.className.replace(b," ")}function d(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function p(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,r,i,o=0,a=e.attributes.length;o<a;++o)if(n=e.attributes[o],i=n.name,"class"!=i){if(r=t.attributes.getNamedItem(i),n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function m(e,n){return t.dom.isCharacterDataNode(e)?0==n?!!e.previousSibling:n!=e.length||!!e.nextSibling:n>0&&n<e.childNodes.length}function _(e,n,r,i){var o;if(t.dom.isCharacterDataNode(n)&&(0==r?(r=t.dom.getNodeIndex(n),n=n.parentNode):r==n.length?(r=t.dom.getNodeIndex(n)+1,n=n.parentNode):o=t.dom.splitDataNode(n,r)),!(o||i&&n===i)){o=n.cloneNode(!1),o.id&&o.removeAttribute("id");for(var a;a=n.childNodes[r];)o.appendChild(a);t.dom.insertAfter(o,n)}return n==e?o:_(e,o.parentNode,t.dom.getNodeIndex(o),i)}function g(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function v(e,t,n,r,i,o,a){this.tagNames=e||[y],this.cssClass=t||t!==!1&&"",this.similarClassRegExp=n,this.cssStyle=i||"",this.similarStyleRegExp=o,this.normalize=r,this.applyToAnyTagName=!1,this.container=a}var y="span",b=/\s+/g;g.prototype={doMerge:function(){for(var e,t,n,r=[],i=0,o=this.textNodes.length;i<o;++i)e=this.textNodes[i],t=e.parentNode,r[i]=e.data,i&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=r.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;t<n;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},
v.prototype={getAncestorWithClass:function(r){for(var i;r;){if(i=this.cssClass?n(r,this.cssClass,this.similarClassRegExp):""===this.cssStyle,r.nodeType==e.ELEMENT_NODE&&"false"!=r.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,r.tagName.toLowerCase())&&i)return r;r=r.parentNode}return!1},getAncestorWithStyle:function(n){for(var i;n;){if(i=!!this.cssStyle&&r(n,this.similarStyleRegExp),n.nodeType==e.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&i)return n;n=n.parentNode}return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),n=!1;return t?this.cssStyle&&(n="class"):(t=this.getAncestorWithStyle(e),t&&(n="style")),{element:t,type:n}},postApply:function(e,t){for(var n,r,i,o=e[0],a=e[e.length-1],s=[],l=o,u=a,c=0,f=a.length,h=0,d=e.length;h<d;++h)r=e[h],i=null,r&&r.parentNode&&(i=this.getAdjacentMergeableTextNode(r.parentNode,!1)),i?(n||(n=new g(i),s.push(n)),n.textNodes.push(r),r===o&&(l=n.firstTextNode,c=l.length),r===a&&(u=n.firstTextNode,f=n.getLength())):n=null;if(a&&a.parentNode){var p=this.getAdjacentMergeableTextNode(a.parentNode,!0);p&&(n||(n=new g(a),s.push(n)),n.textNodes.push(p))}if(s.length){for(h=0,d=s.length;h<d;++h)s[h].doMerge();t.setStart(l,c),t.setEnd(u,f)}},getAdjacentMergeableTextNode:function(t,n){var r,i=t.nodeType==e.TEXT_NODE,o=i?t.parentNode:t,a=n?"nextSibling":"previousSibling";if(i){if(r=t[a],r&&r.nodeType==e.TEXT_NODE)return r}else if(r=o[a],r&&this.areElementsMergeable(t,r))return r[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&h(e,n)&&p(e,n)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var n=e.parentNode;if(1==n.childNodes.length&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&o(n,this.cssClass,this.similarClassRegExp),this.cssStyle&&i(n,this.cssStyle,this.similarStyleRegExp);else{var r=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(r,e),r.appendChild(e)}},isRemovable:function(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===e.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===e.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(e,t,n,r){var i=!n,o=n||r,s=!1;if(!t.containsNode(o)){var l=t.cloneRange();l.selectNode(o),l.isPointInRange(t.endContainer,t.endOffset)&&m(t.endContainer,t.endOffset)&&(_(o,t.endContainer,t.endOffset,this.container),t.setEndAfter(o)),l.isPointInRange(t.startContainer,t.startOffset)&&m(t.startContainer,t.startOffset)&&(o=_(o,t.startContainer,t.startOffset,this.container))}!i&&this.similarClassRegExp&&a(o,this.similarClassRegExp),i&&this.similarStyleRegExp&&(s="change"===f(o,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(o)&&!s&&d(o)},applyToRange:function(t){for(var n,r=t.length;r--;){if(n=t[r].getNodes([e.TEXT_NODE]),!n.length)try{var i=this.createContainer(t[r].endContainer.ownerDocument);return t[r].surroundContents(i),void this.selectNode(t[r],i)}catch(o){}if(t[r].splitBoundaries(),n=t[r].getNodes([e.TEXT_NODE]),n.length){for(var a,s=0,l=n.length;s<l;++s)a=n[s],this.getMatchingAncestor(a).element||this.applyToTextNode(a);t[r].setStart(n[0],0),a=n[n.length-1],t[r].setEnd(a,a.length),this.normalize&&this.postApply(n,t[r])}}},undoToRange:function(t){for(var n,r,i,o=t.length;o--;){if(n=t[o].getNodes([e.TEXT_NODE]),n.length)t[o].splitBoundaries(),n=t[o].getNodes([e.TEXT_NODE]);else{var a=t[o].endContainer.ownerDocument,s=a.createTextNode(e.INVISIBLE_SPACE);t[o].insertNode(s),t[o].selectNode(s),n=[s]}for(var l=0,u=n.length;l<u;++l)t[o].isValid()&&(r=n[l],i=this.getMatchingAncestor(r),"style"===i.type?this.undoToTextNode(r,t[o],!1,i.element):i.element&&this.undoToTextNode(r,t[o],i.element));1==u?this.selectNode(t[o],n[0]):(t[o].setStart(n[0],0),r=n[n.length-1],t[o].setEnd(r,r.length),this.normalize&&this.postApply(n,t[o]))}},selectNode:function(t,n){var r=n.nodeType===e.ELEMENT_NODE,i=!("canHaveHTML"in n)||n.canHaveHTML,o=r?n.innerHTML:n.data,a=""===o||o===e.INVISIBLE_SPACE;if(a&&r&&i)try{n.innerHTML=e.INVISIBLE_SPACE}catch(s){}t.selectNodeContents(n),a&&r?t.collapse(!1):a&&(t.setStartAfter(n),t.setEndAfter(n))},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var r=n.intersection(t),i=r?r.toString():"";return n.detach(),i},isAppliedToRange:function(t){for(var n,r,i=[],o="full",a=t.length;a--;){if(r=t[a].getNodes([e.TEXT_NODE]),!r.length)return n=this.getMatchingAncestor(t[a].startContainer).element,!!n&&{elements:[n],coverage:o};for(var s,l=0,u=r.length;l<u;++l)s=this.getTextSelectedByRange(r[l],t[a]),n=this.getMatchingAncestor(r[l]).element,n&&""!=s?(i.push(n),1===e.dom.getTextNodes(n,!0).length?o="full":"full"===o&&(o="inline")):n||(o="partial")}return!!i.length&&{elements:i,coverage:o}},toggleRange:function(e){var t,n=this.isAppliedToRange(e);n?"full"===n.coverage?this.undoToRange(e):"inline"===n.coverage?(t=c(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(c(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},e.selection.HTMLApplier=v}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],r=wysihtml5.lang.array(arguments).get(),i=n&&n.exec,o=null;if(this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(e)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element)),this.editor.fire("beforecommand:composer"),i)r.unshift(this.composer),o=i.apply(n,r);else try{o=this.doc.execCommand(e,!1,t)}catch(a){}return this.editor.fire("aftercommand:composer"),o},state:function(e,t){var n=wysihtml5.commands[e],r=wysihtml5.lang.array(arguments).get(),i=n&&n.state;if(i)return r.unshift(this.composer),i.apply(n,r);try{return this.doc.queryCommandState(e)}catch(o){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),r=t&&t.stateValue;return!!r&&(n.unshift(this.composer),r.apply(t,n))}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(e){function t(t,n){var a,s,l,u,c,f,h,d,p,m=t.doc,_="_wysihtml5-temp-"+ +new Date,g=/non-matching-class/g,v=0;for(e.commands.formatInline.exec(t,r,i,_,g,r,r,!0,!0),s=m.querySelectorAll(i+"."+_),a=s.length;v<a;v++){l=s[v],l.removeAttribute("class");for(p in n)"text"!==p&&l.setAttribute(p,n[p])}f=l,1===a&&(h=o.getTextContent(l),u=!!l.querySelector("*"),c=""===h||h===e.INVISIBLE_SPACE,!u&&c&&(o.setTextContent(l,n.text||l.href),d=m.createTextNode(" "),t.selection.setAfter(l),o.insert(d).after(l),f=d)),t.selection.setAfter(f)}function n(e,t,n){for(var r,i=t.length;i--;){r=t[i].attributes;for(var o=r.length;o--;)t[i].removeAttribute(r.item(o).name);for(var a in n)n.hasOwnProperty(a)&&t[i].setAttribute(a,n[a])}}var r,i="A",o=e.dom;e.commands.createLink={exec:function(e,r,i){var o=this.state(e,r);o?e.selection.executeAndRestore(function(){n(e,o,i)}):(i="object"==typeof i?i:{href:i},t(e,i))},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){function t(e,t){for(var r,i,o,a=t.length,s=0;s<a;s++)r=t[s],i=n.getParentElement(r,{nodeName:"code"}),o=n.getTextContent(r),o.match(n.autoLink.URL_REG_EXP)&&!i?i=n.renameElement(r,"code"):n.replaceWithChildNodes(r)}var n=e.dom;e.commands.removeLink={exec:function(e,n){var r=this.state(e,n);r&&e.selection.executeAndRestore(function(){t(e,r)})},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){var t=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function(n,r,i){e.commands.formatInline.execWithToggle(n,r,"span","wysiwyg-font-size-"+i,t)},state:function(n,r,i){return e.commands.formatInline.state(n,r,"span","wysiwyg-font-size-"+i,t)}}}(wysihtml5),function(e){var t=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;e.commands.fontSizeStyle={exec:function(n,r,i){i="object"==typeof i?i.size:i,/^\s*$/.test(i)||e.commands.formatInline.execWithToggle(n,r,"span",!1,!1,"font-size:"+i,t)},state:function(n,r,i){return e.commands.formatInline.state(n,r,"span",!1,!1,"font-size",t)},stateValue:function(t,n){var r,i=this.state(t,n);return i&&e.lang.object(i).isArray()&&(i=i[0]),!(!i||!(r=i.getAttribute("style")))&&e.quirks.styleParser.parseFontSize(r)}}}(wysihtml5),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function(n,r,i){e.commands.formatInline.execWithToggle(n,r,"span","wysiwyg-color-"+i,t)},state:function(n,r,i){return e.commands.formatInline.state(n,r,"span","wysiwyg-color-"+i,t)}}}(wysihtml5),function(e){var t=/(\s|^)color\s*:\s*[^;\s]+;?/gi;e.commands.foreColorStyle={exec:function(n,r,i){var o,a=e.quirks.styleParser.parseColor("object"==typeof i?"color:"+i.color:"color:"+i,"color");a&&(o="color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,r,"span",!1,!1,o,t))},state:function(n,r){return e.commands.formatInline.state(n,r,"span",!1,!1,"color",t)},stateValue:function(t,n,r){var i,o=this.state(t,n);return o&&e.lang.object(o).isArray()&&(o=o[0]),!!(o&&(i=o.getAttribute("style"),i&&i))&&(val=e.quirks.styleParser.parseColor(i,"color"),e.quirks.styleParser.unparseColor(val,r))}}}(wysihtml5),function(e){var t=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;e.commands.bgColorStyle={exec:function(n,r,i){var o,a=e.quirks.styleParser.parseColor("object"==typeof i?"background-color:"+i.color:"background-color:"+i,"background-color");a&&(o="background-color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="background-color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,r,"span",!1,!1,o,t))},state:function(n,r){return e.commands.formatInline.state(n,r,"span",!1,!1,"background-color",t)},stateValue:function(t,n,r){var i,o=this.state(t,n),a=!1;return o&&e.lang.object(o).isArray()&&(o=o[0]),!(!o||!(i=o.getAttribute("style")))&&(a=e.quirks.styleParser.parseColor(i,"background-color"),e.quirks.styleParser.unparseColor(a,r))}}}(wysihtml5),function(e){function t(t,n,i){t.className?(r(t,i),t.className=e.lang.string(t.className+" "+n).trim()):t.className=n}function n(t,n,r){i(t,r),t.getAttribute("style")?t.setAttribute("style",e.lang.string(t.getAttribute("style")+" "+n).trim()):t.setAttribute("style",n)}function r(t,n){var r=n.test(t.className);return t.className=t.className.replace(n,""),""==e.lang.string(t.className).trim()&&t.removeAttribute("class"),r}function i(t,n){var r=n.test(t.getAttribute("style"));return t.setAttribute("style",(t.getAttribute("style")||"").replace(n,"")),""==e.lang.string(t.getAttribute("style")||"").trim()&&t.removeAttribute("style"),r}function o(e){var t=e.lastChild;t&&a(t)&&t.parentNode.removeChild(t)}function a(e){return"BR"===e.nodeName}function s(t,n){t.selection.isCollapsed()&&t.selection.selectLine();for(var r=t.selection.surround(n),i=0,a=r.length;i<a;i++)e.dom.lineBreaks(r[i]).remove(),o(r[i])}function l(t){return!!e.lang.string(t.className).trim()}function u(t){return!!e.lang.string(t.getAttribute("style")||"").trim()}var c=e.dom,f=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];e.commands.formatBlock={exec:function(o,a,h,d,p,m,_){var g,v,y,b,w,E=(o.doc,this.state(o,a,h,d,p,m,_)),T=o.config.useLineBreaks,C=T?"DIV":"P";return h="string"==typeof h?h.toUpperCase():h,E.length?void o.selection.executeAndRestoreRangy(function(){for(var t=E.length;t--;){if(p&&(v=r(E[t],p)),_&&(b=i(E[t],_)),(b||v)&&null===h&&E[t].nodeName!=C)return;var n=l(E[t]),o=u(E[t]);n||o||!T&&"P"!==h?c.renameElement(E[t],"P"===h?"DIV":C):(e.dom.lineBreaks(E[t]).add(),c.replaceWithChildNodes(E[t]))}}):void((null===h||e.lang.array(f).contains(h))&&(g=o.selection.findNodesInSelection(f).concat(o.selection.getSelectedOwnNodes()),o.selection.executeAndRestoreRangy(function(){for(var e=g.length;e--;)w=c.getParentElement(g[e],{nodeName:f}),w==o.element&&(w=null),w&&(h&&(w=c.renameElement(w,h)),d&&t(w,d,p),m&&n(w,m,_),y=!0)}),y)||s(o,{nodeName:h||C,className:d||null,cssStyle:m||null}))},state:function(t,n,r,i,o,a,s){var l,u=t.selection.getSelectedOwnNodes(),f=[];r="string"==typeof r?r.toUpperCase():r;for(var h=0,d=u.length;h<d;h++)l=c.getParentElement(u[h],{nodeName:r,className:i,classRegExp:o,cssStyle:a,styleRegExp:s}),l&&e.lang.array(f).indexOf(l)==-1&&f.push(l);return 0!=f.length&&f}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,n){var r,i,o,a=this.state(e);a?e.selection.executeAndRestore(function(){r=a.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(a),r&&wysihtml5.dom.replaceWithChildNodes(r)}):(i=e.selection.getRange(),o=i.extractContents(),a=e.doc.createElement("pre"),r=e.doc.createElement("code"),n&&(r.className=n),a.appendChild(r),r.appendChild(o),i.insertNode(a),e.selection.selectNode(a))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(e){function t(e){var t=r[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function n(n,r,o,a,s,l){var u=n;return r&&(u+=":"+r),a&&(u+=":"+a),i[u]||(i[u]=new e.selection.HTMLApplier(t(n),r,o,(!0),a,s,l)),i[u]}var r={strong:"b",em:"i",b:"strong",i:"em"},i={};e.commands.formatInline={exec:function(e,t,r,i,o,a,s,l,u){var c=e.selection.createRange(),f=e.selection.getOwnRanges();return!(!f||0==f.length)&&(e.selection.getSelection().removeAllRanges(),n(r,i,o,a,s,e.element).toggleRange(f),void(l?u||e.cleanUp():(c.setStart(f[0].startContainer,f[0].startOffset),c.setEnd(f[f.length-1].endContainer,f[f.length-1].endOffset),e.selection.setSelection(c),e.selection.executeAndRestore(function(){u||e.cleanUp()},!0,!0))))},execWithToggle:function(t,n,r,i,o,a,s){var l=this;if(this.state(t,n,r,i,o,a,s)&&t.selection.isCollapsed()&&!t.selection.caretIsLastInSelection()&&!t.selection.caretIsFirstInSelection()){var u=l.state(t,n,r,i,o)[0];t.selection.executeAndRestoreRangy(function(){u.parentNode;t.selection.selectNode(u,!0),e.commands.formatInline.exec(t,n,r,i,o,a,s,!0,!0)})}else this.state(t,n,r,i,o,a,s)&&!t.selection.isCollapsed()?t.selection.executeAndRestoreRangy(function(){e.commands.formatInline.exec(t,n,r,i,o,a,s,!0,!0)}):e.commands.formatInline.exec(t,n,r,i,o,a,s)},state:function(t,i,o,a,s,l,u){var c,f,h=t.doc,d=r[o]||o;return!(!e.dom.hasElementWithTagName(h,o)&&!e.dom.hasElementWithTagName(h,d))&&(!(a&&!e.dom.hasElementWithClassName(h,a))&&(c=t.selection.getOwnRanges(),!(!c||0===c.length)&&(f=n(o,a,s,l,u,t.element).isAppliedToRange(c),!(!f||!f.elements)&&f.elements)))}}}(wysihtml5),function(e){e.commands.insertBlockQuote={exec:function(t,n){var r=this.state(t,n),i=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore(function(){if(r)t.config.useLineBreaks&&e.dom.lineBreaks(r).add(),e.dom.unwrap(r);else if(t.selection.isCollapsed()&&t.selection.selectLine(),i){var n=i.ownerDocument.createElement("blockquote");e.dom.insert(n).after(i),n.appendChild(i)}else t.selection.surround({nodeName:"blockquote"})})},state:function(t,n){var r=t.selection.getSelectedNode(),i=e.dom.getParentElement(r,{nodeName:"BLOCKQUOTE"},!1,t.element);return!!i&&i}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function(n,r,i){i="object"==typeof i?i:{src:i};var o,a,s=n.doc,l=this.state(n);if(l)return n.selection.setBefore(l),a=l.parentNode,a.removeChild(l),e.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(n.selection.setAfter(a),a.parentNode.removeChild(a)),void e.quirks.redraw(n.element);l=s.createElement(t);for(var u in i)l.setAttribute("className"===u?"class":u,i[u]);n.selection.insertNode(l),e.browser.hasProblemsSettingCaretAfterImg()?(o=s.createTextNode(e.INVISIBLE_SPACE),n.selection.insertNode(o),n.selection.setAfter(o)):n.selection.setAfter(l)},state:function(n){var r,i,o,a=n.doc;return!!e.dom.hasElementWithTagName(a,t)&&(!!(r=n.selection.getSelectedNode())&&(r.nodeName===t?r:r.nodeType===e.ELEMENT_NODE&&(i=n.selection.getText(),!(i=e.lang.string(i).trim())&&(o=n.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1===o.length&&o[0]))))}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(n,r){n.commands.support(r)?(n.doc.execCommand(r,!1,null),e.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",t)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(e){var t=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var n=t.length;n--;)if(e.nodeName===t[n])return!0}return!1},n=function(n,r,i){var o={el:null,other:!1};if(n){var a=e.dom.getParentElement(n,{nodeName:"LI"}),s="UL"===r?"OL":"UL";t(n,r)?o.el=n:t(n,s)?o={el:n,other:!0}:a&&(t(a.parentNode,r)?o.el=a.parentNode:t(a.parentNode,s)&&(o={el:a.parentNode,other:!0}))}return o.el&&!i.element.contains(o.el)&&(o.el=null),o},r=function(t,n,r){var i,a="UL"===n?"OL":"UL";r.selection.executeAndRestore(function(){var s=o(a,r);if(s.length)for(var l=s.length;l--;)e.dom.renameElement(s[l],n.toLowerCase());else{i=o(["OL","UL"],r);for(var u=i.length;u--;)e.dom.resolveList(i[u],r.config.useLineBreaks);e.dom.resolveList(t,r.config.useLineBreaks)}})},i=function(t,n,r){var i="UL"===n?"OL":"UL";r.selection.executeAndRestore(function(){for(var a=[t].concat(o(i,r)),s=a.length;s--;)e.dom.renameElement(a[s],n.toLowerCase())})},o=function(e,n){for(var r=n.selection.getOwnRanges(),i=[],o=r.length;o--;)i=i.concat(r[o].getNodes([1],function(n){return t(n,e)}));return i},a=function(t,n){n.selection.executeAndRestoreRangy(function(){var r,i,o="_wysihtml5-temp-"+(new Date).getTime(),a=n.selection.deblockAndSurround({nodeName:"div",className:o});a.innerHTML=a.innerHTML.replace(e.INVISIBLE_SPACE_REG_EXP,""),a&&(r=e.lang.array(["","<br>",e.INVISIBLE_SPACE]).contains(a.innerHTML),i=e.dom.convertToList(a,t.toLowerCase(),n.parent.config.uneditableContainerClassname),r&&n.selection.selectNode(i.querySelector("li"),!0))})};return{exec:function(e,t,o){var s=e.doc,l="OL"===o?"insertOrderedList":"insertUnorderedList",u=e.selection.getSelectedNode(),c=n(u,o,e);c.el?c.other?i(c.el,o,e):r(c.el,o,e):e.commands.support(l)?s.execCommand(l,!1,null):a(o,e)},state:function(e,t,r){var i=e.selection.getSelectedNode(),o=n(i,r,e);return!(!o.el||o.other)&&o.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(e){var t="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(r,i){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function(r,i){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(r,i){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function(r,i){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(r,i){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function(r,i){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(r,i){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function(r,i){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignRightStyle={exec:function(r,i){return e.commands.formatBlock.exec(r,"formatBlock",null,null,null,t,n)},state:function(r,i){return e.commands.formatBlock.state(r,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignLeftStyle={exec:function(r,i){return e.commands.formatBlock.exec(r,"formatBlock",null,null,null,t,n)},state:function(r,i){return e.commands.formatBlock.state(r,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignCenterStyle={exec:function(r,i){return e.commands.formatBlock.exec(r,"formatBlock",null,null,null,t,n)},state:function(r,i){return e.commands.formatBlock.state(r,"formatBlock",null,null,null,t,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(e){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(e){return!1}},wysihtml5.commands.createTable={exec:function(e,t,n){var r,i,o;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(o=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",o+="<tbody>",i=0;i<n.rows;i++){for(o+="<tr>",r=0;r<n.cols;r++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</tbody></table>",e.commands.exec("insertHTML",o)}},state:function(e,t){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e,t){if(e.tableSelection){var n=e.tableSelection.start,r=e.tableSelection.end;if(n&&r&&n==r&&(wysihtml5.dom.getAttribute(n,"colspan")&&parseInt(wysihtml5.dom.getAttribute(n,"colspan"),10)>1||wysihtml5.dom.getAttribute(n,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(n,"rowspan"),10)>1))return[n]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var r=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(r.start,n):"after"!=n&&"below"!=n||wysihtml5.dom.table.addCells(r.end,n),setTimeout(function(){e.tableSelection.select(r.start,r.end)},0)}},state:function(e,t){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var r,i=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),o=wysihtml5.dom.table.indexOf(i.start),a=e.tableSelection.table;wysihtml5.dom.table.removeCells(i.start,n),setTimeout(function(){r=wysihtml5.dom.table.findCell(a,o),r||("row"==n&&(r=wysihtml5.dom.table.findCell(a,{row:o.row-1,col:o.col})),"column"==n&&(r=wysihtml5.dom.table.findCell(a,{row:o.row,col:o.col-1}))),r&&e.tableSelection.select(r,r)},0)}},state:function(e,t){return!1}},wysihtml5.commands.indentList={exec:function(e,t,n){var r=e.selection.getSelectionParentsByTag("LI");return!!r&&this.tryToPushLiLevel(r,e.selection)},state:function(e,t){return!1},tryToPushLiLevel:function(e,t){var n,r,i,o,a,s=!1;return t.executeAndRestoreRangy(function(){for(var t=e.length;t--;)o=e[t],n="OL"===o.parentNode.nodeName?"OL":"UL",r=o.ownerDocument.createElement(n),i=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),a=i?i.querySelector("ul, ol"):null,i&&(a?a.appendChild(o):(r.appendChild(o),i.appendChild(r)),s=!0)}),s}},wysihtml5.commands.outdentList={exec:function(e,t,n){var r=e.selection.getSelectionParentsByTag("LI");return!!r&&this.tryToPullLiLevel(r,e)},state:function(e,t){return!1},tryToPullLiLevel:function(e,t){var n,r,i,o,a,s=!1,l=this;return t.selection.executeAndRestoreRangy(function(){for(var u=e.length;u--;)if(o=e[u],o.parentNode&&(n=o.parentNode,"OL"===n.tagName||"UL"===n.tagName)){if(s=!0,r=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,t.element),i=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,t.element),r&&i)o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a)),r.insertBefore(o,i.nextSibling);else{o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a));for(var c=o.childNodes.length;c--;)n.parentNode.insertBefore(o.childNodes[c],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),o.parentNode.removeChild(o)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),s},getAfterList:function(e,t){for(var n=e.nodeName,r=document.createElement(n);t.nextSibling;)r.appendChild(t.nextSibling);return r}},function(e){var t=90,n=89,r=8,i=46,o=25,a="data-wysihtml5-selection-node",s="data-wysihtml5-selection-offset",l=('<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",'<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",e.dom);e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var e,o=this;this.composer.sandbox.getDocument();l.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var r=e.keyCode,i=r===t&&!e.shiftKey,a=r===t&&e.shiftKey||r===n;i?(o.undo(),e.preventDefault()):a&&(o.redo(),e.preventDefault())}}),l.observe(this.element,"keydown",function(t){var n=t.keyCode;n!==e&&(e=n,n!==r&&n!==i||o.transact())}),this.editor.on("newword:composer",function(){o.transact()}).on("beforecommand:composer",function(){o.transact()})},transact:function(){var t,n,r,i,l,u=this.historyStr[this.position-1],c=this.composer.getValue(!1,!1),f=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(c!==u){var h=this.historyStr.length=this.historyDom.length=this.position;h>o&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,f&&(t=this.composer.selection.getRange(),n=t&&t.startContainer?t.startContainer:this.element,r=t&&t.startOffset?t.startOffset:0,n.nodeType===e.ELEMENT_NODE?i=n:(i=n.parentNode,l=this.getChildNodeIndex(i,n)),i.setAttribute(s,r),"undefined"!=typeof l&&i.setAttribute(a,l));var d=this.element.cloneNode(!!c);this.historyDom.push(d),this.historyStr.push(c),i&&(i.removeAttribute(s),i.removeAttribute(a))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var t=0,n=e.childNodes,r=e.childNodes.length;t<r;t++)this.element.appendChild(n[t].cloneNode(!0));var i,o,l;e.hasAttribute(s)?(i=e.getAttribute(s),l=e.getAttribute(a),o=this.element):(o=this.element.querySelector("["+s+"]")||this.element,i=o.getAttribute(s),l=o.getAttribute(a),o.removeAttribute(s),o.removeAttribute(a)),null!==l&&(o=this.getChildNodeByIndex(o,+l)),this.composer.selection.set(o,i)},getChildNodeIndex:function(e,t){for(var n=0,r=e.childNodes,i=r.length;n<i;n++)if(r[n]===t)return n},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.on("beforeload",function(){e.parent.on("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,n=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t,n){var r=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t!==!1&&(r=this.parent.parse(r,n!==!1)),r},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(n){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=t.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;t&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new t.ContentEditableArea(function(){e._create()},{},this.editableArea):(this.sandbox=new t.ContentEditableArea(function(){e._create()}),this.editableArea=this.sandbox.getContentEditable(),t.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var n=this.textarea.element;t.insert(this.editableArea).after(n),this._createWysiwygFormField();
},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,t.insert(e).after(this.textarea.element)}},_create:function(){var r=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new e.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new e.Commands(this.parent),this.config.noTextarea||t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var i=this.config.name;i&&(t.addClass(this.element,i),this.config.contentEditableMode||t.addClass(this.editableArea,i)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var o="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");o&&t.simulatePlaceholder(this.parent,this,o),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){r.focus(!0)},100),n.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var r=this,i=n.canDisableAutoLinking(),o=n.doesAutoLinkingInContentEditable();if(i&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!o||o&&i)&&(this.parent.on("newword:composer",function(){if(t.getTextContent(r.element).match(t.autoLink.URL_REG_EXP)){for(var n=r.selection.getSelectedNode(),i=r.element.querySelectorAll("."+r.config.uneditableContainerClassname),o=!1,a=i.length;a--;)e.dom.contains(i[a],n)&&(o=!0);o||t.autoLink(n,[r.config.uneditableContainerClassname])}}),t.observe(this.element,"blur",function(){t.autoLink(r.element,[r.config.uneditableContainerClassname])}));var a=this.sandbox.getDocument().getElementsByTagName("a"),s=t.autoLink.URL_REG_EXP,l=function(n){var r=e.lang.string(t.getTextContent(n)).trim();return"www."===r.substr(0,4)&&(r="http://"+r),r};t.observe(this.element,"keydown",function(e){if(a.length){var n,i=r.selection.getSelectedNode(e.target.ownerDocument),o=t.getParentElement(i,{nodeName:"A"},4);o&&(n=l(o),setTimeout(function(){var e=l(o);e!==n&&e.match(s)&&o.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var r=["width","height"],i=r.length,o=this.element;t.observe(o,"resizeend",function(t){var n,a=t.target||t.srcElement,s=a.style,l=0;if("IMG"===a.nodeName){for(;l<i;l++)n=r[l],s[n]&&(a.setAttribute(n,parseInt(s[n],10)),s[n]="");e.quirks.redraw(o)}})}},_initUndoManager:function(){this.undoManager=new e.UndoManager(this.parent)},_initLineBreaking:function(){function r(e){var n=t.getParentElement(e,{nodeName:["P","DIV"]},2);n&&t.contains(i.element,n)&&i.selection.executeAndRestore(function(){i.config.useLineBreaks?t.replaceWithChildNodes(n):"P"!==n.nodeName&&t.renameElement(n,"p")})}var i=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],a=["UL","OL","MENU"];this.config.useLineBreaks||t.observe(this.element,["focus","keydown"],function(){if(i.isEmpty()){var e=i.doc.createElement("P");i.element.innerHTML="",i.element.appendChild(e),n.displaysCaretInEmptyContentEditableCorrectly()?i.selection.selectNode(e,!0):(e.innerHTML="<br>",i.selection.setBefore(e.firstChild))}}),t.observe(this.element,"keydown",function(n){var s=n.keyCode;if(!n.shiftKey&&(s===e.ENTER_KEY||s===e.BACKSPACE_KEY)){var l=t.getParentElement(i.selection.getSelectedNode(),{nodeName:o},4);return l?void setTimeout(function(){var n,o=i.selection.getSelectedNode();if("LI"===l.nodeName){if(!o)return;n=t.getParentElement(o,{nodeName:a},2),n||r(o)}s===e.ENTER_KEY&&l.nodeName.match(/^H[1-6]$/)&&r(o)},0):void(i.config.useLineBreaks&&s===e.ENTER_KEY&&!e.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),i.commands.exec("insertLineBreak")))}})}})}(wysihtml5),function(e){var t=e.dom,n=document,r=window,i=n.createElement("div"),o=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],s=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(e){if(e.setActive)try{e.setActive()}catch(i){}else{var o=e.style,a=n.documentElement.scrollTop||n.body.scrollTop,s=n.documentElement.scrollLeft||n.body.scrollLeft,l={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(l).on(e),r.scrollTo&&r.scrollTo(s,a)}};e.views.Composer.prototype.style=function(){var r,u=this,c=n.querySelector(":focus"),f=this.textarea.element,h=f.hasAttribute("placeholder"),d=h&&f.getAttribute("placeholder"),p=f.style.display,m=f.disabled;this.focusStylesHost=i.cloneNode(!1),this.blurStylesHost=i.cloneNode(!1),this.disabledStylesHost=i.cloneNode(!1),h&&f.removeAttribute("placeholder"),f===c&&f.blur(),f.disabled=!1,f.style.display=r="none",(f.getAttribute("rows")&&"auto"===t.getStyle("height").from(f)||f.getAttribute("cols")&&"auto"===t.getStyle("width").from(f))&&(f.style.display=r=p),t.copyStyles(a).from(f).to(this.editableArea).andTo(this.blurStylesHost),t.copyStyles(o).from(f).to(this.element).andTo(this.blurStylesHost),t.insertCSS(s).into(this.element.ownerDocument),f.disabled=!0,t.copyStyles(a).from(f).to(this.disabledStylesHost),t.copyStyles(o).from(f).to(this.disabledStylesHost),f.disabled=m,f.style.display=p,l(f),f.style.display=r,t.copyStyles(a).from(f).to(this.focusStylesHost),t.copyStyles(o).from(f).to(this.focusStylesHost),f.style.display=p,t.copyStyles(["display"]).from(f).to(this.editableArea);var _=e.lang.array(a).without(["display"]);return c?c.focus():f.blur(),h&&f.setAttribute("placeholder",d),this.parent.on("focus:composer",function(){t.copyStyles(_).from(u.focusStylesHost).to(u.editableArea),t.copyStyles(o).from(u.focusStylesHost).to(u.element)}),this.parent.on("blur:composer",function(){t.copyStyles(_).from(u.blurStylesHost).to(u.editableArea),t.copyStyles(o).from(u.blurStylesHost).to(u.element)}),this.parent.observe("disable:composer",function(){t.copyStyles(_).from(u.disabledStylesHost).to(u.editableArea),t.copyStyles(o).from(u.disabledStylesHost).to(u.element)}),this.parent.observe("enable:composer",function(){t.copyStyles(_).from(u.blurStylesHost).to(u.editableArea),t.copyStyles(o).from(u.blurStylesHost).to(u.element)}),this}}(wysihtml5),function(e){var t=e.dom,n=e.browser,r={66:"bold",73:"italic",85:"underline"},i=function(e,t,n){for(var r=0,i=t.length;r<i;r++)e.addEventListener(t[r],n,!1)},o=function(e,t,n){for(var r=0,i=t.length;r<i;r++)e.removeEventListener(t[r],n,!1)},a=function(e,t){var n=t.selection;t.element;if(n.isCollapsed())if(n.caretIsInTheBeginnig("LI"))e.preventDefault(),t.commands.exec("outdentList");else if(n.caretIsInTheBeginnig())e.preventDefault();else{if(n.caretIsFirstInSelection()&&n.getPreviousNode()&&n.getPreviousNode().nodeName&&/^H\d$/gi.test(n.getPreviousNode().nodeName)){var r=n.getPreviousNode();if(e.preventDefault(),/^\s*$/.test(r.textContent||r.innerText))r.parentNode.removeChild(r);else{var i=r.ownerDocument.createRange();i.selectNodeContents(r),i.collapse(!1),n.setSelection(i)}}var o=n.caretIsBeforeUneditable();if(o){e.preventDefault();try{var a=new CustomEvent("wysihtml5:uneditable:delete");o.dispatchEvent(a)}catch(s){}o.parentNode.removeChild(o)}}else n.containsUneditable()&&(e.preventDefault(),n.deleteContents())},s=function(e,t){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")},l=function(e){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval),this.parent.fire("destroy:composer")},u=function(e){this.parent.fire("beforeinteraction").fire("beforeinteraction:composer"),setTimeout(function(){this.parent.fire("interaction").fire("interaction:composer")}.bind(this),0)},c=function(e){this.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},f=function(e){if(this.focusState!==this.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),this.parent.fire("change",t).fire("change:composer",t)}this.parent.fire("blur",e).fire("blur:composer",e)},h=function(e){this.parent.fire(e.type,e).fire(e.type+":composer",e),"paste"===e.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},d=function(e){this.config.copyedFromMarking&&(e.clipboardData&&(e.clipboardData.setData("text/html",this.config.copyedFromMarking+this.selection.getHtml()),e.clipboardData.setData("text/plain",this.selection.getPlainText()),e.preventDefault()),this.parent.fire(e.type,e).fire(e.type+":composer",e))},p=function(t){var n=t.keyCode;n!==e.SPACE_KEY&&n!==e.ENTER_KEY||this.parent.fire("newword:composer")},m=function(t){if(!n.canSelectImagesInContentEditable()){var r=t.target,i=this.element.querySelectorAll("img"),o=this.element.querySelectorAll("."+this.config.uneditableContainerClassname+" img"),a=e.lang.array(i).without(o);"IMG"===r.nodeName&&e.lang.array(a).contains(r)&&this.selection.selectNode(r)}},_=function(e){var t,n={IMG:"Image: ",A:"Link: "},r=e.target,i=r.nodeName;"A"!==i&&"IMG"!==i||r.hasAttribute("title")||(t=n[i]+(r.getAttribute("href")||r.getAttribute("src")),r.setAttribute("title",t))},g=function(t){if(this.config.uneditableContainerClassname){var n=e.dom.getParentElement(t.target,{className:this.config.uneditableContainerClassname},!1,this.element);n&&this.selection.setAfter(n)}},v=function(e){n.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},y=function(t){var n,i,o=t.keyCode,l=r[o];(t.ctrlKey||t.metaKey)&&!t.altKey&&l&&(this.commands.exec(l),t.preventDefault()),o===e.BACKSPACE_KEY&&a(t,this),o!==e.BACKSPACE_KEY&&o!==e.DELETE_KEY||(n=this.selection.getSelectedNode(!0),n&&"IMG"===n.nodeName&&(t.preventDefault(),i=n.parentNode,i.removeChild(n),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){e.quirks.redraw(element)},0))),this.config.handleTabKey&&o===e.TAB_KEY&&(t.preventDefault(),s(this,element))},b=function(e){setTimeout(function(){this.doc.querySelector(":focus")!==this.element&&this.focus()}.bind(this),0)},w=function(e){setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},E=function(){var t=function(){this.doc.execCommand("enableObjectResizing",!1,"false"),this.doc.execCommand("enableInlineTableEditing",!1,"false")},n=function(){t.call(this),o(this.sandbox.getIframe(),["focus","mouseup","mouseover"],n)}.bind(this);this.doc.execCommand&&e.browser.supportsCommand(this.doc,"enableObjectResizing")&&e.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?i(this.sandbox.getIframe(),["focus","mouseup","mouseover"],n):setTimeout(function(){t.call(this)}.bind(this),0)),this.tableSelection=e.quirks.tableCellsSelection(this.element,this.parent)};e.views.Composer.prototype.observe=function(){var e=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),r=(this.element,n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow());this.focusState=this.getValue(!1,!1),e.addEventListener(["DOMNodeRemoved"],l.bind(this),!1),n.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){t.contains(document.documentElement,e)||l.call(this)},250)),this.config.handleTables&&E.call(this),i(r,["drop","paste","mouseup","focus","keyup"],u.bind(this)),r.addEventListener("focus",c.bind(this),!1),r.addEventListener("blur",f.bind(this),!1),i(this.element,["drop","paste","beforepaste"],h.bind(this),!1),this.element.addEventListener("copy",d.bind(this),!1),this.element.addEventListener("mousedown",m.bind(this),!1),this.element.addEventListener("mouseover",_.bind(this),!1),this.element.addEventListener("click",g.bind(this),!1),this.element.addEventListener("drop",v.bind(this),!1),this.element.addEventListener("keyup",p.bind(this),!1),this.element.addEventListener("keydown",y.bind(this),!1),this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(e.addEventListener("focus",b.bind(this),!1),e.addEventListener("blur",w.bind(this),!1))}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue(!1,!1)).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var n,r=this,i=this.textarea.element.form,o=function(){n=setInterval(function(){r.fromComposerToTextarea()},t)},a=function(){clearInterval(n),n=null};o(),i&&(e.dom.observe(i,"submit",function(){r.sync(!0)}),e.dom.observe(i,"reset",function(){setTimeout(function(){r.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||n?"textarea"===e&&(r.fromComposerToTextarea(!0),a()):(r.fromTextareaToComposer(!0),o())}),this.editor.on("destroy:composer",a)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e!==!1&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value,r=!n;return e&&r||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,n={focusin:"focus",focusout:"blur"},r=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.on("beforeload",function(){wysihtml5.dom.observe(e,r,function(e){var r=n[e.type]||e.type;t.fire(r).fire(r+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t,n={name:t,style:!0,toolbar:t,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},pasteParserRulesets:null,parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container",copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,r){if(this.editableElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(n).merge(r).get(),this._isCompatible=e.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new e.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var i=this;return void setTimeout(function(){i.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t,n){var r=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,i=this.config.parser(t,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:r,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof t&&e.quirks.redraw(t),i},_initParser:function(){var t,n=this;e.browser.supportsModenPaste()?this.on("paste:composer",function(r){r.preventDefault(),t=e.dom.getPastedHtml(r),t&&n._cleanAndPaste(t)}):this.on("beforepaste:composer",function(t){t.preventDefault(),e.dom.getPastedHtmlWithDiv(n.composer,function(e){e&&n._cleanAndPaste(e)})})},_cleanAndPaste:function(t){var n=e.quirks.cleanPastedHTML(t,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.uneditableContainerClassname});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(n)}})}(wysihtml5),function(e){var t=e.dom,n="wysihtml5-command-dialog-opened",r="input, select, textarea",i="[data-wysihtml5-dialog-field]",o="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var i=this,o=function(e){var t=i._serialize();t==i.elementToChange?i.fire("edit",t):i.fire("save",t),i.hide(),e.preventDefault(),e.stopPropagation()};t.observe(i.link,"click",function(){t.hasClass(i.link,n)&&setTimeout(function(){i.hide()},0)}),t.observe(this.container,"keydown",function(t){var n=t.keyCode;n===e.ENTER_KEY&&o(t),n===e.ESCAPE_KEY&&(i.fire("cancel"),i.hide())}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){i.fire("cancel"),i.hide(),e.preventDefault(),e.stopPropagation()});for(var a=this.container.querySelectorAll(r),s=0,l=a.length,u=function(){clearInterval(i.interval)};s<l;s++)t.observe(a[s],"change",u);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(i),n=t.length,r=0;r<n;r++)e[t[r].getAttribute(o)]=t[r].value;return e},_interpolate:function(e){for(var t,n,r,a=document.querySelector(":focus"),s=this.container.querySelectorAll(i),l=s.length,u=0;u<l;u++)t=s[u],t!==a&&(e&&"hidden"===t.type||(n=t.getAttribute(o),r=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":t.defaultValue,t.value=r))},show:function(e){if(!t.hasClass(this.link,n)){var i=this,o=this.container.querySelector(r);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){i._interpolate(!0)},500)),t.addClass(this.link,n),this.container.style.display="",this.fire("show"),o&&!e)try{o.focus()}catch(a){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,n={position:"relative"},r={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},i={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(a,s){var l=document.createElement("input");if(!e.browser.supportsSpeechApiOn(l))return void(s.style.display="none");var u=a.editor.textarea.element.getAttribute("lang");u&&(o.lang=u);var c=document.createElement("div");e.lang.object(r).merge({width:s.offsetWidth+"px",height:s.offsetHeight+"px"}),t.insert(l).into(c),t.insert(c).into(s),t.setStyles(i).on(l),t.setAttributes(o).on(l),t.setStyles(r).on(c),t.setStyles(n).on(s);var f="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,f,function(){a.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(s,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",r="wysihtml5-command-active",i="wysihtml5-action-active",o=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(o,a,s){this.editor=o,this.container="string"==typeof a?document.getElementById(a):a,this.composer=o.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),s&&this.show(),null!=o.config.classNameCommandDisabled&&(t=o.config.classNameCommandDisabled),null!=o.config.classNameCommandsDisabled&&(n=o.config.classNameCommandsDisabled),null!=o.config.classNameCommandActive&&(r=o.config.classNameCommandActive),null!=o.config.classNameActionActive&&(i=o.config.classNameActionActive);for(var l=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),u=l.length,c=0;c<u;c++)new e.toolbar.Speech(this,l[c])},_getLinks:function(t){for(var n,r,i,o,a,s=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=s.length,u=0,c=this[t+"Mapping"]={};u<l;u++)n=s[u],i=n.getAttribute("data-wysihtml5-"+t),o=n.getAttribute("data-wysihtml5-"+t+"-value"),r=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+i+"']"),a=this._getDialog(n,i),c[i+":"+o]={link:n,group:r,name:i,value:o,dialog:a,state:!1}},_getDialog:function(t,n){var r,i,o=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return a&&(r=e.toolbar["Dialog_"+n]?new e.toolbar["Dialog_"+n](t,a):new e.toolbar.Dialog(t,a),r.on("show",function(){i=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:n,dialogContainer:a,commandLink:t})}),r.on("save",function(e){i&&o.composer.selection.setBookmark(i),o._execCommand(n,e),o.editor.fire("save:dialog",{command:n,dialogContainer:a,commandLink:t})}),r.on("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:n,dialogContainer:a,commandLink:t})})),r},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var e=this,t=this.editor,r=this.container,i=this.commandLinks.concat(this.actionLinks),a=i.length,s=0;s<a;s++)"A"===i[s].nodeName?o.setAttributes({href:"javascript:;",unselectable:"on"}).on(i[s]):o.setAttributes({unselectable:"on"}).on(i[s]);o.delegate(r,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),o.delegate(r,"[data-wysihtml5-command]","click",function(t){var n=this,r=n.getAttribute("data-wysihtml5-command"),i=n.getAttribute("data-wysihtml5-command-value");e.execCommand(r,i),t.preventDefault()}),o.delegate(r,"[data-wysihtml5-action]","click",function(t){var n=this.getAttribute("data-wysihtml5-action");e.execAction(n),t.preventDefault()}),t.on("interaction:composer",function(){e._updateLinkStates()}),t.on("focus:composer",function(){e.bookmark=null}),this.editor.config.handleTables&&(t.on("tableselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),t.on("tableunselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),t.on("change_view",function(i){t.textarea&&setTimeout(function(){e.commandsDisabled="composer"!==i,e._updateLinkStates(),e.commandsDisabled?o.addClass(r,n):o.removeClass(r,n)},0)})},_updateLinkStates:function(){var n,a,s,l,u=this.commandMapping,c=this.actionMapping;for(n in u)l=u[n],this.commandsDisabled?(a=!1,o.removeClass(l.link,r),l.group&&o.removeClass(l.group,r),l.dialog&&l.dialog.hide()):(a=this.composer.commands.state(l.name,l.value),o.removeClass(l.link,t),l.group&&o.removeClass(l.group,t)),l.state!==a&&(l.state=a,a?(o.addClass(l.link,r),l.group&&o.addClass(l.group,r),l.dialog&&("object"==typeof a||e.lang.object(a).isArray()?(!l.dialog.multiselect&&e.lang.object(a).isArray()&&(a=1!==a.length||a[0],l.state=a),l.dialog.show(a)):l.dialog.hide())):(o.removeClass(l.link,r),l.group&&o.removeClass(l.group,r),l.dialog&&l.dialog.hide()));for(n in c)s=c[n],"change_view"===s.name&&(s.state=this.editor.currentView===this.editor.textarea,s.state?o.addClass(s.link,i):o.removeClass(s.link,i))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(e){var t=(e.dom,"[data-wysihtml5-dialog-field]"),n="data-wysihtml5-dialog-field";e.toolbar.Dialog_foreColorStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},r=this.container.querySelectorAll(t),i=r.length,o=0;o<i;o++)e[r[o].getAttribute(n)]=r[o].value;return e},_interpolate:function(r){for(var i,o=document.querySelector(":focus"),a=this.container.querySelectorAll(t),s=a.length,l=0,u=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,c=u?u.getAttribute("style"):null,f=c?e.quirks.styleParser.parseColor(c,"color"):null;l<s;l++)i=a[l],i!==o&&(r&&"hidden"===i.type||"color"===i.getAttribute(n)&&(f?f[3]&&1!=f[3]?i.value="rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+");":i.value="rgb("+f[0]+","+f[1]+","+f[2]+");":i.value="rgb(0,0,0);"))}})}(wysihtml5),function(e){e.dom;e.toolbar.Dialog_fontSizeStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(t){var n=document.querySelector(":focus"),r=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,o=i?i.getAttribute("style"):null,a=o?e.quirks.styleParser.parseFontSize(o):null;r&&r!==n&&a&&!/^\s*$/.test(a)&&(r.value=a)}})}(wysihtml5),null==window.__translations&&(window.__translations={loginDialogPrompt:"Bitte geben Sie Ihre Mein Klett-Benutzerdaten ein.",loginDialogPasswordLink:"https://www.klett.de/login",loginDialogLicenseLink:"https://www.klett.de/nutzerschluessel"}),function($global){"use strict";function $extend(e,t){function n(){}n.prototype=e;var r=new n;for(var i in t)r[i]=t[i];return t.toString!==Object.prototype.toString&&(r.toString=t.toString),r}function $iterator(e){return e instanceof Array?function(){return HxOverrides.iter(e)}:"function"==typeof e.iterator?$bind(e,e.iterator):e.iterator}function $bind(e,t){if(null==t)return null;null==t.__id__&&(t.__id__=$fid++);var n;return null==e.hx__closures__?e.hx__closures__={}:n=e.hx__closures__[t.__id__],null==n&&(n=function(){return n.method.apply(n.scope,arguments)},n.scope=e,n.method=t,e.hx__closures__[t.__id__]=n),n}var $estr=function(){return js_Boot.__string_rec(this,"")},HxOverrides=function(){};HxOverrides.__name__=!0,HxOverrides.cca=function(e,t){var n=e.charCodeAt(t);if(n==n)return n},HxOverrides.substr=function(e,t,n){if(null==n)n=e.length;else if(n<0){if(0!=t)return"";n=e.length+n}return e.substr(t,n)},HxOverrides.remove=function(e,t){var n=e.indexOf(t);return n!=-1&&(e.splice(n,1),!0)},HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Lambda=function(){};Lambda.__name__=!0,Lambda.has=function(e,t){for(var n=$iterator(e)();n.hasNext();){var r=n.next();if(r==t)return!0}return!1},Math.__name__=!0;var Reflect=function(){};Reflect.__name__=!0,Reflect.field=function(e,t){try{return e[t]}catch(n){return null}},Reflect.fields=function(e){var t=[];if(null!=e){var n=Object.prototype.hasOwnProperty;for(var r in e)"__id__"!=r&&"hx__closures__"!=r&&n.call(e,r)&&t.push(r)}return t},Reflect.isObject=function(e){if(null==e)return!1;var t=typeof e;return"string"==t||"object"==t&&null==e.__enum__||"function"==t&&null!=(e.__name__||e.__ename__)},Reflect.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)},Reflect.copy=function(e){for(var t={},n=0,r=Reflect.fields(e);n<r.length;){var i=r[n];++n,t[i]=Reflect.field(e,i)}return t},Reflect.makeVarArgs=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e(t)}};var Std=function(){};Std.__name__=!0,Std.string=function(e){return js_Boot.__string_rec(e,"")},Std.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=HxOverrides.cca(e,1)&&88!=HxOverrides.cca(e,1)||(t=parseInt(e)),
isNaN(t)?null:t};var StringBuf=function(){this.b=""};StringBuf.__name__=!0,StringBuf.prototype={b:null,__class__:StringBuf};var StringTools=function(){};StringTools.__name__=!0,StringTools.startsWith=function(e,t){return e.length>=t.length&&HxOverrides.substr(e,0,t.length)==t};var ValueType={__ename__:!0,__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};ValueType.TNull=["TNull",0],ValueType.TNull.toString=$estr,ValueType.TNull.__enum__=ValueType,ValueType.TInt=["TInt",1],ValueType.TInt.toString=$estr,ValueType.TInt.__enum__=ValueType,ValueType.TFloat=["TFloat",2],ValueType.TFloat.toString=$estr,ValueType.TFloat.__enum__=ValueType,ValueType.TBool=["TBool",3],ValueType.TBool.toString=$estr,ValueType.TBool.__enum__=ValueType,ValueType.TObject=["TObject",4],ValueType.TObject.toString=$estr,ValueType.TObject.__enum__=ValueType,ValueType.TFunction=["TFunction",5],ValueType.TFunction.toString=$estr,ValueType.TFunction.__enum__=ValueType,ValueType.TClass=function(e){var t=["TClass",6,e];return t.__enum__=ValueType,t.toString=$estr,t},ValueType.TEnum=function(e){var t=["TEnum",7,e];return t.__enum__=ValueType,t.toString=$estr,t},ValueType.TUnknown=["TUnknown",8],ValueType.TUnknown.toString=$estr,ValueType.TUnknown.__enum__=ValueType;var Type=function(){};Type.__name__=!0,Type.getInstanceFields=function(e){var t=[];for(var n in e.prototype)t.push(n);return HxOverrides.remove(t,"__class__"),HxOverrides.remove(t,"__properties__"),t},Type["typeof"]=function(e){var t=typeof e;switch(t){case"boolean":return ValueType.TBool;case"function":return e.__name__||e.__ename__?ValueType.TObject:ValueType.TFunction;case"number":return Math.ceil(e)==e%2147483648?ValueType.TInt:ValueType.TFloat;case"object":if(null==e)return ValueType.TNull;var n=e.__enum__;if(null!=n)return ValueType.TEnum(n);var r=js_Boot.getClass(e);return null!=r?ValueType.TClass(r):ValueType.TObject;case"string":return ValueType.TClass(String);case"undefined":return ValueType.TNull;default:return ValueType.TUnknown}};var api_EventEmitter=function(){};api_EventEmitter.__name__=!0,api_EventEmitter.prototype={addListener:null,on:null,once:null,removeListener:null,removeAllListeners:null,setMaxListeners:null,listeners:null,__class__:api_EventEmitter};var api_Runtime=function(){};api_Runtime.__name__=!0,api_Runtime.__interfaces__=[api_EventEmitter],api_Runtime.prototype={isFullscreen:null,isOnline:null,setFullscreen:null,isStandalone:null,isBookShelf:null,onClose:null,exit:null,storage:null,args:null,handleLink:null,getInstalledArchives:null,login:null,isLoggedIn:null,getUserSsoData:null,__class__:api_Runtime};var api_storage_DataStore=function(){};api_storage_DataStore.__name__=!0,api_storage_DataStore.__interfaces__=[api_EventEmitter],api_storage_DataStore.prototype={get:null,set:null,keys:null,__class__:api_storage_DataStore};var api_storage_Provider=function(){};api_storage_Provider.__name__=!0,api_storage_Provider.prototype={global:null,forProduct:null,__class__:api_storage_Provider};var api_storage_Storage=function(){};api_storage_Storage.__name__=!0,api_storage_Storage.prototype={dataStore:null,fs:null,__class__:api_storage_Storage};var browser_Boot=function(){};browser_Boot.__name__=!0,browser_Boot.main=function(){browser_Boot.boot()},browser_Boot.boot=function(){var e=window;return null==e.KlettRuntime&&(e.KlettRuntime=new browser_Runtime),e.KlettRuntime};var browser_EventEmitter=function(){var e=this;this.map=new util_Cache(function(e){return[]}),this.emit=Reflect.makeVarArgs(function(t){for(var n=0,r=t.shift(),i=e.listeners(r);n<i.length;){var o=i[n];++n,o.apply(null,t)}return e})};browser_EventEmitter.__name__=!0,browser_EventEmitter.prototype={map:null,addListener:function(e,t){return this.on(e,t)},on:function(e,t){return this.map.get(e).indexOf(t)==-1&&this.map.get(e).push(t),this},once:function(e,t){var n=this,r=null;return r=Reflect.makeVarArgs(function(i){var o=t.apply(null,i);return n.removeListener(e,r),o}),this.on(e,r),this},removeListener:function(e,t){return HxOverrides.remove(this.map.get(e),t),this},removeAllListeners:function(e){return null==e?this.map=new util_Cache(function(e){return[]}):this.map.get(e).splice(0,1e3),this},setMaxListeners:function(e){},listeners:function(e){return this.map.get(e).slice()},emit:null,__class__:browser_EventEmitter};var browser_Runtime=function(){var e=this;this.lazy_loginHandler=new tink_core__$Lazy_LazyFunc(function(){return new share_LoginHandler(window,e)}),this.lazy_onlineChecker=new tink_core__$Lazy_LazyFunc(function(){return new share_OnlineChecker(window)}),this.provider=new browser_storage_Provider,window.document.addEventListener("click",$bind(this,this.handleClick),!0),browser_EventEmitter.call(this)};browser_Runtime.__name__=!0,browser_Runtime.__interfaces__=[api_Runtime],browser_Runtime.__super__=browser_EventEmitter,browser_Runtime.prototype=$extend(browser_EventEmitter.prototype,{lazy_loginHandler:null,lazy_onlineChecker:null,provider:null,onlineChecker:null,loginHandler:null,isOnline:function(){return this.get_onlineChecker().isOnline},isFullscreen:function(){return null!=window.document.fullscreenElement||(null!=window.document.webkitCurrentFullScreenElement||null!=window.document.mozFullScreenElement)},setFullscreen:function(e){e?window.document.body.firstElementChild.requestFullscreen():window.document.exitFullscreen()},login:function(e,t){null==e&&(e=function(e){}),null==t&&(t=function(e){}),this.get_loginHandler().login().handle(function(n){switch(n[1]){case 0:var r=n[2];e(r);break;case 1:var i=n[2];t(i)}})},isLoggedIn:function(){return this.get_loginHandler().get_isLoggedIn()},getUserSsoData:function(){return this.get_loginHandler().getSsoData()},isStandalone:function(){return!1},isBookShelf:function(){return!1},onClose:function(e){return!1},exit:function(){window.close()},storage:function(){return this.provider},args:function(){return[]},getInstalledArchives:function(e){return[]},handleLink:function(e,t){return!1},handleClick:function(e){for(var t=e.target;null!=t;){if(t.matches("a[href]")){var n=t.getAttribute("href");return!(!this.isOnline()&&StringTools.startsWith(n,"http"))||(share_window_Notification.showNotification(window,"Das gewnschte Material steht nur Online zur Verfgung. Bitte stellen Sie eine Internetverbindung her."),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!0)}t=t.parentElement}return!0},get_onlineChecker:function(){return this.lazy_onlineChecker.get()},get_loginHandler:function(){return this.lazy_loginHandler.get()},__class__:browser_Runtime});var js_Browser=function(){};js_Browser.__name__=!0,js_Browser.getLocalStorage=function(){try{var e=window.localStorage;return e.getItem(""),e}catch(t){return null}};var browser_storage_DataStore=function(e){browser_EventEmitter.call(this),this.id=e};browser_storage_DataStore.__name__=!0,browser_storage_DataStore.__interfaces__=[api_storage_DataStore],browser_storage_DataStore.__super__=browser_EventEmitter,browser_storage_DataStore.prototype=$extend(browser_EventEmitter.prototype,{id:null,get:function(e,t){t(JSON.parse(Std.string(browser_storage_DataStore.storage.getItem(""+this.id+"/"+e))))},set:function(e,t,n){null==t?browser_storage_DataStore.storage.removeItem(""+this.id+"/"+e):browser_storage_DataStore.storage.setItem(""+this.id+"/"+e,JSON.stringify(t)),null!=n&&n()},keys:function(e){for(var t=[],n=0,r=browser_storage_DataStore.storage.length;n<r;){var i=n++,o=browser_storage_DataStore.storage.key(i),a=o;StringTools.startsWith(a,""+this.id+"/")&&t.push(HxOverrides.substr(a,(""+this.id+"/").length,null))}e(t)},__class__:browser_storage_DataStore});var browser_storage_Provider=function(){this.cache=new util_Cache(function(e){return new browser_storage_Storage(e)})};browser_storage_Provider.__name__=!0,browser_storage_Provider.__interfaces__=[api_storage_Provider],browser_storage_Provider.prototype={cache:null,global:function(){return this.cache.get("global")},forProduct:function(e){return this.cache.get("product_"+e)},__class__:browser_storage_Provider};var browser_storage_Storage=function(e){this.product=e,this.dataStores=new util_Cache(function(e){return new browser_storage_DataStore(e)})};browser_storage_Storage.__name__=!0,browser_storage_Storage.__interfaces__=[api_storage_Storage],browser_storage_Storage.prototype={product:null,dataStores:null,dataStore:function(e){return this.dataStores.get(""+this.product+"/"+e)},fs:function(e){return null},__class__:browser_storage_Storage};var haxe_StackItem={__ename__:!0,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};haxe_StackItem.CFunction=["CFunction",0],haxe_StackItem.CFunction.toString=$estr,haxe_StackItem.CFunction.__enum__=haxe_StackItem,haxe_StackItem.Module=function(e){var t=["Module",1,e];return t.__enum__=haxe_StackItem,t.toString=$estr,t},haxe_StackItem.FilePos=function(e,t,n){var r=["FilePos",2,e,t,n];return r.__enum__=haxe_StackItem,r.toString=$estr,r},haxe_StackItem.Method=function(e,t){var n=["Method",3,e,t];return n.__enum__=haxe_StackItem,n.toString=$estr,n},haxe_StackItem.LocalFunction=function(e){var t=["LocalFunction",4,e];return t.__enum__=haxe_StackItem,t.toString=$estr,t};var haxe_CallStack=function(){};haxe_CallStack.__name__=!0,haxe_CallStack.toString=function(e){for(var t=new StringBuf,n=0;n<e.length;){var r=e[n];++n,t.b+="\nCalled from ",haxe_CallStack.itemToString(t,r)}return t.b},haxe_CallStack.itemToString=function(e,t){switch(t[1]){case 0:e.b+="a C function";break;case 1:var n=t[2];e.b+="module ",e.b+=null==n?"null":""+n;break;case 2:var r=t[4],i=t[3],o=t[2];null!=o&&(haxe_CallStack.itemToString(e,o),e.b+=" ("),e.b+=null==i?"null":""+i,e.b+=" line ",e.b+=null==r?"null":""+r,null!=o&&(e.b+=")");break;case 3:var a=t[3],s=t[2];e.b+=null==s?"null":""+s,e.b+=".",e.b+=null==a?"null":""+a;break;case 4:var l=t[2];e.b+="local function #",e.b+=null==l?"null":""+l}};var haxe_IMap=function(){};haxe_IMap.__name__=!0,haxe_IMap.prototype={get:null,set:null,__class__:haxe_IMap};var haxe_Timer=function(e){var t=this;this.id=setInterval(function(){t.run()},e)};haxe_Timer.__name__=!0,haxe_Timer.delay=function(e,t){var n=new haxe_Timer(t);return n.run=function(){n.stop(),e()},n},haxe_Timer.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:haxe_Timer};var haxe_ds_Either={__ename__:!0,__constructs__:["Left","Right"]};haxe_ds_Either.Left=function(e){var t=["Left",0,e];return t.__enum__=haxe_ds_Either,t.toString=$estr,t},haxe_ds_Either.Right=function(e){var t=["Right",1,e];return t.__enum__=haxe_ds_Either,t.toString=$estr,t};var haxe_ds_ObjectMap=function(){this.h={__keys__:{}}};haxe_ds_ObjectMap.__name__=!0,haxe_ds_ObjectMap.__interfaces__=[haxe_IMap],haxe_ds_ObjectMap.prototype={h:null,set:function(e,t){var n=e.__id__||(e.__id__=++haxe_ds_ObjectMap.count);this.h[n]=t,this.h.__keys__[n]=e},get:function(e){return this.h[e.__id__]},__class__:haxe_ds_ObjectMap};var haxe_ds_Option={__ename__:!0,__constructs__:["Some","None"]};haxe_ds_Option.Some=function(e){var t=["Some",0,e];return t.__enum__=haxe_ds_Option,t.toString=$estr,t},haxe_ds_Option.None=["None",1],haxe_ds_Option.None.toString=$estr,haxe_ds_Option.None.__enum__=haxe_ds_Option;var haxe_ds_StringMap=function(){this.h={}};haxe_ds_StringMap.__name__=!0,haxe_ds_StringMap.__interfaces__=[haxe_IMap],haxe_ds_StringMap.prototype={h:null,rh:null,set:function(e,t){null!=__map_reserved[e]?this.setReserved(e,t):this.h[e]=t},get:function(e){return null!=__map_reserved[e]?this.getReserved(e):this.h[e]},setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},existsReserved:function(e){return null!=this.rh&&this.rh.hasOwnProperty("$"+e)},keys:function(){return HxOverrides.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(t);if(null!=this.rh)for(var t in this.rh)36==t.charCodeAt(0)&&e.push(t.substr(1));return e},__class__:haxe_ds_StringMap};var js__$Boot_HaxeError=function(e){Error.call(this),this.val=e,this.message=String(e),Error.captureStackTrace&&Error.captureStackTrace(this,js__$Boot_HaxeError)};js__$Boot_HaxeError.__name__=!0,js__$Boot_HaxeError.wrap=function(e){return e instanceof Error?e:new js__$Boot_HaxeError(e)},js__$Boot_HaxeError.__super__=Error,js__$Boot_HaxeError.prototype=$extend(Error.prototype,{val:null,__class__:js__$Boot_HaxeError});var js_Boot=function(){};js_Boot.__name__=!0,js_Boot.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;if(null!=t)return t;var n=js_Boot.__nativeClassName(e);return null!=n?js_Boot.__resolveNativeClass(n):null},js_Boot.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var n=typeof e;switch("function"==n&&(e.__name__||e.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var r=e[0]+"(";t+="\t";for(var i=2,o=e.length;i<o;){var a=i++;r+=2!=a?","+js_Boot.__string_rec(e[a],t):js_Boot.__string_rec(e[a],t)}return r+")"}var s=e.length,l="[";t+="\t";for(var u=0,c=s;u<c;){var f=u++;l+=(f>0?",":"")+js_Boot.__string_rec(e[f],t)}return l+="]"}var h;try{h=e.toString}catch(d){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){var p=e.toString();if("[object Object]"!=p)return p}var m=null,_="{\n";t+="\t";var g=null!=e.hasOwnProperty;for(var m in e)g&&!e.hasOwnProperty(m)||"prototype"!=m&&"__class__"!=m&&"__super__"!=m&&"__interfaces__"!=m&&"__properties__"!=m&&(2!=_.length&&(_+=", \n"),_+=t+m+" : "+js_Boot.__string_rec(e[m],t));return t=t.substring(1),_+="\n"+t+"}";case"string":return e;default:return String(e)}},js_Boot.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var n=e.__interfaces__;if(null!=n)for(var r=0,i=n.length;r<i;){var o=r++,a=n[o];if(a==t||js_Boot.__interfLoop(a,t))return!0}return js_Boot.__interfLoop(e.__super__,t)},js_Boot.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array&&null==e.__enum__;case Bool:return"boolean"==typeof e;case Dynamic:return!0;case Float:return"number"==typeof e;case Int:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(js_Boot.__interfLoop(js_Boot.getClass(e),t))return!0}else if("object"==typeof t&&js_Boot.__isNativeObj(t)&&e instanceof t)return!0;return t==Class&&null!=e.__name__||(t==Enum&&null!=e.__ename__||e.__enum__==t)}},js_Boot.__nativeClassName=function(e){var t=js_Boot.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},js_Boot.__isNativeObj=function(e){return null!=js_Boot.__nativeClassName(e)},js_Boot.__resolveNativeClass=function(e){return $global[e]};var nw__$NwGui_NwEvent_$Impl_$={};nw__$NwGui_NwEvent_$Impl_$.__name__=!0,nw__$NwGui_NwEvent_$Impl_$._new=function(e){var t=e;return t};var share_LoginHandler=function(e,t){this.rememberLogin=!1,this.intErrorCode=0,this.window=null,this.runtime=null,this.endpointParameter={userSSO:"",userId:""},this.window=e,this.runtime=t;var n,r=e.pagr;try{n=r.settings.annotations}catch(i){n=null}this.annotationSettings=n;var o;try{o=r.settings.userInfo.loginToken}catch(a){o=null}this.loginToken=o;var s=r.settings.productInfo;this.storage=t.storage().forProduct(s.productForm+"_"+s.productNumber)};share_LoginHandler.__name__=!0,share_LoginHandler.WRONG_LOGIN=function(e){return Lambda.has([118,202,203,207,208,209,210,211,212,213,214,215,216,217],e)},share_LoginHandler.SETUP_ERROR=function(e){return Lambda.has([100,110,111,112,113,114,115,116,117,200,201,204,205,206],e)},share_LoginHandler.WRONG_LICENSE=function(e){return Lambda.has([203,209,210],e)},share_LoginHandler.prototype={runtime:null,window:null,annotationSettings:null,intErrorCode:null,loginToken:null,storage:null,endpointParameter:null,loginParameter:null,isLoggedIn:null,rememberLogin:null,loginSurprise:null,login:function(e){null==e&&(e=!1);var t=this;this.loginSurprise=new tink_core_FutureTrigger;var n=this.loginSurprise;return this.promptLogin(e).handle(function(e){if(0==e[1]){var r=t.loginParameter;util_Helper.mergeInto(r,t.annotationSettings.sync.server.baseParameter),t.doLoginRequest(r).handle(function(e){switch(e[1]){case 0:var r=e[2];t.endpointParameter.userSSO=r.userSSO,t.endpointParameter.userId=r.userId,t.saveLoginData(),n.trigger(tink_core_Outcome.Success(t.endpointParameter));break;case 1:var i=e[2];t.handleLoginFailure(i);n.trigger(tink_core_Outcome.Failure(i)),t.loginSurprise=null}})}else n.trigger(tink_core_Outcome.Failure({code:"0",message:"Canceled"}))}),n},getSsoData:function(){return this.endpointParameter},promptLogin:function(e){null==e&&(e=!1);var t=this,n=this.loginToken;if(null!=n&&""!=n){var r=n;return this.loginParameter={loginToken:r},new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(tink_core_Outcome.Success(!0)))}var i=new tink_core_FutureTrigger;return this.storage.dataStore("settings").get("loginData",function(n){if(null==n)share_window_Login.showLogin(t.window,share_LoginHandler.WRONG_LICENSE(t.intErrorCode),e).handle(function(e){switch(e[1]){case 0:var n=e[2];t.rememberLogin=n.rememberLogin,Reflect.deleteField(n,"rememberLogin"),t.loginParameter=n,i.trigger(tink_core_Outcome.Success(!0));break;case 1:i.trigger(tink_core_Outcome.Failure(!1))}});else{var r=n.userPassword,o=n.userLoginName;null!=o&&null!=r&&""!=o&&""!=r?(t.loginParameter=n,t.rememberLogin=!0,i.trigger(tink_core_Outcome.Success(!0))):share_window_Login.showLogin(t.window,share_LoginHandler.WRONG_LICENSE(t.intErrorCode),e).handle(function(e){switch(e[1]){case 0:var n=e[2];t.rememberLogin=n.rememberLogin,Reflect.deleteField(n,"rememberLogin"),t.loginParameter=n,i.trigger(tink_core_Outcome.Success(!0));break;case 1:i.trigger(tink_core_Outcome.Failure(!1))}})}}),i},handleLoginFailure:function(e){var t=this,n=share_LoginHandler.WRONG_LOGIN(this.intErrorCode)?share_window_Notification.showNotification(this.window,e.message):share_window_Notification.showNotification(this.window,"Ein Verbindungsproblem ist aufgetreten. Ihre Notizen und Anmerkungen werden offline gespeichert. Sie werden zu einem spteren Zeitpunkt synchronisiert.",null,{details:share_window_Notification.annoError(e,this.annotationSettings.sync.supportEmail)});if(0==this.intErrorCode)return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(tink_core_Outcome.Failure(!1)));var r=new tink_core_FutureTrigger,i=null!=this.loginToken&&""!=this.loginToken;return n.handle(tink_core__$Callback_Callback_$Impl_$.fromNiladic(function(){i?(share_LoginHandler.WRONG_LOGIN(t.intErrorCode)?t.window.location.reload():share_LoginHandler.SETUP_ERROR(t.intErrorCode)&&(t.window.location.href=t.annotationSettings.sync.redirectUrl),r.trigger(tink_core_Outcome.Failure(!1))):(share_LoginHandler.SETUP_ERROR(t.intErrorCode)&&r.trigger(tink_core_Outcome.Failure(!1)),share_LoginHandler.WRONG_LOGIN(t.intErrorCode)&&(t.purgeLogin(),r.trigger(tink_core_Outcome.Success(!0))))})),r},purgeLogin:function(){this.loginParameter={},this.saveLoginData()},doLoginRequest:function(e){var t=this,n=new this.window.XMLHttpRequest,r=new tink_core_FutureTrigger,i=function(e,n){return e=null==e?"null":""+e,t.intErrorCode=Std.parseInt(e),tink_core_Outcome.Failure({code:e,message:n})};if(n.onload=function(e){var t;try{var o=JSON.parse(n.responseText),a="error"!=o.responseMessage;switch(a){case!1:t=i(o.messageCode,o.errorMessage);break;case!0:t=tink_core_Outcome.Success(o)}}catch(s){t=i(n.status,n.statusText)}r.trigger(t)},n.onerror=function(e){var t=i(e.target.status,e.target.statusText);r.trigger(t)},n.open("POST",Std.string(this.annotationSettings.sync.server.baseUrl)+"login"),this.annotationSettings.sync.server.httpAuth.enabled){var o=n,a="Basic "+this.window.btoa(Std.string(this.annotationSettings.sync.server.httpAuth.user)+":"+Std.string(this.annotationSettings.sync.server.httpAuth.password));o.setRequestHeader("Authorization",a)}return n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e)),r},saveLoginData:function(){var e=this,t=this.rememberLogin?this.loginParameter:null;this.storage.dataStore("settings").set("loginData",t,function(){e.window.pagr&&e.window.pagr.setSetting("rememberLogin",{overwritable:!0,enabled:e.rememberLogin&&null!=e.loginParameter.userLoginName&&null!=e.loginParameter.userPassword&&""!=e.loginParameter.userLoginName&&""!=e.loginParameter.userPassword!=null})})},get_isLoggedIn:function(){return""!=this.endpointParameter.userSSO},__class__:share_LoginHandler};var share_OnlineChecker=function(e){this.isOnline=!0,this.window=null;var t=this;this.window=e,e.document.addEventListener("DOMContentLoaded",function(n){e.setTimeout(function(n){var r=e.pagr;try{r.settings.onlineCheck.enabled&&t.onlineCheck(r.settings.onlineCheck)}catch(i){i instanceof js__$Boot_HaxeError&&(i=i.val),e.console.log(i)}},10)})};share_OnlineChecker.__name__=!0,share_OnlineChecker.prototype={window:null,isOnline:null,onlineCheck:function(e){var t=this,n=e.url,r=1e3*e.interval,i=function(){return t.isOnline=!1,t.window.setTimeout(function(){t.onlineCheck(e)},r)};if(!this.window.navigator.onLine)return void i();var o=new this.window.XMLHttpRequest;o.onload=function(){return t.isOnline=!0,t.window.setTimeout(function(){t.onlineCheck(e)},r)},o.onerror=i,o.ontimeout=i,o.timeout=2e3;var a=n+"?c="+Math.random();o.open("HEAD",a),o.send()},__class__:share_OnlineChecker};var tink_template__$Html_Html_$Impl_$={};tink_template__$Html_Html_$Impl_$.__name__=!0,tink_template__$Html_Html_$Impl_$._new=function(e){var t=e;return t},tink_template__$Html_Html_$Impl_$.escape=function(e){if(null==e)return null;e=null==e?"null":""+e;for(var t=0,n=0,r=e.length,i="";n<r;){var o=e.charAt(n++);switch(o){case'"':var a=t;t=n,i+=e.substring(a,t-1)+"&quot;";break;case"&":var s=t;t=n,i+=e.substring(s,t-1)+"&amp;";break;case"<":var l=t;t=n,i+=e.substring(l,t-1)+"&lt;";break;case">":var u=t;t=n,i+=e.substring(u,t-1)+"&gt;"}}var c=i+=HxOverrides.substr(e,t,null);return c},tink_template__$Html_Html_$Impl_$.toString=function(e){return e},tink_template__$Html_Html_$Impl_$.ofMultiple=function(e){var t=e.join("");return t},tink_template__$Html_Html_$Impl_$.of=function(e){return tink_template__$Html_Html_$Impl_$.escape(Std.string(e))},tink_template__$Html_Html_$Impl_$.buffer=function(){var e={s:""};return e};var share_window_Injector=function(){};share_window_Injector.__name__=!0,share_window_Injector.createContainer=function(){null!=share_window_Injector.win&&null==share_window_Injector.container&&(share_window_Injector.container=util_Dom.getElement(share_window_Injector.render()),share_window_Injector.win.document.body.appendChild(share_window_Injector.container))},share_window_Injector.injectWinSources=function(e,t){share_window_Injector.win=e,share_window_Injector.createContainer(),share_window_Injector.container.appendChild(t)},share_window_Injector.render=function(){var e=tink_template__$Html_Html_$Impl_$.buffer(),t='\r\n  <div class="inc-windows">\r\n  ';e.s+=t,e.s+=share_window_Injector.STYLE;var n="\r\n  </div>\r\n";e.s+=n;var r=e.s;return r};var share_window_Login=function(){};share_window_Login.__name__=!0,share_window_Login.renderWin=function(e){var t=util_Dom.getElement(share_window_Login.render(e.__translations));share_window_Injector.injectWinSources(e,t),share_window_Login.windowEl=util_Dom.query(".window.login",t)[0],share_window_Login.loginButton=util_Dom.query('[type="submit"]',t)[0],share_window_Login.cancelButton=util_Dom.query('[type="reset"]',t)[0],share_window_Login.userLoginNameField=util_Dom.query('input[name="userLoginName"]',t)[0],share_window_Login.userPasswordField=util_Dom.query('input[name="userPassword"]',t)[0],share_window_Login.licenseCodeField=util_Dom.query('input[name="licenseCode"]',t)[0],share_window_Login.licenseCodeWrapper=share_window_Login.licenseCodeField.parentElement,share_window_Login.toggler=util_Dom.query("#inc-login-win",t)[0],share_window_Login.rememberLogin=util_Dom.query('input[name="remember"]',t)[0]},share_window_Login.showLogin=function(e,t,n){null==n&&(n=!1),null==t&&(t=!1),null==share_window_Login.windowEl&&share_window_Login.renderWin(e),share_window_Login.licenseCodeWrapper.classList.toggle("hidden",!t),n||(share_window_Login.userLoginNameField.value="",share_window_Login.userPasswordField.value="",share_window_Login.licenseCodeField.value="",share_window_Login.rememberLogin.checked=!1),null!=share_window_Login.togglerCbLink&&share_window_Login.togglerCbLink.dissolve(),share_window_Login.toggler.checked=!0,share_window_Login.userLoginNameField.focus();for(var r=new tink_core_FutureTrigger,i=0,o=[share_window_Login.loginButton,share_window_Login.cancelButton];i<o.length;){var a=[o[i]];++i,util_Dom.once(a[0],"click",tink_core__$Callback_Callback_$Impl_$.fromNiladic(function(e){return function(){var t=e[0]==share_window_Login.loginButton;switch(t){case!1:r.trigger(tink_core_Outcome.Failure(!1)),share_window_Login.toggler.checked=!1;break;case!0:""==share_window_Login.userLoginNameField.value||""==share_window_Login.userPasswordField.value?r.trigger(tink_core_Outcome.Failure(!1)):r.trigger(tink_core_Outcome.Success({userLoginName:share_window_Login.userLoginNameField.value,userPassword:share_window_Login.userPasswordField.value,licenseCode:share_window_Login.licenseCodeField.value,rememberLogin:share_window_Login.rememberLogin.checked})),share_window_Login.toggler.checked=!1}}}(a)))}return util_Dom.once(share_window_Login.toggler,"change",function(e){return r.trigger(tink_core_Outcome.Failure(!1))}),r},share_window_Login.checkbox=function(e,t){var n=tink_template__$Html_Html_$Impl_$.buffer(),r='\r\n    <div class="checkbox field push-150">\r\n      <input id="';n.s+=r,n.s+=e;var i='" name="';n.s+=i,n.s+=e;var o='" type="checkbox">\r\n      <label for="';n.s+=o,n.s+=e;var a='">';n.s+=a,n.s+=t;var s="</label>\r\n    </div>\r\n";n.s+=s;var l=n.s;return l},share_window_Login.textfield=function(e,t,n,r){null==n&&(n="text");var i=tink_template__$Html_Html_$Impl_$.buffer(),o='\r\n  <div class="textfield field">\r\n    <label for="';i.s+=o,i.s+=e;var a='">';i.s+=a,i.s+=t;var s=':</label>\r\n    <input id="';i.s+=s,i.s+=e;var l='" name="';i.s+=l,i.s+=e;var u='" type="';i.s+=u;var c=tink_template__$Html_Html_$Impl_$.escape(n);i.s+=c;var f='">\r\n    ';if(i.s+=f,null!=r){var h="\r\n      <span>";i.s+=h,i.s+=r;var d="</span>\r\n    ";i.s+=d}var p="</div>\r\n";i.s+=p;var m=i.s;return m},share_window_Login.getContent=function(e){var t=tink_template__$Html_Html_$Impl_$.buffer(),n='\r\n\r\n  <p class="field">';t.s+=n,t.s+=e.loginDialogPrompt;var r="</p>\r\n  ";t.s+=r;var i=share_window_Login.textfield(tink_template__$Html_Html_$Impl_$.escape("userLoginName"),tink_template__$Html_Html_$Impl_$.escape("Benutzername"));t.s+=i;var o="\r\n  ";t.s+=o;var a=tink_template__$Html_Html_$Impl_$.escape("userPassword"),s=tink_template__$Html_Html_$Impl_$.escape("Passwort"),l='<a target="_blank" href="'+e.loginDialogPasswordLink+'"><i class="fa fa-angle-right"></i> Passwort vergessen?</a>',u=share_window_Login.textfield(a,s,"password",l);t.s+=u;var c="\r\n  ";t.s+=c;var f=tink_template__$Html_Html_$Impl_$.escape("licenseCode"),h=tink_template__$Html_Html_$Impl_$.escape("Nutzer-Schlssel"),d='<a target="_blank" href="'+e.loginDialogLicenseLink+'"><i class="fa fa-angle-right"></i> Nutzerschlssel vergessen?</a>',p=share_window_Login.textfield(f,h,"text",d);t.s+=p;var m="\r\n  ";t.s+=m;var _=share_window_Login.checkbox(tink_template__$Html_Html_$Impl_$.escape("remember"),tink_template__$Html_Html_$Impl_$.escape("Benutzername/Passwort merken?"));t.s+=_;var g='\r\n  <p class="field">\r\n    <input type="submit" value="OK">\r\n    <input type="reset" value="Abbrechen">\r\n  </p>\r\n';t.s+=g;var v=t.s;return v},share_window_Login.render=function(e){var t=tink_template__$Html_Html_$Impl_$.buffer(),n='\r\n  <div>\r\n    <input id="inc-login-win" type="checkbox" class="hidden toggler">\r\n    <div class="window login">\r\n      <div class="view">\r\n        <div class="title">\r\n          <label class="dua-close" for="inc-login-win"></label>\r\n          <p>Anmeldung</p>\r\n        </div>\r\n        <div class="content">\r\n        ';t.s+=n;var r=share_window_Login.getContent(e);t.s+=r;var i="\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n";t.s+=i;var o=t.s;return o};var share_window_Notification=function(){};share_window_Notification.__name__=!0,share_window_Notification.renderWin=function(e){var t=util_Dom.getElement(share_window_Notification.render());share_window_Injector.injectWinSources(e,t),share_window_Notification.windowEl=util_Dom.query(".window.error.offline-win",t)[0],share_window_Notification.confirmBtn=util_Dom.query('[type="submit"]',t)[0],share_window_Notification.cancelBtn=util_Dom.query('[type="reset"]',t)[0],share_window_Notification.msgEl=util_Dom.query(".message",t)[0],share_window_Notification.detailsEl=util_Dom.query(".details",t)[0],share_window_Notification.toggler=util_Dom.query("#inc-offline-win",t)[0]},share_window_Notification.showNotification=function(e,t,n,r){return null==n&&(n=!1),null==r&&(r={}),null==r.confirm&&(r.confirm="OK"),null==r.cancel&&(r.cancel="Abbrechen"),null==r.details&&(r.details=""),tink_core__$Future_Future_$Impl_$.async(function(i){share_window_Notification.confirm(e,t,n,r).handle(function(e){e&&i(tink_core_Noise.Noise)})})},share_window_Notification.confirm=function(e,t,n,r){null==n&&(n=!1),null==r&&(r={}),null==r.confirm&&(r.confirm="OK"),null==r.cancel&&(r.cancel="Abbrechen"),null==r.details&&(r.details=""),null==share_window_Notification.windowEl&&share_window_Notification.renderWin(e),share_window_Notification.msgEl.innerHTML=t,share_window_Notification.cancelBtn.classList.toggle("hidden",!n),share_window_Notification.cancelBtn.value=r.cancel,share_window_Notification.confirmBtn.value=r.confirm,share_window_Notification.detailsEl.innerHTML=r.details,share_window_Notification.toggler.checked=!0;for(var i=new tink_core_FutureTrigger,o=0,a=[share_window_Notification.confirmBtn,share_window_Notification.cancelBtn];o<a.length;){var s=[a[o]];++o,util_Dom.once(s[0],"click",tink_core__$Callback_Callback_$Impl_$.fromNiladic(function(e){return function(){i.trigger(e[0]==share_window_Notification.confirmBtn),share_window_Notification.toggler.checked=!1}}(s)))}return i},share_window_Notification.render=function(){var e=tink_template__$Html_Html_$Impl_$.buffer(),t="\r\n  <div>\r\n  ";e.s+=t,e.s+=share_window_Notification.STYLE;var n='\r\n  <input id="inc-offline-win" type="checkbox" class="toggler hidden">\r\n  <div class="window error offline-win">\r\n    <div class="view">\r\n      <div class="title">\r\n        <p>Achtung</p>\r\n      </div>\r\n      <div class="content">\r\n        <p class="message">Das gewnschte Material steht nur Online zur Verfgung. Bitte stellen Sie eine Internetverbindung her.</p>\r\n        <div class="field">\r\n          <input type="submit" value="OK">\r\n          <input type="reset" value="Abbrechen">\r\n        </div>\r\n        <div class="details"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n';e.s+=n;var r=e.s;return r},share_window_Notification.annoError=function(e,t){null==t&&(t="support@klett.de");var n=tink_template__$Html_Html_$Impl_$.buffer(),r='\r\n  <input type="checkbox" class="hidden toggler" id="inc-show-error-details">\r\n  <label class="dua-info" for="inc-show-error-details"></label>\r\n  <p>Code Nr. ';n.s+=r;var i=tink_template__$Html_Html_$Impl_$.escape(e.code);n.s+=i;var o='</p>\r\n  <p>Bei Fragen wenden Sie sich an <a href="mailto:';n.s+=o;var a=tink_template__$Html_Html_$Impl_$.escape(t);n.s+=a;var s='">';n.s+=s;var l=tink_template__$Html_Html_$Impl_$.escape(t);n.s+=l;var u="</a></p>\r\n";n.s+=u;var c=n.s;return c};var tink_core_Annex=function(e){this.target=e,
this.registry=new haxe_ds_ObjectMap};tink_core_Annex.__name__=!0,tink_core_Annex.prototype={target:null,registry:null,__class__:tink_core_Annex};var tink_core__$Any_Any_$Impl_$={};tink_core__$Any_Any_$Impl_$.__name__=!0,tink_core__$Any_Any_$Impl_$.__promote=function(e){return e};var tink_core__$Callback_Callback_$Impl_$={};tink_core__$Callback_Callback_$Impl_$.__name__=!0,tink_core__$Callback_Callback_$Impl_$._new=function(e){var t=e;return t},tink_core__$Callback_Callback_$Impl_$.toFunction=function(e){return e},tink_core__$Callback_Callback_$Impl_$.invoke=function(e,t){e(t)},tink_core__$Callback_Callback_$Impl_$.ignore=function(e){return tink_core__$Callback_Callback_$Impl_$.fromNiladic(function(){e(tink_core_Noise.Noise)})},tink_core__$Callback_Callback_$Impl_$.fromNiladic=function(e){var t=function(t){e()};return t},tink_core__$Callback_Callback_$Impl_$.fromMany=function(e){return function(t){for(var n=0;n<e.length;){var r=e[n];++n,r(t)}}},tink_core__$Callback_Callback_$Impl_$.defer=function(e){haxe_Timer.delay(e,0)};var tink_core__$Callback_LinkObject=function(){};tink_core__$Callback_LinkObject.__name__=!0,tink_core__$Callback_LinkObject.prototype={dissolve:null,__class__:tink_core__$Callback_LinkObject};var tink_core__$Callback_CallbackLink_$Impl_$={};tink_core__$Callback_CallbackLink_$Impl_$.__name__=!0,tink_core__$Callback_CallbackLink_$Impl_$._new=function(e){var t=new tink_core__$Callback_SimpleLink(e);return t},tink_core__$Callback_CallbackLink_$Impl_$.dissolve=function(e){null!=e&&e.dissolve()},tink_core__$Callback_CallbackLink_$Impl_$.toCallback=function(e){return function(t){e.dissolve()}},tink_core__$Callback_CallbackLink_$Impl_$.fromFunction=function(e){var t=new tink_core__$Callback_SimpleLink(e);return t},tink_core__$Callback_CallbackLink_$Impl_$.join=function(e,t){return new tink_core__$Callback_LinkPair(e,t)},tink_core__$Callback_CallbackLink_$Impl_$.fromMany=function(e){var t=new tink_core__$Callback_SimpleLink(function(){for(var t=0;t<e.length;){var n=e[t];++t,null!=n&&n.dissolve()}});return t};var tink_core__$Callback_SimpleLink=function(e){this.f=e};tink_core__$Callback_SimpleLink.__name__=!0,tink_core__$Callback_SimpleLink.__interfaces__=[tink_core__$Callback_LinkObject],tink_core__$Callback_SimpleLink.prototype={f:null,dissolve:function(){null!=this.f&&this.f()},__class__:tink_core__$Callback_SimpleLink};var tink_core__$Callback_LinkPair=function(e,t){this.dissolved=!1,this.a=e,this.b=t};tink_core__$Callback_LinkPair.__name__=!0,tink_core__$Callback_LinkPair.__interfaces__=[tink_core__$Callback_LinkObject],tink_core__$Callback_LinkPair.prototype={a:null,b:null,dissolved:null,dissolve:function(){if(!this.dissolved){this.dissolved=!0;var e=this.a;null!=e&&e.dissolve();var t=this.b;null!=t&&t.dissolve()}},__class__:tink_core__$Callback_LinkPair};var tink_core__$Callback_ListCell=function(e,t){if(null==e)throw new js__$Boot_HaxeError("callback expected but null received");this.cb=e,this.list=t};tink_core__$Callback_ListCell.__name__=!0,tink_core__$Callback_ListCell.__interfaces__=[tink_core__$Callback_LinkObject],tink_core__$Callback_ListCell.prototype={list:null,cb:null,invoke:function(e){null!=this.cb&&this.cb(e)},clear:function(){this.list=null,this.cb=null},dissolve:function(){var e=this.list;if(null!=e){var t=e;this.clear(),HxOverrides.remove(t,this)}},__class__:tink_core__$Callback_ListCell};var tink_core__$Callback_CallbackList_$Impl_$={};tink_core__$Callback_CallbackList_$Impl_$.__name__=!0,tink_core__$Callback_CallbackList_$Impl_$._new=function(){var e=[];return e},tink_core__$Callback_CallbackList_$Impl_$.get_length=function(e){return e.length},tink_core__$Callback_CallbackList_$Impl_$.add=function(e,t){var n=new tink_core__$Callback_ListCell(t,e);return e.push(n),n},tink_core__$Callback_CallbackList_$Impl_$.invoke=function(e,t){for(var n=0,r=e.slice();n<r.length;){var i=r[n];++n,null!=i.cb&&i.cb(t)}},tink_core__$Callback_CallbackList_$Impl_$.clear=function(e){for(var t=0,n=e.splice(0,e.length);t<n.length;){var r=n[t];++t,r.clear()}};var tink_core_TypedError=function(e,t,n){null==e&&(e=500),this.code=e,this.message=t,this.pos=n,this.exceptionStack=[],this.callStack=[]};tink_core_TypedError.__name__=!0,tink_core_TypedError.withData=function(e,t,n,r){return tink_core_TypedError.typed(e,t,n,r)},tink_core_TypedError.typed=function(e,t,n,r){var i=new tink_core_TypedError(e,t,r);return i.data=n,i},tink_core_TypedError.catchExceptions=function(e,t,n){try{return tink_core_Outcome.Success(e())}catch(r){if(r instanceof js__$Boot_HaxeError&&(r=r.val),js_Boot.__instanceof(r,tink_core_TypedError)){var i=r;return tink_core_Outcome.Failure(i)}var o=r;return tink_core_Outcome.Failure(null==t?tink_core_TypedError.withData(null,"Unexpected Error",o,n):t(o))}},tink_core_TypedError.reporter=function(e,t,n){return function(r){return tink_core_TypedError.withData(e,t,r,n)}},tink_core_TypedError.rethrow=function(e){throw js__$Boot_HaxeError.wrap(e)},tink_core_TypedError.prototype={message:null,code:null,data:null,pos:null,callStack:null,exceptionStack:null,printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var e="Error#"+this.code+": "+this.message;return null!=this.pos&&(e+=" @ "+this.printPos()),e},throwSelf:function(){throw new js__$Boot_HaxeError(this)},__class__:tink_core_TypedError};var tink_core__$Error_Stack_$Impl_$={};tink_core__$Error_Stack_$Impl_$.__name__=!0,tink_core__$Error_Stack_$Impl_$.toString=function(e){return haxe_CallStack.toString(e)};var tink_core__$Future_FutureObject=function(){};tink_core__$Future_FutureObject.__name__=!0,tink_core__$Future_FutureObject.prototype={map:null,flatMap:null,handle:null,gather:null,eager:null,__class__:tink_core__$Future_FutureObject};var tink_core__$Future_NeverFuture=function(){};tink_core__$Future_NeverFuture.__name__=!0,tink_core__$Future_NeverFuture.__interfaces__=[tink_core__$Future_FutureObject],tink_core__$Future_NeverFuture.prototype={map:function(e){return tink_core__$Future_NeverFuture.inst},flatMap:function(e){return tink_core__$Future_NeverFuture.inst},handle:function(e){return null},gather:function(){return tink_core__$Future_NeverFuture.inst},eager:function(){return tink_core__$Future_NeverFuture.inst},__class__:tink_core__$Future_NeverFuture};var tink_core_Noise={__ename__:!0,__constructs__:["Noise"]};tink_core_Noise.Noise=["Noise",0],tink_core_Noise.Noise.toString=$estr,tink_core_Noise.Noise.__enum__=tink_core_Noise;var tink_core__$Lazy_LazyObject=function(){};tink_core__$Lazy_LazyObject.__name__=!0,tink_core__$Lazy_LazyObject.prototype={get:null,map:null,flatMap:null,__class__:tink_core__$Lazy_LazyObject};var tink_core__$Lazy_LazyConst=function(e){this.value=e};tink_core__$Lazy_LazyConst.__name__=!0,tink_core__$Lazy_LazyConst.__interfaces__=[tink_core__$Lazy_LazyObject],tink_core__$Lazy_LazyConst.prototype={value:null,get:function(){return this.value},map:function(e){return new tink_core__$Lazy_LazyConst(e(this.value))},flatMap:function(e){return e(this.value)},__class__:tink_core__$Lazy_LazyConst};var tink_core__$Future_SyncFuture=function(e){this.value=e};tink_core__$Future_SyncFuture.__name__=!0,tink_core__$Future_SyncFuture.__interfaces__=[tink_core__$Future_FutureObject],tink_core__$Future_SyncFuture.prototype={value:null,map:function(e){return new tink_core__$Future_SyncFuture(this.value.map(e))},flatMap:function(e){var t=this.value.map(e);return new tink_core__$Future_SimpleFuture(function(e){return t.get().handle(e)})},handle:function(e){return e(this.value.get()),null},eager:function(){return this},gather:function(){return this},__class__:tink_core__$Future_SyncFuture};var tink_core__$Future_Future_$Impl_$={};tink_core__$Future_Future_$Impl_$.__name__=!0,tink_core__$Future_Future_$Impl_$._new=function(e){var t=new tink_core__$Future_SimpleFuture(e);return t},tink_core__$Future_Future_$Impl_$.first=function(e,t){var n=new tink_core_FutureTrigger,r=e.handle($bind(n,n.trigger)),i=t.handle($bind(n,n.trigger)),o=n;if(null!=r){var a=r;o.handle(function(e){a.dissolve()})}if(null!=i){var s=i;o.handle(function(e){s.dissolve()})}return o},tink_core__$Future_Future_$Impl_$.map=function(e,t,n){null==n&&(n=!0);var r=e.map(t);return n?r.gather():r},tink_core__$Future_Future_$Impl_$.flatMap=function(e,t,n){null==n&&(n=!0);var r=e.flatMap(t);return n?r.gather():r},tink_core__$Future_Future_$Impl_$.next=function(e,t){return e.flatMap(function(e){return t(e)})},tink_core__$Future_Future_$Impl_$.merge=function(e,t,n,r){null==r&&(r=!0);var i=e.flatMap(function(e){var r=t.map(function(t){return n(e,t)});return r});return r?i.gather():i},tink_core__$Future_Future_$Impl_$.flatten=function(e){return new tink_core__$Future_NestedFuture(e)},tink_core__$Future_Future_$Impl_$.ofJsPromise=function(e){return tink_core__$Future_Future_$Impl_$.async(function(t){e.then(function(e){t(tink_core_Outcome.Success(e))})["catch"](function(e){var n=tink_core_Outcome.Failure(tink_core_TypedError.withData(null,e.message,e,{fileName:"Future.hx",lineNumber:77,className:"tink.core._Future.Future_Impl_",methodName:"ofJsPromise"}));t(n)})})},tink_core__$Future_Future_$Impl_$.asPromise=function(e){return e},tink_core__$Future_Future_$Impl_$.ofMany=function(e,t){null==t&&(t=!0);for(var n=new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst([])),r=0;r<e.length;){var i=[e[r]];++r;var o=n.flatMap(function(e){return function(t){var n=function(){return function(e){return t.concat([e])}}(),r=e[0].map(n);return r}}(i));n=o}return t?n.gather():n},tink_core__$Future_Future_$Impl_$.fromMany=function(e){return tink_core__$Future_Future_$Impl_$.ofMany(e)},tink_core__$Future_Future_$Impl_$.lazy=function(e){return new tink_core__$Future_SyncFuture(e)},tink_core__$Future_Future_$Impl_$.sync=function(e){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e))},tink_core__$Future_Future_$Impl_$.async=function(e,t){if(null==t&&(t=!1),t){var n=e;return tink_core__$Future_Future_$Impl_$.flatten(new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyFunc(function(){return tink_core__$Future_Future_$Impl_$.async(n,!1)})))}var r=new tink_core_FutureTrigger;return e($bind(r,r.trigger)),r},tink_core__$Future_Future_$Impl_$.or=function(e,t){return tink_core__$Future_Future_$Impl_$.first(e,t)},tink_core__$Future_Future_$Impl_$.either=function(e,t){var n=e.map(haxe_ds_Either.Left),r=t.map(haxe_ds_Either.Right);return tink_core__$Future_Future_$Impl_$.first(n,r)},tink_core__$Future_Future_$Impl_$.and=function(e,t){return tink_core__$Future_Future_$Impl_$.merge(e,t,function(e,t){var n=new tink_core_MPair(e,t);return n})},tink_core__$Future_Future_$Impl_$._tryFailingFlatMap=function(e,t){var n=e.flatMap(function(e){switch(e[1]){case 0:var n=e[2];return t(n);case 1:var r=e[2];return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(tink_core_Outcome.Failure(r)))}});return n.gather()},tink_core__$Future_Future_$Impl_$._tryFlatMap=function(e,t){var n=e.flatMap(function(e){switch(e[1]){case 0:var n=e[2],r=t(n).map(tink_core_Outcome.Success);return r.gather();case 1:var i=e[2];return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(tink_core_Outcome.Failure(i)))}});return n.gather()},tink_core__$Future_Future_$Impl_$._tryFailingMap=function(e,t){var n=e.map(function(e){return tink_core_OutcomeTools.flatMap(e,tink_core__$Outcome_OutcomeMapper_$Impl_$.withSameError(t))});return n.gather()},tink_core__$Future_Future_$Impl_$._tryMap=function(e,t){var n=e.map(function(e){return tink_core_OutcomeTools.map(e,t)});return n.gather()},tink_core__$Future_Future_$Impl_$._flatMap=function(e,t){var n=e.flatMap(t);return n.gather()},tink_core__$Future_Future_$Impl_$._map=function(e,t){var n=e.map(t);return n.gather()},tink_core__$Future_Future_$Impl_$.trigger=function(){return new tink_core_FutureTrigger};var tink_core__$Future_Futuristic_$Impl_$={};tink_core__$Future_Futuristic_$Impl_$.__name__=!0,tink_core__$Future_Futuristic_$Impl_$.ofAny=function(e){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e))};var tink_core__$Future_SimpleFuture=function(e){this.f=e};tink_core__$Future_SimpleFuture.__name__=!0,tink_core__$Future_SimpleFuture.__interfaces__=[tink_core__$Future_FutureObject],tink_core__$Future_SimpleFuture.prototype={f:null,gathered:null,handle:function(e){return this.f(e)},map:function(e){var t=this;return new tink_core__$Future_SimpleFuture(function(n){return t.f(function(t){var r=e(t);n(r)})})},flatMap:function(e){var t=e,n=this;return tink_core__$Future_Future_$Impl_$.flatten(new tink_core__$Future_SimpleFuture(function(e){return n.f(function(n){var r=t(n);e(r)})}))},gather:function(){return tink_core_FutureTrigger.gatherFuture(this)},eager:function(){var e=tink_core_FutureTrigger.gatherFuture(this);return e.handle(tink_core__$Callback_Callback_$Impl_$.fromNiladic(function(){})),e},__class__:tink_core__$Future_SimpleFuture};var tink_core__$Future_NestedFuture=function(e){this.outer=e};tink_core__$Future_NestedFuture.__name__=!0,tink_core__$Future_NestedFuture.__interfaces__=[tink_core__$Future_FutureObject],tink_core__$Future_NestedFuture.prototype={outer:null,map:function(e){var t=this.outer.flatMap(function(t){var n=t.map(e);return n.gather()});return t.gather()},flatMap:function(e){var t=this.outer.flatMap(function(t){var n=t.flatMap(e);return n.gather()});return t.gather()},gather:function(){return tink_core_FutureTrigger.gatherFuture(this)},eager:function(){var e=tink_core_FutureTrigger.gatherFuture(this);return e.handle(tink_core__$Callback_Callback_$Impl_$.fromNiladic(function(){})),e},handle:function(e){var t=null;return t=this.outer.handle(function(n){t=n.handle(function(t){e(t)})})},__class__:tink_core__$Future_NestedFuture};var tink_core_FutureTrigger=function(){var e=[];this.list=e};tink_core_FutureTrigger.__name__=!0,tink_core_FutureTrigger.__interfaces__=[tink_core__$Future_FutureObject],tink_core_FutureTrigger.gatherFuture=function(e){var t=null,n=new tink_core__$Future_SimpleFuture(function(n){return null==t&&(t=new tink_core_FutureTrigger,e.handle($bind(t,t.trigger)),e=null),t.handle(n)});return n},tink_core_FutureTrigger.prototype={result:null,list:null,handle:function(e){var t=this.list;if(null==t)return e(this.result),null;var n=t;return tink_core__$Callback_CallbackList_$Impl_$.add(n,e)},map:function(e){var t=this.list;if(null==t)return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e(this.result)));var n=new tink_core_FutureTrigger;return tink_core__$Callback_CallbackList_$Impl_$.add(this.list,function(t){var r=e(t);n.trigger(r)}),n},flatMap:function(e){var t=this.list;if(null==t)return e(this.result);var n=new tink_core_FutureTrigger;return tink_core__$Callback_CallbackList_$Impl_$.add(this.list,function(t){e(t).handle($bind(n,n.trigger))}),n},gather:function(){return this},eager:function(){return this},asFuture:function(){return this},trigger:function(e){if(null==this.list)return!1;var t=this.list;return this.list=null,this.result=e,tink_core_FutureTrigger.depth>=1e3?tink_core__$Callback_Callback_$Impl_$.defer(function(){tink_core_FutureTrigger.depth++,tink_core__$Callback_CallbackList_$Impl_$.invoke(t,e),tink_core__$Callback_CallbackList_$Impl_$.clear(t),tink_core_FutureTrigger.depth--}):(tink_core_FutureTrigger.depth++,tink_core__$Callback_CallbackList_$Impl_$.invoke(t,e),tink_core__$Callback_CallbackList_$Impl_$.clear(t),tink_core_FutureTrigger.depth--),!0},__class__:tink_core_FutureTrigger};var tink_core_JsPromiseTools=function(){};tink_core_JsPromiseTools.__name__=!0,tink_core_JsPromiseTools.toSurprise=function(e){return tink_core__$Future_Future_$Impl_$.ofJsPromise(e)},tink_core_JsPromiseTools.toPromise=function(e){return tink_core__$Future_Future_$Impl_$.ofJsPromise(e)};var tink_core__$Lazy_Lazy_$Impl_$={};tink_core__$Lazy_Lazy_$Impl_$.__name__=!0,tink_core__$Lazy_Lazy_$Impl_$.get=function(e){return e.get()},tink_core__$Lazy_Lazy_$Impl_$.ofFunc=function(e){return new tink_core__$Lazy_LazyFunc(e)},tink_core__$Lazy_Lazy_$Impl_$.map=function(e,t){return e.map(t)},tink_core__$Lazy_Lazy_$Impl_$.flatMap=function(e,t){return e.flatMap(t)},tink_core__$Lazy_Lazy_$Impl_$.ofConst=function(e){return new tink_core__$Lazy_LazyConst(e)};var tink_core__$Lazy_LazyFunc=function(e){this.f=e};tink_core__$Lazy_LazyFunc.__name__=!0,tink_core__$Lazy_LazyFunc.__interfaces__=[tink_core__$Lazy_LazyObject],tink_core__$Lazy_LazyFunc.prototype={f:null,result:null,get:function(){return null!=this.f&&(this.result=this.f(),this.f=null),this.result},map:function(e){var t=this;return new tink_core__$Lazy_LazyFunc(function(){var n=t.get();return e(n)})},flatMap:function(e){var t=this;return new tink_core__$Lazy_LazyFunc(function(){var n=t.get();return e(n).get()})},__class__:tink_core__$Lazy_LazyFunc};var tink_core_NamedWith=function(e,t){this.name=e,this.value=t};tink_core_NamedWith.__name__=!0,tink_core_NamedWith.prototype={name:null,value:null,__class__:tink_core_NamedWith};var tink_core_OptionTools=function(){};tink_core_OptionTools.__name__=!0,tink_core_OptionTools.force=function(e,t){if(0==e[1]){var n=e[2];return n}throw new js__$Boot_HaxeError(new tink_core_TypedError(404,"Some value expected but none found",t))},tink_core_OptionTools.or=function(e,t){if(0==e[1]){var n=e[2];return n}return t.get()},tink_core_OptionTools.orNull=function(e){if(0==e[1]){var t=e[2];return t}return null},tink_core_OptionTools.filter=function(e,t){if(0==e[1]){var n=t(e[2]);return 0==n?haxe_ds_Option.None:e}return e},tink_core_OptionTools.satisfies=function(e,t){if(0==e[1]){var n=e[2];return t(n)}return!1},tink_core_OptionTools.equals=function(e,t){if(0==e[1]){var n=e[2];return n==t}return!1},tink_core_OptionTools.map=function(e,t){if(0==e[1]){var n=e[2];return haxe_ds_Option.Some(t(n))}return haxe_ds_Option.None},tink_core_OptionTools.flatMap=function(e,t){if(0==e[1]){var n=e[2];return t(n)}return haxe_ds_Option.None},tink_core_OptionTools.iterator=function(e){return new tink_core_OptionIter(e)},tink_core_OptionTools.toArray=function(e){if(0==e[1]){var t=e[2];return[t]}return[]};var tink_core_OptionIter=function(e){if(this.alive=!0,0==e[1]){var t=e[2];this.value=t}else this.alive=!1};tink_core_OptionIter.__name__=!0,tink_core_OptionIter.prototype={value:null,alive:null,hasNext:function(){return this.alive},next:function(){return this.alive=!1,this.value},__class__:tink_core_OptionIter};var tink_core_Outcome={__ename__:!0,__constructs__:["Success","Failure"]};tink_core_Outcome.Success=function(e){var t=["Success",0,e];return t.__enum__=tink_core_Outcome,t.toString=$estr,t},tink_core_Outcome.Failure=function(e){var t=["Failure",1,e];return t.__enum__=tink_core_Outcome,t.toString=$estr,t};var tink_core_OutcomeTools=function(){};tink_core_OutcomeTools.__name__=!0,tink_core_OutcomeTools.sure=function(e){switch(e[1]){case 0:var t=e[2];return t;case 1:var n=e[2];if(js_Boot.__instanceof(n,tink_core_TypedError))return n.throwSelf();throw new js__$Boot_HaxeError(n)}},tink_core_OutcomeTools.toOption=function(e){switch(e[1]){case 0:var t=e[2];return haxe_ds_Option.Some(t);case 1:return haxe_ds_Option.None}},tink_core_OutcomeTools.toOutcome=function(e,t){switch(e[1]){case 0:var n=e[2];return tink_core_Outcome.Success(n);case 1:return tink_core_Outcome.Failure(new tink_core_TypedError(404,"Some value expected but none found in "+t.fileName+"@line "+t.lineNumber,{fileName:"Outcome.hx",lineNumber:47,className:"tink.core.OutcomeTools",methodName:"toOutcome"}))}},tink_core_OutcomeTools.orNull=function(e){switch(e[1]){case 0:var t=e[2];return t;case 1:return null}},tink_core_OutcomeTools.orUse=function(e,t){switch(e[1]){case 0:var n=e[2];return n;case 1:return t.get()}},tink_core_OutcomeTools.orTry=function(e,t){switch(e[1]){case 0:return e;case 1:return t.get()}},tink_core_OutcomeTools.equals=function(e,t){switch(e[1]){case 0:var n=e[2];return n==t;case 1:return!1}},tink_core_OutcomeTools.map=function(e,t){switch(e[1]){case 0:var n=e[2];return tink_core_Outcome.Success(t(n));case 1:var r=e[2];return tink_core_Outcome.Failure(r)}},tink_core_OutcomeTools.isSuccess=function(e){return 0==e[1]},tink_core_OutcomeTools.flatMap=function(e,t){return tink_core__$Outcome_OutcomeMapper_$Impl_$.apply(t,e)},tink_core_OutcomeTools.swap=function(e,t){switch(e[1]){case 0:e[2];return tink_core_Outcome.Success(t);case 1:var n=e[2];return tink_core_Outcome.Failure(n)}},tink_core_OutcomeTools.attempt=function(e,t){try{return tink_core_Outcome.Success(e())}catch(n){return n instanceof js__$Boot_HaxeError&&(n=n.val),tink_core_Outcome.Failure(t(n))}},tink_core_OutcomeTools.flatten=function(e){switch(e[1]){case 0:switch(e[2][1]){case 0:var t=e[2][2];return tink_core_Outcome.Success(t);case 1:var n=e[2][2];return tink_core_Outcome.Failure(n)}break;case 1:var r=e[2];return tink_core_Outcome.Failure(r)}};var tink_core__$Outcome_OutcomeMapper_$Impl_$={};tink_core__$Outcome_OutcomeMapper_$Impl_$.__name__=!0,tink_core__$Outcome_OutcomeMapper_$Impl_$._new=function(e){var t={f:e};return t},tink_core__$Outcome_OutcomeMapper_$Impl_$.apply=function(e,t){return e.f(t)},tink_core__$Outcome_OutcomeMapper_$Impl_$.withSameError=function(e){return tink_core__$Outcome_OutcomeMapper_$Impl_$._new(function(t){switch(t[1]){case 0:var n=t[2];return e(n);case 1:var r=t[2];return tink_core_Outcome.Failure(r)}})},tink_core__$Outcome_OutcomeMapper_$Impl_$.withEitherError=function(e){return tink_core__$Outcome_OutcomeMapper_$Impl_$._new(function(t){switch(t[1]){case 0:var n=t[2],r=e(n);switch(r[1]){case 0:var i=r[2];return tink_core_Outcome.Success(i);case 1:var o=r[2];return tink_core_Outcome.Failure(haxe_ds_Either.Right(o))}break;case 1:var a=t[2];return tink_core_Outcome.Failure(haxe_ds_Either.Left(a))}})};var tink_core__$Pair_Pair_$Impl_$={};tink_core__$Pair_Pair_$Impl_$.__name__=!0,tink_core__$Pair_Pair_$Impl_$._new=function(e,t){var n=new tink_core_MPair(e,t);return n},tink_core__$Pair_Pair_$Impl_$.get_a=function(e){return e.a},tink_core__$Pair_Pair_$Impl_$.get_b=function(e){return e.b},tink_core__$Pair_Pair_$Impl_$.toBool=function(e){return null!=e},tink_core__$Pair_Pair_$Impl_$.isNil=function(e){return null==e},tink_core__$Pair_Pair_$Impl_$.nil=function(){return null};var tink_core_MPair=function(e,t){this.a=e,this.b=t};tink_core_MPair.__name__=!0,tink_core_MPair.prototype={a:null,b:null,__class__:tink_core_MPair};var tink_core__$Promise_Promise_$Impl_$={};tink_core__$Promise_Promise_$Impl_$.__name__=!0,tink_core__$Promise_Promise_$Impl_$.eager=function(e){return e.eager()},tink_core__$Promise_Promise_$Impl_$.map=function(e,t){var n=e.map(t);return n.gather()},tink_core__$Promise_Promise_$Impl_$.flatMap=function(e,t){var n=e.flatMap(t);return n.gather()},tink_core__$Promise_Promise_$Impl_$.tryRecover=function(e,t){var n=e.flatMap(function(e){switch(e[1]){case 0:e[2];return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e));case 1:var n=e[2];return t(n)}});return n.gather()},tink_core__$Promise_Promise_$Impl_$.recover=function(e,t){var n=e.flatMap(function(e){switch(e[1]){case 0:var n=e[2];return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(n));case 1:var r=e[2];return t(r)}});return n.gather()},tink_core__$Promise_Promise_$Impl_$.handle=function(e,t){return e.handle(t)},tink_core__$Promise_Promise_$Impl_$.noise=function(e){return tink_core__$Promise_Promise_$Impl_$.next(e,function(e){return tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Success(tink_core_Noise.Noise))})},tink_core__$Promise_Promise_$Impl_$.next=function(e,t,n){null==n&&(n=!0);var r=e.flatMap(function(e){switch(e[1]){case 0:var n=e[2];return t(n);case 1:var r=e[2];return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(tink_core_Outcome.Failure(r)))}});return n?r.gather():r},tink_core__$Promise_Promise_$Impl_$.swap=function(e,t){return tink_core__$Future_Future_$Impl_$._tryMap(e,function(e){return t})},tink_core__$Promise_Promise_$Impl_$.merge=function(e,t,n,r){return null==r&&(r=!0),tink_core__$Promise_Promise_$Impl_$.next(e,function(e){return tink_core__$Promise_Promise_$Impl_$.next(t,function(t){return n(e,t)},!1)},r)},tink_core__$Promise_Promise_$Impl_$.and=function(e,t){return tink_core__$Promise_Promise_$Impl_$.merge(e,t,function(e,t){var n=new tink_core_MPair(e,t);return tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Success(n))})},tink_core__$Promise_Promise_$Impl_$.ofSpecific=function(e){return e},tink_core__$Promise_Promise_$Impl_$.ofFuture=function(e){var t=e.map(tink_core_Outcome.Success);return t.gather()},tink_core__$Promise_Promise_$Impl_$.ofOutcome=function(e){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e))},tink_core__$Promise_Promise_$Impl_$.ofError=function(e){return tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Failure(e))},tink_core__$Promise_Promise_$Impl_$.ofData=function(e){return tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Success(e))},tink_core__$Promise_Promise_$Impl_$.inParallel=function(e,t){return tink_core__$Future_Future_$Impl_$.async(function(t){for(var n=[],r=e.length,i=null,o=!1,a=function(e){null==i?o=!0:null!=i&&i.dissolve(),t(e)},s=function(e){a(tink_core_Outcome.Failure(e))},l=function(e,t){n[e]=t,0==(r-=1)&&a(tink_core_Outcome.Success(n))},u=[],c=0,f=e.length;c<f;){var h=[c++];if(o)break;var d=h[0],p=function(e){return function(t){switch(t[1]){case 0:var n=t[2];l(e[0],n);break;case 1:var r=t[2];s(r)}}}(h);u.push(e[d].handle(p))}i=tink_core__$Callback_CallbackLink_$Impl_$.fromMany(u),o&&null!=i&&i.dissolve()},t)},tink_core__$Promise_Promise_$Impl_$.inSequence=function(e){var t=null;t=function(n){return n==e.length?tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Success([])):tink_core__$Promise_Promise_$Impl_$.next(e[n],function(e){return tink_core__$Promise_Promise_$Impl_$.next(t(n+1),function(t){return tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Success([e].concat(t)))})})};var n=t;return n(0)},tink_core__$Promise_Promise_$Impl_$.lift=function(e){return e};var tink_core__$Promise_Next_$Impl_$={};tink_core__$Promise_Next_$Impl_$.__name__=!0,tink_core__$Promise_Next_$Impl_$.ofSafe=function(e){return function(t){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e(t)))}},tink_core__$Promise_Next_$Impl_$.ofSync=function(e){return function(t){var n=e(t).map(tink_core_Outcome.Success);return n.gather()}},tink_core__$Promise_Next_$Impl_$.ofSafeSync=function(e){return function(t){return tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Success(e(t)))}},tink_core__$Promise_Next_$Impl_$._chain=function(e,t){return function(n){return tink_core__$Promise_Promise_$Impl_$.next(e(n),t)}};var tink_core__$Promise_Recover_$Impl_$={};tink_core__$Promise_Recover_$Impl_$.__name__=!0,tink_core__$Promise_Recover_$Impl_$.ofSync=function(e){return function(t){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e(t)))}};var tink_core__$Promise_Combiner_$Impl_$={};tink_core__$Promise_Combiner_$Impl_$.__name__=!0,tink_core__$Promise_Combiner_$Impl_$.ofSafe=function(e){return function(t,n){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e(t,n)))}},tink_core__$Promise_Combiner_$Impl_$.ofSync=function(e){return function(t,n){var r=e(t,n).map(tink_core_Outcome.Success);return r.gather()}},tink_core__$Promise_Combiner_$Impl_$.ofSafeSync=function(e){return function(t,n){return tink_core__$Promise_Promise_$Impl_$.ofOutcome(tink_core_Outcome.Success(e(t,n)))}};var tink_core__$Ref_Ref_$Impl_$={};tink_core__$Ref_Ref_$Impl_$.__name__=!0,tink_core__$Ref_Ref_$Impl_$._new=function(){var e,t=new Array(1);return e=t},tink_core__$Ref_Ref_$Impl_$.get_value=function(e){return e[0]},tink_core__$Ref_Ref_$Impl_$.set_value=function(e,t){return e[0]=t},tink_core__$Ref_Ref_$Impl_$.toString=function(e){return"@["+Std.string(e[0])+"]"},tink_core__$Ref_Ref_$Impl_$.to=function(e){var t,n=new Array(1);t=n;var r=t;return r[0]=e,r};var tink_core__$Signal_Signal_$Impl_$={};tink_core__$Signal_Signal_$Impl_$.__name__=!0,tink_core__$Signal_Signal_$Impl_$._new=function(e){var t=new tink_core__$Signal_SimpleSignal(e);return t},tink_core__$Signal_Signal_$Impl_$.map=function(e,t,n){null==n&&(n=!0);var r=new tink_core__$Signal_SimpleSignal(function(n){return e.handle(function(e){var r=t(e);n(r)})}),i=r;return n?tink_core__$Signal_Signal_$Impl_$.gather(i):i},tink_core__$Signal_Signal_$Impl_$.flatMap=function(e,t,n){null==n&&(n=!0);var r=new tink_core__$Signal_SimpleSignal(function(n){return e.handle(function(e){t(e).handle(n)})}),i=r;return n?tink_core__$Signal_Signal_$Impl_$.gather(i):i},tink_core__$Signal_Signal_$Impl_$.filter=function(e,t,n){null==n&&(n=!0);var r=new tink_core__$Signal_SimpleSignal(function(n){return e.handle(function(e){t(e)&&n(e)})}),i=r;return n?tink_core__$Signal_Signal_$Impl_$.gather(i):i},tink_core__$Signal_Signal_$Impl_$.join=function(e,t,n){null==n&&(n=!0);var r=new tink_core__$Signal_SimpleSignal(function(n){return new tink_core__$Callback_LinkPair(e.handle(n),t.handle(n))}),i=r;return n?tink_core__$Signal_Signal_$Impl_$.gather(i):i},tink_core__$Signal_Signal_$Impl_$.next=function(e){var t=new tink_core_FutureTrigger,n=null,r=!1;return n=e.handle(function(e){t.trigger(e),null==n?r=!0:null!=n&&n.dissolve()}),r&&null!=n&&n.dissolve(),t},tink_core__$Signal_Signal_$Impl_$.noise=function(e){return tink_core__$Signal_Signal_$Impl_$.map(e,function(e){return tink_core_Noise.Noise})},tink_core__$Signal_Signal_$Impl_$.gather=function(e){var t=tink_core__$Signal_Signal_$Impl_$.trigger();return e.handle(function(e){tink_core__$Callback_CallbackList_$Impl_$.invoke(t.handlers,e)}),t},tink_core__$Signal_Signal_$Impl_$.trigger=function(){return new tink_core_SignalTrigger},tink_core__$Signal_Signal_$Impl_$.ofClassical=function(e,t,n){null==n&&(n=!0);var r=new tink_core__$Signal_SimpleSignal(function(n){var r=function(e){n(e)};e(r);var i,o=t,a=r;return i=new tink_core__$Callback_SimpleLink(function(){o(a)})}),i=r;return n?tink_core__$Signal_Signal_$Impl_$.gather(i):i};var tink_core_SignalObject=function(){};tink_core_SignalObject.__name__=!0,tink_core_SignalObject.prototype={handle:null,__class__:tink_core_SignalObject};var tink_core__$Signal_SimpleSignal=function(e){this.f=e};tink_core__$Signal_SimpleSignal.__name__=!0,tink_core__$Signal_SimpleSignal.__interfaces__=[tink_core_SignalObject],tink_core__$Signal_SimpleSignal.prototype={f:null,handle:function(e){return this.f(e)},__class__:tink_core__$Signal_SimpleSignal};var tink_core_SignalTrigger=function(){var e=[];this.handlers=e};tink_core_SignalTrigger.__name__=!0,tink_core_SignalTrigger.__interfaces__=[tink_core_SignalObject],tink_core_SignalTrigger.prototype={handlers:null,trigger:function(e){tink_core__$Callback_CallbackList_$Impl_$.invoke(this.handlers,e)},getLength:function(){return this.handlers.length},handle:function(e){return tink_core__$Callback_CallbackList_$Impl_$.add(this.handlers,e)},clear:function(){tink_core__$Callback_CallbackList_$Impl_$.clear(this.handlers)},asSignal:function(){return this},__class__:tink_core_SignalTrigger};var tink_lang_Iterate=function(){};tink_lang_Iterate.__name__=!0,tink_lang_Iterate.upto=function(e,t,n){return new tink_lang_IterUpto(e,t,n)},tink_lang_Iterate.downto=function(e,t,n){return new tink_lang_IterDownto(e,t,n)};var tink_lang_IterUpto=function(e,t,n){this.step=e,this.offset=t,this.cur=0,this.max=Math.ceil((n-t)/e)};tink_lang_IterUpto.__name__=!0,tink_lang_IterUpto.prototype={cur:null,max:null,step:null,offset:null,hasNext:function(){return this.cur<this.max},next:function(){return this.offset+this.cur++*this.step},__class__:tink_lang_IterUpto};var tink_lang_IterDownto=function(e,t,n){this.step=e,this.offset=n,this.cur=Math.ceil((t-n)/e)};tink_lang_IterDownto.__name__=!0,tink_lang_IterDownto.prototype={cur:null,step:null,offset:null,hasNext:function(){return this.cur>0},next:function(){return this.offset+--this.cur*this.step},__class__:tink_lang_IterDownto};var tink_macro_DirectType=function(){};
tink_macro_DirectType.__name__=!0;var tink_template__$Html_HtmlBuffer_$Impl_$={};tink_template__$Html_HtmlBuffer_$Impl_$.__name__=!0,tink_template__$Html_HtmlBuffer_$Impl_$._new=function(){var e={s:""};return e},tink_template__$Html_HtmlBuffer_$Impl_$.collapse=function(e){var t=e.s;return t},tink_template__$Html_HtmlBuffer_$Impl_$.toString=function(e){return e.s},tink_template__$Html_HtmlBuffer_$Impl_$.add=function(e,t){e.s+=t};var util_Cache=function(e){this.map=new haxe_ds_StringMap,this.initializer=e};util_Cache.__name__=!0,util_Cache.prototype={map:null,initializer:null,get:function(e){var t=this.map.get(e);if(null==t){var n=this.map,r=this.initializer(e);return n.set(e,r),r}var i=t;return i},__class__:util_Cache};var util_Dom=function(){};util_Dom.__name__=!0,util_Dom.getElement=function(e){return util_Dom.helper.innerHTML=e,util_Dom.helper.firstElementChild},util_Dom.nearest=function(e,t){return util_Dom.parents(e,t)[0]},util_Dom.parents=function(e,t){for(var n=[];null!=e;)null!=$bind(e,e.matches)&&e.matches(t)&&n.push(e),e=null!=e.parentElement?e.parentElement:e.parentNode;return n},util_Dom.transform=function(e,t){e.style.transform=t},util_Dom.query=function(e,t){null==t&&(t=window.document.documentElement);var n,r=t.id;if(null==r)n=t.id="__query__root";else if(""==r)n=t.id="__query__root";else{var i=r;n=i}var o=t.querySelectorAll("#"+n+" "+e);return"__query__root"==t.id&&t.removeAttribute("id"),o},util_Dom.once=function(e,t,n){var r=null;return r=util_Dom.on(e,t,null,function(e){n(e),null!=r&&r.dissolve()})},util_Dom.on=function(e,t,n,r){if(null==n&&(n=!1),null==e){var i=new tink_core__$Callback_SimpleLink(function(){});return i}for(var o=function(e){r(e)},a=function(){for(var r=0,i=t.split(" ");r<i.length;){var a=i[r];++r,e.removeEventListener(a,o,n)}},s=0,l=t.split(" ");s<l.length;){var u=l[s];++s,e.addEventListener(u,o,n)}var c=new tink_core__$Callback_SimpleLink(a);return c},util_Dom.es5ify=function(o){for(var ret={},accessors=new haxe_ds_StringMap,get=function(e){var t=HxOverrides.substr(e,4,null);if(!(null!=__map_reserved[t]?accessors.existsReserved(t):accessors.h.hasOwnProperty(t))){var n={};null!=__map_reserved[t]?accessors.setReserved(t,n):accessors.h[t]=n}return null!=__map_reserved[t]?accessors.getReserved(t):accessors.h[t]},_g=0,_g1=Type.getInstanceFields(null==o?null:js_Boot.getClass(o));_g<_g1.length;){var f=_g1[_g];++_g,Type["typeof"](Reflect.field(o,f))==ValueType.TFunction&&(StringTools.startsWith(f,"get_")?get(f).get=eval("(function (context) { return "+("function () { return context."+f+"() }")+"; })")(o):StringTools.startsWith(f,"set_")?get(f).set=eval("(function (context) { return "+("function (param) { context."+f+"(param); }")+"; })")(o):ret[f]=eval("(function (context) { return "+("function () { return context."+f+".apply(context, arguments); }")+"; })")(o))}for(var __tink_tmp4=accessors,iterator_field=__tink_tmp4.keys();iterator_field.hasNext();){var field1=iterator_field.next(),acc1=null!=__map_reserved[field1]?__tink_tmp4.getReserved(field1):__tink_tmp4.h[field1];Object.defineProperty(ret,field1,acc1)}return ret};var util__$Dom_Query_$Impl_$={};util__$Dom_Query_$Impl_$.__name__=!0,util__$Dom_Query_$Impl_$.toArray=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];++n,t.push(r)}return t},util__$Dom_Query_$Impl_$.get_length=function(e){return e.length},util__$Dom_Query_$Impl_$.get_last=function(e){return e[e.length-1]},util__$Dom_Query_$Impl_$.get=function(e,t){return e[t]},util__$Dom_Query_$Impl_$.on=function(e,t,n,r){return null==n&&(n=!1),util_Dom.on(window.document.body,t,n,function(t){for(var n=0,i=util_Dom.parents(t.target,e);n<i.length;){var o=i[n];if(++n,r({at:o,event:t}),t.defaultPrevented)return}})};var util_Helper=function(){};util_Helper.__name__=!0,util_Helper.debounce=function(e,t,n){var r=util_Helper.timers,i=null!=__map_reserved[e]?r.getReserved(e):r.h[e];null!=i&&i.stop(),i=new haxe_Timer(n),i.run=function(){i.stop(),t()};var o=util_Helper.timers;null!=__map_reserved[e]?o.setReserved(e,i):o.h[e]=i},util_Helper.mergeInto=function(e,t){for(var n=0,r=Reflect.fields(t);n<r.length;){var i=r[n];++n;var o=Reflect.field(t,i);!Reflect.isObject(o)||"string"==typeof o||o instanceof Array&&null==o.__enum__||null==Reflect.field(e,i)?e[i]=o:util_Helper.mergeInto(Reflect.field(e,i),o)}},util_Helper.merge=function(e,t){var n=Reflect.copy(t);return util_Helper.mergeInto(n,e),n};var $_,$fid=0;String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0;var Int={__name__:["Int"]},Dynamic={__name__:["Dynamic"]},Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]},Enum={},__map_reserved={},prefixes=["moz","webkit","ms"],obj=Object,fields=function(e){var t=[];for(var n in e)t.push(n);return t},copy=function(source,target){for(var _g=0,_g1=fields(source);_g<_g1.length;){var f=_g1[_g];++_g;for(var _g2=0;_g2<prefixes.length;){var p=prefixes[_g2];if(++_g2,StringTools.startsWith(f,p)){var name=HxOverrides.substr(f,p.length,1).toLowerCase()+HxOverrides.substr(f,p.length+1,null);null==obj.getOwnPropertyDescriptor(target,name)&&obj.defineProperty(target,name,{get:eval("(function () { return this."+f+"; })"),set:eval("(function (param) { this."+f+" = param; })")})}}}},dummy=window.document.createElement("div");copy(dummy,HTMLElement.prototype),dummy.requestFullScreen&&(HTMLElement.prototype.requestFullscreen=dummy.requestFullScreen),copy(dummy.style,CSSStyleDeclaration.prototype),copy(window.document,window.document),window.document.mozCancelFullScreen&&(window.document.exitFullscreen=window.document.mozCancelFullScreen),null==HTMLElement.prototype.matches&&(HTMLElement.prototype.matches=HTMLElement.prototype.matchesSelector),browser_storage_DataStore.storage=js_Browser.getLocalStorage(),haxe_ds_ObjectMap.count=0,js_Boot.__toStr={}.toString,share_window_Injector.STYLE=function(e){var t,n=tink_template__$Html_Html_$Impl_$.buffer(),r="\r\n<style>\r\n  .inc-windows .window.error .view {\r\n    width: 420px;\r\n  }\r\n  .inc-windows .window.error .view .title {\r\n    background: #FF0000;\r\n  }\r\n  .inc-windows .window.error .view .content {\r\n    background: #dadada;\r\n    color: #333333;\r\n    line-height: 24px;\r\n    min-height: 147px;\r\n  }\r\n  .inc-windows .window.error .view .content p {\r\n    margin-bottom: 1em;\r\n  }\r\n  .inc-windows .window.error .view .content a {\r\n    color: #ff6600;\r\n  }\r\n  .inc-windows .window.error .view .content a:hover {\r\n    color: #ff0000;\r\n  }\r\n\r\n  .inc-windows input.toggler .inc-windows .hidden {\r\n    display: none;\r\n  }\r\n  .inc-windows input.toggler + .window {\r\n    visibility: hidden;\r\n    z-index: -10;\r\n    opacity: 0;\r\n    -webkit-transition: 0.35s all;\r\n    transition: 0.35s all;\r\n  }\r\n  .inc-windows input.toggler:checked + .window {\r\n    visibility: visible;\r\n    z-index: 1001;\r\n    opacity: 1;\r\n  }\r\n  .inc-windows .window {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    padding: 50px;\r\n  }\r\n  .inc-windows .window .view {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n            transform: translate3d(0, 0, 0);\r\n    max-width: 780px;\r\n    margin: 0 auto;\r\n    border-radius: 10px;\r\n  }\r\n  .inc-windows .window .view .title {\r\n    position: relative;\r\n    padding: 15px 35px;\r\n    background: #b3b3b3;\r\n    color: white;\r\n    font-size: 20px;\r\n    clear: both;\r\n  }\r\n  .inc-windows .window .view .content {\r\n    line-height: 24px;\r\n    overflow: auto;\r\n    -webkit-overflow-scrolling: touch;\r\n    color: black;\r\n    padding: 35px;\r\n    background: #e6e6e6;\r\n    min-height: 500px;\r\n  }\r\n  .inc-windows .view .content a {\r\n      color: #ff6600;\r\n  }\r\n  .inc-windows .window .view .title label.dua-close {\r\n      padding-top: 6px;\r\n  }\r\n  .inc-windows .window .view .title label {\r\n      position: absolute;\r\n      text-align: center;\r\n      top: 0;\r\n      right: 0;\r\n      height: 48px;\r\n      line-height: 48px;\r\n      width: 48px;\r\n  }\r\n  </style>\r\n";n.s+=r;var i=n.s;return t=i}(this),share_window_Login.CONTENT=function(e){var t,n=tink_template__$Html_Html_$Impl_$.buffer(),r="\r\n\r\n";n.s+=r;var i=n.s;return t=i}(this),share_window_Notification.STYLE=function(e){var t,n=tink_template__$Html_Html_$Impl_$.buffer(),r='\r\n<style>\r\n  .inc-windows .window.error.offline-win div.field {\r\n    text-align: right;\r\n    margin-bottom: 0;\r\n  }\r\n  .inc-windows .window.error.offline-win div.field input {\r\n    background: #ff6600;\r\n    border: none;\r\n    color: #ffffff;\r\n    font-family: PoloHint;\r\n    font-size: 16px;\r\n    padding: .5em 1em;\r\n    margin-left: 1em;\r\n  }\r\n  .inc-windows .window.error.offline-win div.field input:hover {\r\n    background: #ff0000;\r\n  }\r\n  .inc-windows .window.error.offline-win .details {\r\n    position: relative;\r\n    padding-top: 16px;\r\n    z-index: 10000;\r\n  }\r\n  .inc-windows .window.error.offline-win .details label[for="inc-show-error-details"] {\r\n    color: #ffffff;\r\n    background: #ff6600;\r\n    width: 34px;\r\n    height: 34px;\r\n    line-height: 34px;\r\n    text-align: center;\r\n    color: white;\r\n    display: block;\r\n    position: absolute;\r\n    top: -34px;\r\n    padding-top: 2px;\r\n  }\r\n  .inc-windows .window.error.offline-win .details label[for="inc-show-error-details"]:hover {\r\n    background: #ff0000;\r\n  }\r\n  .inc-windows .window.error.offline-win .details label[for="inc-show-error-details"] ~p {\r\n    display: none;\r\n  }\r\n  .inc-windows .window.error.offline-win .details #inc-show-error-details:checked ~label {\r\n    background: #ff0000;\r\n  }\r\n  .inc-windows .window.error.offline-win .details #inc-show-error-details:checked ~label ~p {\r\n    display: block;\r\n  }\r\n</style>\r\n';n.s+=r;var i=n.s;return t=i}(this),tink_core__$Future_NeverFuture.inst=new tink_core__$Future_NeverFuture,tink_core__$Future_Future_$Impl_$.NOISE=new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(tink_core_Noise.Noise)),tink_core__$Future_Future_$Impl_$.NEVER=tink_core__$Future_NeverFuture.inst,tink_core_FutureTrigger.depth=0,tink_core__$Promise_Promise_$Impl_$.NOISE=new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(tink_core_Outcome.Success(tink_core_Noise.Noise))),tink_core__$Promise_Promise_$Impl_$.NEVER=function(e){var t,n=tink_core__$Future_Future_$Impl_$.NEVER.map(tink_core_Outcome.Success);return t=n.gather()}(this),util_Dom.helper=window.document.createElement("div"),util_Dom.QUERY_ROOT="__query__root",util_Helper.timers=new haxe_ds_StringMap,browser_Boot.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);